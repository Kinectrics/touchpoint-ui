{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/touchpoint-ui/SystemComponents/SystemPopupHandler.js","../src/touchpoint-ui/Contexts/LockedContext.js","../src/touchpoint-ui/Contexts/ModuleContext.js","../src/touchpoint-ui/SystemComponents/SystemModuleContainer.js","../src/touchpoint-ui/Contexts/SystemContext.js","../src/touchpoint-ui/SystemComponents/ThemeEngine.js","../src/touchpoint-ui/Components/Core/TouchPointApp.js","../src/touchpoint-ui/Hooks/UseSystem.js","../src/touchpoint-ui/Hooks/UsePresence.js","../src/touchpoint-ui/Components/Core/AppToolbar.js","../src/touchpoint-ui/Components/Core/AppFooter.js","../src/touchpoint-ui/Components/Inputs/CoreButton.js","../src/touchpoint-ui/Components/Inputs/FreeButton.js","../src/touchpoint-ui/Components/Inputs/Tile.js","../src/touchpoint-ui/Components/Inputs/TextBox.js","../src/touchpoint-ui/Components/Inputs/SearchBar.js","../src/touchpoint-ui/Contexts/RadioContext.js","../src/touchpoint-ui/Components/Inputs/RadioGroup.js","../src/touchpoint-ui/Components/Inputs/RadioButton.js","../src/touchpoint-ui/Components/Inputs/ControlButton.js","../src/touchpoint-ui/Components/Inputs/ControlBar.js","../src/touchpoint-ui/Components/Inputs/CommentBox.js","../src/touchpoint-ui/Components/Inputs/ComboBox.js","../src/touchpoint-ui/Components/Inputs/CloseButton.js","../src/touchpoint-ui/Components/Inputs/CheckBox.js","../src/touchpoint-ui/Components/Containers/InfoCard.js","../src/touchpoint-ui/Components/Display/Popup.js","../src/touchpoint-ui/Contexts/MenuContext.js","../src/touchpoint-ui/Components/Display/MenuButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/InputCell.js","../src/touchpoint-ui/Components/Display/DisplaySupport/MainTableRow.js","../src/touchpoint-ui/Components/Containers/InfoTab.js","../src/touchpoint-ui/Components/Containers/InfoTabContainer.js","../src/touchpoint-ui/Components/Display/DisplaySupport/FilterMenu.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TheadButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/CheckButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableSettings.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableControls.js","../src/touchpoint-ui/Components/Display/MainTable.js","../src/touchpoint-ui/Components/Containers/Module.js","../src/touchpoint-ui/Components/Containers/SplitScreen.js","../src/touchpoint-ui/DataObjects/DataType.js","../src/touchpoint-ui/DataObjects/DataHeader.js","../src/touchpoint-ui/Hooks/UseDataset.js","../src/touchpoint-ui/Hooks/UseHeaders.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport './SystemPopupHandler.css'\n\nexport default function SystemPopupHandler(props) {\n\t\n\t//Clicking the background closes the popup\n\tfunction clickBackdrop(e){\n\t\tif(e.target.classList.contains('systemPopupBackdrop') && (!props.activePopup.props.forceOpen)){\n\t\t\tprops.system.closePopup()\n\t\t}\n\t}\n\t\n\tlet forceClass = ''\n\tif(props.activePopup!==null && props.activePopup.props.forceOpen){forceClass = 'forceOpen'}\n\t\n\t//If the active popup isn't null, render it\n\tif(props.activePopup != null){\n\t\t\n\t\t//support for oth JSX and function components\n\t\t// if(typeof props.activePopup === 'function'){pop = props.activePopup()}\n\t\t\n\treturn (\n\t\t<div \n\t\t\tclassName = {\"systemPopupBackdrop \" + props.popupEffect + ' ' + forceClass} \n\t\t\tonClick = {clickBackdrop}\n\t\t>\n\t\t\t{props.activePopup}\n\t\t</div>)\n\t\t\t\n\t} else return null\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Locking context. If a compnent is locked, then all child components will be locked as well \n//Only certain components support locking (see docs for more information)\nconst lockedContext = createContext(false)\nexport default lockedContext ","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by a module to talk to it's children (eg. tying a searchbar to a maintable)\nconst moduleContext = createContext({\n\tsearchText: ''\n})\nexport default moduleContext ","import React, {useState} from 'react'\nimport { Route, Switch } from 'react-router'\nimport lockedContext from '../Contexts/LockedContext'\nimport moduleContext from '../Contexts/ModuleContext'\n\t\nexport default function SystemModuleContainer(props) {\n\t\n\tlet n = 0\n\tif(props.system.layout.hasAppToolbar){n++}\n\tif(props.system.layout.hasAppFooter){n++}\n\t\n\t//Adjusts the module container to fit between the system toolbars\n\tconst styleSettings = {\n\t\theight: 'calc(100vh - ' + n + ' * var(--appToolbarHeight))',\n\t\twidth: '100vw'\n\t}\n\t\n\t//Get the active module\n\tlet ActiveModule = props.system.getModules()[props.system.getActiveModule()]\n\t\n\t//If there's no active module render the home module\n\tif(!ActiveModule){\n\t\tActiveModule = props.system.getModules()[props.system.getHomeModule()]\n\t\t\n\t} else if(!ActiveModule){ //If there's no home module render the first module in the list\n\t\tActiveModule = Object.keys(props.system.getModules())[0]\n\t}\n\n\tconst moduleList = props.system.getModules();\n\t\n\tconst [searchText, setSearchText] = useState('')\n\n\tconst moduleData = {\n\t\tsearchText: searchText,\n\t\tsetSearchText: setSearchText\n\t}\n\n\t//Render the chosen module\n\treturn(\n\t\t<lockedContext.Provider value = {ActiveModule.locked || props.locked}>\n\t\t\t<moduleContext.Provider value={moduleData}>\n\t\t\t\t\n\t\t\t\t<div className={\"moduleContainer\"} style={styleSettings}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{/*<ActiveModule.component /> */}\n\n\t\t\t\t\t\t{Object.keys(moduleList).map(m => {\n\t\t\t\t\t\t\treturn <Route path={'/' + m} key={'routeFor' + m} component={moduleList[m].component} />\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t<Route path='/' component={moduleList[props.system.getHomeModule()].component} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</moduleContext.Provider>\n\t\t</lockedContext.Provider>\n\t)\n\t\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//System wide variables (eg. activeUser, theming functions etc.) to be defined in the App component. \nconst systemContext = createContext({})\nexport default systemContext \n","export default class SystemThemeEngine{\n\t\n\tconstructor(){\n\t\t//The list of available themes.\n\t\tthis.themes = {\n\t\t\torange: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(221, 70, 0)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(211, 67, 0)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.034)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'rgb(0, 138, 230)',\n\t\t\t\tfreeButtonNegativeBG: 'rgb(211, 67, 0)',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tblue: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(2, 187, 219)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(0, 138, 230)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.014)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tdark: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: '#63A1FF',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tlabelColor: '#63A1FF',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: '#35363A',\n\t\t\t\tnavTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: '#222229',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: '#313440',\n\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.06)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: '#202124',\n\t\t\t},\n\t\t}\n\t}\n\t\n\t//Set the CSS cariables that control theme colors\n\tsetTheme(themeName){\n\t\t//check if a theme exists with that name \n\t\tif(this.themes[themeName]){\n\t\t\t\n\t\t\tconst themeData = this.themes[themeName.toLowerCase()]\n\t\t\t\n\t\t\tObject.entries(themeData).forEach(([key, value]) => {\n\t\t\t\tdocument.documentElement.style.setProperty('--' + key, value)\n\t\t\t})\n\t\t\t\n\t\t\tlocalStorage.setItem('themeName',themeName)\n\t\t}\n\t}\n\t\n\t//fethches the user's preferred theme and applies it\n\tgetUserTheme(userName){\n\t\tthis.setTheme(localStorage.getItem('themeName'))\n\t}\n}\n","import './TouchPointApp.css'\nimport React, {useState, useEffect} from 'react'\nimport SystemPopupHandler from '../../SystemComponents/SystemPopupHandler'\nimport SystemModuleContainer from '../../SystemComponents/SystemModuleContainer'\nimport systemContext from '../../Contexts/SystemContext'\nimport SystemThemeEngine from '../../SystemComponents/ThemeEngine'\nimport PropTypes from 'prop-types'\nimport { HashRouter } from 'react-router-dom'\n\nexport default function TouchPointApp(props) {\n\t\n\t//System-wide state\n\tconst [activePopup, setPopup] = useState(null);\n\tconst [activeModule, setActiveModule] = useState(props.defaultModule)\n\t\n\t//Set moduleTransition to 'transition' while the modules are being switched out\n\tconst [screenEffect, setScreenEffect] = useState('')\n\tconst [screenBlock, setScreenBlock] = useState(false) //if true, no clicks will register\n\tconst [popupEffect, setPopupEffect] = useState('')\n\t\n\t//Layout state - allows modules to fit available space between system toolbars\n\tconst [hasAppToolbar, setHasAppToolbar] = useState(false)\n\tconst [hasAppFooter, setHasAppFooter] = useState(false)\n\t\n\t//Functions that are available to all modules and can be used system-wode \n\t//Used for things like switching modules, sending out emails, etc. for consistency across the system\n\tconst System = {\n\t\n\t\t//Accessing system wide information\n\t\tgetActiveModule: () => {return(activeModule)},\n\t\t//Create a copy of props.modules, excluding any hidden modules. \n\t\tgetModules: () => {\n\t\t\tconst modules = {}\n\t\t\tObject.keys(props.modules).forEach((m)=>{\n\t\t\t\tif(!props.modules[m].hidden){\n\t\t\t\t\tmodules[m] = props.modules[m]\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\treturn modules\n\t\t},\n\t\tgetHomeModule: () => {return props.homeModule},\n\t\t\n\t\t//Setting system wide variables\n\t\tsetTheme: (themeName) => {\n\t\t\tconst themeEngine = new SystemThemeEngine\n\t\t\tthemeEngine.setTheme(themeName)\n\t\t},\n\t\t\n\t\t//Interacting with the parent app\n\t\topenModule: (moduleName) => {\n\t\t\t\n\t\t\tif(props.modules[moduleName]){\n\t\t\t\t//setActiveModule(moduleName)\n\t\t\t\twindow.location.href = '#/' + moduleName\n\t\t\t}\n\t\t},\n\t\t\n\t\tdisableInput: (forTime) => {\n\t\t\tsetScreenBlock(true)\n\t\t\t\n\t\t\tif(forTime){\n\t\t\t\tsetTimeout(() => setScreenBlock(false), forTime)\n\t\t\t}\n\t\t},\n\t\t\n\t\tenableInput: () => {setScreenBlock(false)},\n\t\t\n\t\topenPopup: (PopupComponent) => {\n\t\t\tsetScreenBlock(true)\n\t\t\tsetTimeout(() => setScreenBlock(false), 400)\n\t\t\t\n\t\t\tsetScreenEffect('blurScreenEffect')\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetPopup(PopupComponent)\n\t\t\tsetTimeout(() => setPopupEffect(''), 0)\n\t\t},\n\t\t\n\t\tclosePopup: () => {\n\t\t\t// if(activePopup.props.onClose){activePopup.props.onClose()}\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetTimeout(()=>setPopup(null), 250)\n\t\t\tsetScreenEffect('')\n\t\t},\n\t\t\n\t\t//Internal variables for structuring the app\n\t\tlayout: {\n\t\t\thasAppToolbar: hasAppToolbar,\n\t\t\tsetHasAppToolbar: setHasAppToolbar,\n\t\t\t\n\t\t\thasAppFooter: hasAppFooter,\n\t\t\tsetHasAppFooter: setHasAppFooter,\n\t\t},\n\t\t\n\t\tio: props.io\n\t}\n\t\n\t//Initial setup. Initaializes the theme handler object, and sets the theme to the preffered user theme\n\tuseEffect(() => {\n\t\tconst themeEngine = new SystemThemeEngine()\n\t\tthemeEngine.getUserTheme(System.io.getActiveUser())\n\t}, [])\n\t\n\t//Input blocker for clicks\n\tlet screenBlocker = null\n\tif(screenBlock){\n\t\tscreenBlocker = <div className=\"screenBlocker\" />\n\t\t\n\t} else screenBlocker = null\n\t\n\t//The App JSX itself\n\treturn (\n\t\t<div className={\"TouchPointApp \"}>\n\t\t\t<systemContext.Provider value ={System}>\n\t\t\t\t<HashRouter>\n\t\t\t\t{screenBlocker}\n\t\t\t\t\n\t\t\t\t<div className={'screenEffect ' + screenEffect}>\n\t\t\t\t\t\n\t\t\t\t\t{props.children}\n\t\t\t\t\t\n\t\t\t\t\t<SystemModuleContainer system = {System} locked = {props.locked}/>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<SystemPopupHandler \n\t\t\t\t\tsystem = {System} \n\t\t\t\t\tactivePopup = {activePopup}\n\t\t\t\t\tpopupEffect = {popupEffect}\n\t\t\t\t\t/>\n\t\t\t\t</HashRouter>\n\t\t\t</systemContext.Provider>\n\t\t</div>\n\t);\n}\n\n//Proptypes\nTouchPointApp.propTypes = {\n\tlocked: PropTypes.bool,\n\tmodules: PropTypes.object.isRequired,\n\tactiveUser: PropTypes.string.isRequired,\n\thomeModule: PropTypes.string,\n\tio: PropTypes.any\n}\n","import systemContext from '../Contexts/SystemContext'\nimport {useContext} from 'react'\n\n//Returns a refference to the System object - allowing modules to interact with the parent app\nexport default function useSystem() {\n\treturn useContext(systemContext)\n}","import {useEffect} from 'react'\nimport useSystem from './UseSystem'\n\n//Allows a system component (like the app-wide toolbar) to declare its presence, so the module container \n//can resize to fit around them\nexport default function usePresence(componentName) {\n\tconst System = useSystem()\n\n\tuseEffect(() => {\n\t\tSystem.layout['setHas' + componentName](true)\n\n\t\treturn (() => {\n\t\t\tSystem.layout['setHas' + componentName](false)\n\t\t})\n\t}, [])\n}","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './AppToolbar.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\nimport {Dropdown, DropdownButton} from 'react-bootstrap'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faHome} from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function AppToolbar(props){\n\t\n\tconst System = useSystem()\n\tlet devMode = ''\n\tif(process.env.NODE_ENV === 'development'){ devMode = '(Dev Mode)'}\n\t\n\t//Declare itself to the app so the modules can be fit around it \n\tusePresence('AppToolbar')\n\t\n\tconst moduleList = System.getModules()\n\t\n\treturn (\n\t\t<div className=\"AppToolbar flexY\">\n\t\t\t<div className=\"buttonContainer flexY\">\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"homeButton\" \n\t\t\t\t\tonClick = {(e)=>{\n\t\t\t\t\t\tSystem.openModule(System.getHomeModule())\n\t\t\t\t\t\te.target.blur()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon icon={faHome} /> Home\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Application\">\n\t\t\t\t\t\n\t\t\t\t\t{Object.keys(moduleList).map((m) => {\n\t\t\t\t\t\tif (m !== System.getHomeModule()) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tonClick={() => System.openModule(m)}\n\t\t\t\t\t\t\t\t\tkey={'SystemToolBarOpenModule' + m}\n\t\t\t\t\t\t\t\t>{moduleList[m].name}</Dropdown.Item>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t</DropdownButton>\n\t\t\t\n\t\t\t\t<DropdownButton title=\"Tools\">\n\t\t\t\t\t<Dropdown.Item>Class V Estimation</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Settings\">\n\t\t\t\t\t<Dropdown.Item>User Delegation</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('blue')}>Blue Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('orange')}>Orange Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('dark')}>Dark Theme</Dropdown.Item>\n\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Support\">\n\t\t\t\t\t<Dropdown.Item>Request Change</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Report Bug</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Contact Dev Team</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Help\">\n\t\t\t\t\t<Dropdown.Item>View Help Files</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>About DMS</Dropdown.Item>\n\t\t\t\t</DropdownButton>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"brandingContainer\">\n\t\t\t\tBruce Power DMS {devMode}\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t)\n}\n","import React from 'react'\nimport './AppFooter.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\n\nexport default function AppFooter(props) {\n\t\n\tconst System = useSystem() \n\tconst v = System.io.getVersion()\n\t\n\t//Declare itself to the app so the modules can be fit around it\n\tusePresence('AppFooter')\n\t\n\treturn (\n\t\t<div className=\"AppFooter\">\n\t\t\t<span className=\"leftSide\">\n\t\t\t\t{System.io.getActiveUser()} | \n\t\t\t\tSecurity Profile: {System.io.getSecurityProfile()} | \n\t\t\t\tVersion: {v.number + ' - ' + v.environment}\n\t\t\t</span>\n\t\t\t\n\t\t\t<span className=\"rightSide\">\n\t\t\t\t\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './CoreButton.css'\n\n\nexport default function CoreButton(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tif(!props.hidden){return (\n\t\t\n\t\t<button className={'CoreButton ' + lockedClass + ' ' + props.className}\n\t\t\tonClick ={clickHandler}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t\t\n\t)} else{return null}\n}\n\n//Proptypes\nCoreButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tclassName: PropTypes.string\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './FreeButton.css'\n\nexport default function FreeButton(props) {\n\t\n\tlet purpose = 'neutral '\n\tlet wideClass = ''\n\tlet circleClass = ''\n\tif (props.purpose){purpose = props.purpose.toLowerCase()}\n\tif (props.wide){wideClass = 'wide '}\n\t\n\t\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"FreeButton \" + purpose + ' ' + wideClass + ' ' + props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nFreeButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tpurpose: PropTypes.string,\n\twide: PropTypes.bool\n}","import React, {useContext} from 'react'\nimport './Tile.css'\nimport {useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\n\nexport default function Tile(props) {\n\t\n\t//When a module is clicked, a splash screen is dispalyed for a second\n\tconst [splash, setSplash] = useState()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tfunction clickHandler(){\n\t\tif(!locked && props.splashScreen && props.onClick){\n\t\t\tsetSplash('splashScreen')\n\t\t\tsetTimeout( () => {props.onClick()}, 550)\n\t\t\t\n\t\t} else if(!locked && props.onClick){\n\t\t\tprops.onClick()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className={\"Tile \" + splash} onClick = {clickHandler}> \n\t\t\n\t\t\t<div className=\"logo flexCenter\">\n\t\t\t\t<img src={props.icon}/> \n\t\t\t</div> \n\t\t\t\n\t\t\t{props.title}\n\t\t\t\n\t\t</div>\n\t)\n\t\n}\n\n//Proptypes\nTile.propTypes = {\n\tlocked: PropTypes.bool,\n\ticon: PropTypes.any,\n\ttitle: PropTypes.string,\n\tsplashScreen: PropTypes.bool,\n\tonClick: PropTypes.func\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\n\nexport default function TextBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\tif(e.key === 'Enter' && props.onEnter!==undefined){\n\t\t\tprops.onEnter(e)\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<input \n\t\t\ttype=\"text\" \n\t\t\tclassName={\"input TextBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tplaceholder = {props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t/>\n\t)\n}\n\n//Proptypes\nTextBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n}\n\n","import React, {useState, useContext} from 'react'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport TextBox from './TextBox'\nimport PropTypes from 'prop-types'\nimport './SearchBar.css'\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function SearchBar(props) {\n\t\n\tconst moduleData = useContext(moduleContext)\n\tconst [searchState, setSearchState] = useState()\n\t\n\t//search\n\tfunction searchHandler(e) {\n\t\tmoduleData.setSearchText(e.target.value)\n\t}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e) {\n\t\tclearTimeout(searchState)\n\t\te.persist()\n\n\t\tsetSearchState(setTimeout(() => {\n\t\t\tsearchHandler(e)\n\t\t}, 250))\n\t}\n\t\n\treturn (\n\t\t<span className=\"SearchBar\"> \n\t\t\t<TextBox \n\t\t\t\tlocked = {props.locked}\n\t\t\t\tonChange= {changeHandler}\n\t\t\t\tonEnter = {searchHandler}\n\t\t\t\tplaceholder = \"Search\"\n\t\t\t\tonBlur = {props.onBlur}\n\t\t\t/>\n\t\t\t\n\t\t\t<button className=\"searchButton\"\n\t\t\t\tonClick = {searchHandler}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSearch} />\n\t\t\t</button>\n\t\t\t\n\t\t</span>\n\t)\n}\n\n//Proptypes\nSearchBar.propTypes = {\n\tdefaultValue: PropTypes.string,\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by RadioGroup to connect all the radio buttons below\nconst radioContext = createContext('')\nexport default radioContext ","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport lockedContext from '../../Contexts/LockedContext'\nimport radioContext from '../../Contexts/RadioContext'\nimport {v4 as uuid} from 'uuid'\n\n\nexport default function RadioGroup(props) {\n\t\n\t//decides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\tconst [groupName] = useState(uuid())\n\t\n\tfunction onChange(value){\n\t\tif(props.onChange){\n\t\t\tprops.onChange(value, props.groupID)\n\t\t}\n\t}\n\t\n\tconst radioData = {\n\t\tonChange: onChange,\n\t\tgroupName: groupName,\n\t\tlocked: locked,\n\t\tdefaultValue: props.defaultValue\n\t}\n\t\n\treturn (\n\t\t<radioContext.Provider value={radioData}>\n\t\t\t{props.children}\n\t\t</radioContext.Provider>\n\t)\n}\n\n//Proptypes\nRadioGroup.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tgroupID: PropTypes.any,\n}\n\n","import React, {useContext, useState} from 'react'\nimport radioContext from '../../Contexts/RadioContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './RadioButton.css'\nimport {v4 as uuid} from 'uuid'\n\nexport default function RadioButton(props) {\n\t\n\tconst radioData = useContext(radioContext)\n\tconst [id] = useState(uuid())\n\t\n\tlet lockedClass = ''\n\tif (radioData.locked) { lockedClass = 'locked ' }\n\n\t//handles the clicking of the radio button - for locked radio buttons\n\tfunction clickHandler(e) {\n\t\tif (radioData.locked) {\n\t\t\te.preventDefault()\n\t\t\t\n\t\t} else{\n\t\t\tradioData.onChange(props.value)\n\t\t\t\n\t\t}\n\t}\n\t\n\tconst defaultChecked = radioData.defaultValue === props.value\n\t\n\treturn (\n\t\t<span className={\"RadioButton flexY \"+ lockedClass}>\n\t\t\t\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={defaultChecked}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tname = {radioData.groupName}\n\t\t\t\tvalue = {props.value}\n\t\t\t\tid = {id}\n\t\t\t/>\n\t\t\t<label \n\t\t\t\tclassName = {lockedClass}\n\t\t\t\thtmlFor = {id}\n\t\t\t>\n\t\t\t\t{props.labelValue}\t\n\t\t\t</label>\n\t\t\t\n\t\t</span>\n\t)\n}\n\nRadioButton.propTypes = {\n\tlabelValue: PropTypes.string,\n\tvalue: PropTypes.any,\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './ControlButton.css'\n\nexport default function ControlButton(props) {\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"ControlButton\"}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nControlButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}","import React, {useContext, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './ControlBar.css'\nimport SearchBar from './SearchBar'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function ControlBar(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t\n\tif(props.searchBar){\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t\t<div className=\"searchContainer\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<SearchBar />\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\t\n\t\t)\n\t\t\n\t} else{\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\n\t\t)\n\t}\n}\n\n//Proptypes\nControlBar.propTypes = {\n\tsearchBar: PropTypes.bool,\n\tsearchBarProps: PropTypes.object,\n\tlocked: PropTypes.bool\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './CommentBox.css'\n\nexport default function CommentBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\t//need esc functionality here\n\t}\n\t\n\tconst styleSetings = {\n\t\theight: props.height,\n\t\twidth: props.width,\n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<textarea\n\t\t\tclassName={\"input CommentBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tstyle={styleSetings}\n\t\t\tplaceholder={props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t></textarea>\n\t)\n}\n\n//Proptypes\nCommentBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n\theight: PropTypes.string,\n\twidth: PropTypes.string,\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './ComboBox.css'\nimport './InputStyles.css'\n\nexport default function ComboBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//if its locked, only allow the default option\n\tlet kids = props.children\n\tif(locked){\n\t\tkids = <option>{props.defaultValue}</option>\n\t}\n\t\n\t//If it's hidden, don't render anything\n\tif (props.hidden){return null} else{return(\n\t\t\t<select \n\t\t\t\tclassName={\"ComboBox input \" + lockedClass} \n\t\t\t\tdefaultValue={props.defaultValue}\n\t\t\t\tonChange = {changeHandler}\n\t\t\t\tdisabled = {locked}\n\t\t\t>\n\t\t\t\t{kids}\n\t\t\t</select>\n\t)}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CoreButton from './CoreButton'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport './CloseButton.css'\n\n\nexport default function CloseButton(props) {\n\t\n\treturn (\n\t\t<CoreButton \n\t\t\tclassName = 'CloseButton'\n\t\t\tonClick = {props.onClick}\n\t\t\tlocked = {props.locked}\n\t\t\thidden = {props.hidden}\n\t\t>\n\t\t\t<FontAwesomeIcon icon={faTimes}/>\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nCloseButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}\n\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\n\nexport default function CheckBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//handles the clicking of the checkbox - for locked checkboxes\n\tfunction clickHandler(e){\n\t\tif(locked){\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<label className=\"CheckBox flexY\">\n\t\t\t<input \n\t\t\t\ttype=\"checkbox\" \n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={props.defaultValue}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tonClick={clickHandler}\n\t\t\t/>\n\t\t\t<span className=\"checkmark\"></span>\n\t\t\t{props.label}\n\t\t</label>\n\t)\n}","import React, {useContext} from 'react'\nimport './InfoCard.css'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport CloseButton from '../Inputs/CloseButton'\n\nexport default function InfoCard(props) {\n\t\n\t//locking the item. If a component somewhere above in the tree is locked, the context will \n\t//cause this card to be locked as well\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Assign classes based on props \n\tlet stripe = '' //Adds a stripe down the left side\n\tif(props.stripe && !props.titleBar){stripe = 'stripe'}\n\t\n\t//Adds hover and click effects in the x, y or xy directions\n\tlet dynamic = '' //dynamic effects are ignored if locked\n\tif(!locked){\n\t\tif (props.dynamicX){dynamic = 'dynamicX '}\n\t\tif (props.dynamicY){dynamic = dynamic + ' dynamicY '}\n\t} \n\t\n\t//handles the onClick event. Only fires if the component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tfunction closeHandler(e){\n\t\te.stopPropagation()\n\t\tprops.onClose()\n\t}\n\t\n\t//If a title prop is provided, create an H1\n\tlet titleBar\n\tif(props.title){titleBar = <h1>{props.title}</h1>}\n\t\n\tlet closeButton\n\tif(props.onClose){\n\t\tcloseButton = <CloseButton onClick = {closeHandler}></CloseButton>\n\t}\n\t\t\n\t//if 'hidden' prop is true then dont show the component\n\tif(props.hidden){return null} else{\n\t\t\n\t\tconst styleSettings ={\n\t\t\twidth: props.width,\n\t\t\theight: props.height\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName={\"InfoCard \" + dynamic + ' ' + props.className} \n\t\t\t\tonClick = {clickHandler} \n\t\t\t\tstyle = {styleSettings}\n\t\t\t>\n\t\t\t\t\t\n\t\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"cardContainer\">\t\n\t\t\t\t\t\t<div className={\"textBox \" + stripe}>\n\t\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t\t{titleBar}\n\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</lockedContext.Provider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n//Proptypes\nInfoCard.propTypes = {\n\ttitle: PropTypes.string,\n\tstripe: PropTypes.bool,\n\tdynamicX: PropTypes.bool,\n\tdynamicY: PropTypes.bool,\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\tonClick: PropTypes.func,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func,\n}\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\nimport InfoCard from '../Containers/InfoCard'\nimport './Popup.css'\nimport useSystem from '../../Hooks/UseSystem'\n\nexport default function Popup(props) {\n\tconst system = useSystem()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Clicking the background closes the popup\n\tlet handleCloseButton\n\tif(!props.forceOpen){\n\t\thandleCloseButton = () => {\n\t\t\tif(!props.forceOpen){\n\t\t\t\tsystem.closePopup()\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\treturn(\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<InfoCard \n\t\t\t\tclassName = {'Popup '}\n\t\t\t\tstripe\n\t\t\t\ttitle = {props.title}\n\t\t\t\twidth = {props.width}\n\t\t\t\theight = {props.height}\n\t\t\t\tonClose ={handleCloseButton}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</InfoCard>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nPopup.propTypes = {\n\ttitle: PropTypes.string,\n\tonClose: PropTypes.func,\n\tforceOpen: PropTypes.bool,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tlocked: PropTypes.bool\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//used by dropdown menus to talk to items inside of themselves \nconst menuContext = createContext({})\nexport default menuContext \n","import React, {useContext, useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport menuContext from '../../Contexts/MenuContext'\nimport PropTypes from 'prop-types'\nimport './MenuButton.css'\nimport {Dropdown} from 'react-bootstrap'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCaretRight} from '@fortawesome/free-solid-svg-icons'\n\n\nexport default function MenuButton(props){\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tlet lockedClass\n\tif(locked){lockedClass = 'locked'}\n\t\n\tconst [toggling, setToggling] = useState(false)\n\t\n\t//handles both onOpen and onClose\n\tfunction toggleHandler(isOpen){\n\t\t\n\t\tif(!toggling && isOpen && props.onOpen){\n\t\t\tprops.onOpen()\n\t\t\t\n\t\t} else if(!toggling && props.onClose && !isOpen){\n\t\t\tprops.onClose()\n\t\t\tsetToggling(true)\n\t\t}\n\t\t\n\t\t//Prevent spamming\n\t\tsetTimeout(()=>setToggling(false), 300)\n\t}\n\t\n\t//check if it's inside of another menu, if so render as a submenu\n\tconst parentMenuData = useContext(menuContext)\n\tlet icon = null\n\tif(parentMenuData.submenu){\n\t\ticon = <span className='subMenuIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faCaretRight} />\n\t\t\t</span>\n\t}\n\t\n\tlet direction = props.direction\n\tif(parentMenuData.submenu){\n\t\tdirection = 'right'\n\t}\n\n\t\n\t//button\n\tconst dropButton = React.forwardRef(({onClick}, ref)=> { \n\t\t\n\t\tfunction clickHandler(e){\n\t\t\te.preventDefault()\n\t\t\tonClick(e)\n\t\t}\n\t\t\n\t\treturn( \n\t\t\t<button \n\t\t\t\tclassName={'MenuButton '+ props.className + ' ' + lockedClass}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t{icon}\n\t\t\t\t\n\t\t\t</button>\n\t\t)\n\t})\n\t\n\t//Menu Itself\n\tconst menuStyle = {\n\t\tmaxHeight: props.maxHeight,\n\t\twidth: props.width,\n\t\theight: props.height,\n\t}\n\n\t\n\tconst dropMenu = React.forwardRef(\n\t\t({style, className}, ref) => {\n\t  \n\t\t\treturn (\n\t\t\t\t<menuContext.Provider value={{ submenu: true }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tstyle = {{menuStyle}}\n\t\t\t\t\t\tclassName={className + ' MenuContainer'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\tclassName={'Menu'}\n\t\t\t\t\t\t\tstyle = {menuStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.menuContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</menuContext.Provider>\n\t\t\t)\n\t\t}\n\t)\n\n\t//If locked return a button that does nothing, otherwise create a real dropdown button\n\tif(locked){return(dropButton)}\telse{return(\n\t\t<span className = 'menuButtonContainer'>\n\t\t\t<Dropdown drop={direction} onToggle = {toggleHandler}>\n\t\t\t\t<Dropdown.Toggle as={dropButton}/>\n\t\t\t\t<Dropdown.Menu as={dropMenu} />\n\t\t\t</Dropdown>\n\t\t</span>\n\t)}\n}\n\n//Proptypes\nMenuButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tmenuContent: PropTypes.any.isRequired,\n\tmaxHeight: PropTypes.string,\n\tdirection: PropTypes.string,\n\tonOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n}","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './InputCell.css'\n\nexport default function InputCell(props) {\n\t\n\tconst [initalValue, setInitialValue] = useState(props.defaultValue)\n\t\n\t//When you focus on an item, the value is saved. if you escape, its restored\n\tfunction focusHandler(e){\n\t\tsetInitialValue(e.target.value)\n\t}\n\t\n\t//Handles keypresses, for enter or esc keys\n\tfunction keyHandler(e){\n\t\tif(e.keyCode === 27) { //esc\n\t\t\t\n\t\t\te.target.value = initalValue\n\t\t\te.target.blur()\n\t\t\t\n\t\t} else if(e.keyCode === 13){ //enter\n\t\t\t\n\t\t\tconsole.log('You pressed the enter key!')\n\t\t\t\n\t\t}\n\t}\n\t\n\t//Handles changes (commit changes)\n\tfunction changeHandler(e){\n\t\t\n\t}\n\t\n\tswitch(props.dataHeader.dataType.kind){\n\t\t\n\t\tdefault: return <input\n\t\t\tclassName = 'InputCell cellTextBox input'\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonKeyDown = {keyHandler}\n\t\t\tonFocus = {focusHandler}\n\t\t/>\n\t}\n\t\n}\n\n//Proptypes\nInputCell.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tdataRow: PropTypes.object,\n}","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTableRow.css'\nimport InputCell from './InputCell'\n\nexport default function MainTableRow(props) {\n\n\tlet dynamicClass = ''\n\tlet pointerClass = ''\n\tif(props.dynamic){dynamicClass = 'dynamic'}\n\tif(props.setActiveRecord){pointerClass = 'pointer'}\n\t\n\t//Check if this is the active row for style reasons \n\tconst [activeClass, setActiveClass] = useState('')\n\t\n\t//sends the dataRow object to the select record function\n\tfunction rowClickHandler(){\n\t\tif(props.setActiveRecord){\n\t\t\tsetActiveClass('active')\n\t\t\tprops.setActiveRecord(props.dataRow)\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif(props.activeRecord === props.dataRow) {setActiveClass('active')} else{\n\t\t\tsetActiveClass('')\n\t\t}\n\t},[props.activeRecord, props.dataRow]);\n\t\n\t//Only continue building the row if it's actually required\n\tconst row = props.dataHeaders.map(hdr => {\n\t\tif(hdr.visible){\n\t\t\t//Decide if the cell is editable or not based on the locked status, and the header onEdit function\n\t\t\tlet cellContent = props.dataRow[hdr.headerID]\n\t\t\tif(!props.locked && hdr.onEdit && ! hdr.locked){\n\t\t\t\tcellContent = <InputCell \n\t\t\t\t\tdataHeader = {hdr} \n\t\t\t\t\tdefaultValue = {cellContent}\n\t\t\t\t\tdataRow = {props.dataRow}\n\t\t\t\t/>\n\t\t\t}\n\t\t\t\n\t\t\t//No conditional formatting\n\t\t\tif (!hdr.styling){return(<span \n\t\t\t\tkey = {hdr.headerID+props.rowKey} \n\t\t\t\tstyle = {{width: hdr.width + '%'}}\n\t\t\t>\n\t\t\t\t{cellContent}\n\t\t\t</span>)\n\t\t\t\n\t\t\t} else{\n\t\t\t\t\n\t\t\t\t//apply the styling function in the header object\n\t\t\t\tconst myStyle = hdr.styling(props.dataRow[hdr.headerID], props.dataRow)\n\t\t\t\t\n\t\t\t\treturn( //with coniditional formatting\n\t\t\t\t\t\n\t\t\t\t\t<span className = 'badge' key = {hdr.headerID+props.rowKey} style = {{\n\t\t\t\t\t\twidth: 'calc(' + hdr.width + '% - 23px',\n\t\t\t\t\t\tcolor: myStyle.textColor,\n\t\t\t\t\t\tbackgroundColor: myStyle.badgeColor,\n\t\t\t\t\t\tmarginLeft: '23px'\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{cellContent}\n\t\t\t\t\t</span>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t})\n\t\n\t\n\t// only the row if it passes the filter\n\treturn(\n\t\t<div \n\t\t\tclassName={'MainTableRow ' + dynamicClass + ' ' + pointerClass} \n\t\t\tonClick = {rowClickHandler}\n\t\t>\n\t\t\t<div className={\"rowContainer \" + activeClass}>\n\t\t\t\t{row}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nMainTableRow.propTypes = {\n\tdataHeaders: PropTypes.array.isRequired,\n\tdataRow: PropTypes.object.isRequired,\n\tsetActiveRecord: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tdynamic:PropTypes.bool\n}","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function InfoTab(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tif(!props.hidden){return (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<div className = {'InfoTab ' + props.tabID}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)} else return null\n}\n\n//Proptypes\nInfoTab.propTypes = {\n\ttabTitle: PropTypes.string.isRequired,\n\ttabID: PropTypes.string.isRequired,\n}\n","import React, {useContext} from 'react'\nimport {Tabs, Tab} from 'react-bootstrap'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './InfoTabContainer.css'\n\n\nexport default function InfoTabContainer(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\treturn (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t<div className=\"InfoTabContainer\">\n\t\t\t\t<Tabs \n\t\t\t\t\tdefaultActiveKey={props.defaultTab} \n\t\t\t\t\ttransition={false}\n\t\t\t\t\tonSelect = {(tabID)=>{\n\t\t\t\t\t\tif(props.onTabChange){props.onTabChange(tabID, locked)}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t\t{React.Children.map(props.children,(child) =>{\n\t\t\t\t\t\tif(!child.props.hidden){\n\t\t\t\t\t\t\treturn(<Tab eventKey={child.props.tabID} title={child.props.tabTitle}>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</Tab>)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nInfoTabContainer.propTypes = {\n\tdefaultTab: PropTypes.string,\n\tonTabChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n}\n\n\n","import React from 'react'\nimport produce from 'immer'\nimport './FilterMenu.css'\n\nexport default function FilterMenu(props){\n\n\tconst values = props.header.uniqueValues\n\t\n\tfunction clickHandler(e, id){\n\t\tconst cb = document.getElementById(id)\n\t\tif(e.target !== cb){cb.checked = !cb.checked}\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders)=>{\n\t\t\t\tdraftHeaders[props.header.index].uniqueValues[cb.value] = cb.checked\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction selectAll(e){\n\t\tconst cb = document.getElementById(props.header.headerID + 'selectAll')\n\t\tif (e.target !== cb) { cb.checked = !cb.checked }\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[props.header.index].selectAll(cb.checked)\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tconst spanStyle = {\n\t\ttextAlign: 'left',\n\t\tpaddingLeft: '7px',\n\t}\n\t\n\treturn (\n\t\t<div className = 'FilterMenu'>\n\t\t\t\n\t\t\t<div className = 'topMenu'>\n\t\t\t\t{props.children}\n\t\t\t\n\t\t\t\t<button onClick={selectAll} className = 'selectAll'>\n\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tdefaultChecked={!props.header.hasFilter()}\n\t\t\t\t\t\tid={props.header.headerID + 'selectAll'}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t/>\n\t\t\t\t\t<span style={spanStyle}>{'Select All'}</span>\n\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"filterOptions\">\n\t\t\t\t\n\t\t\t\t{Object.keys(values).map((v, i) => {\n\t\t\t\t\treturn (<button\n\t\t\t\t\t\tkey={props.header.id + 'fv' + i}\n\t\t\t\t\t\tonClick={(e) => clickHandler(e, props.header.headerID + 'fcb' + i)}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype = 'checkbox'\n\t\t\t\t\t\t\tdefaultChecked = {values[v]}\n\t\t\t\t\t\t\tid={props.header.headerID + 'fcb' + i}\n\t\t\t\t\t\t\tvalue = {v}\n\t\t\t\t\t\t\tstyle= {{cursor:'pointer'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span style={spanStyle}>{v !== 0 && !v ? 'Blank' : v}</span>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, {useState} from 'react'\nimport MenuButton from '../MenuButton'\nimport InfoTab from '../../Containers/InfoTab'\nimport InfoTabContainer from '../../Containers/InfoTabContainer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretDown, faFilter, faPlus} from '@fortawesome/free-solid-svg-icons'\nimport FilterMenu from './FilterMenu'\n\nexport default function TheadButton(props){\n\t\n\t//Checks if the header has an active filter, to show a different icon\n\tconst [defaultTab, setDefaultTab] = useState(props.noFilter ? 'sort' : 'filter')\n\t\n\t//filter tab - if the correct props are available to enable filtering\n\tlet filterMenu = null\n\tfilterMenu = <InfoTab tabID='filter' tabTitle='Filter' hidden = {props.noFilter}>\n\t\t<FilterMenu\n\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\theader = {props.header}\n\t\t\tdata = {props.data}\n\t\t>\n\t\t\t<button>\n\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t\t<span style={{\n\t\t\t\t\tpaddingLeft:'10px',\n\t\t\t\t}}>More Filters</span> \n\t\t\t</button>\n\t\t\t\n\t\t</FilterMenu>\n\t</InfoTab>\n\t\n\t\n\t//Sort tab - if the correct props are available to enable sorting\n\tlet sortMenu = <InfoTab tabID='sort' tabTitle='Sort' hidden={props.noSort}>\n\t\t<button>Sort Test</button>\n\t</InfoTab>\n\t\n\t//Combine available tabs - if at least one is avilable\n\tlet overallMenu = <div>\n\t\t<InfoTabContainer defaultTab = {defaultTab} onTabChange = {(tabID)=>{\n\t\t\tsetDefaultTab(tabID)\n\t\t}}>\n\t\t\t{filterMenu}\n\t\t\t{sortMenu}\n\t\t</InfoTabContainer>\n\t</div>\n\t\n\t\n\t//if there is a menu, add a dropdown icon\n\tlet icon = <FontAwesomeIcon icon={faCaretDown} />\n\tlet iconClass = ''\n\tif (props.header.hasFilter()) { \n\t\ticon = <FontAwesomeIcon icon={faFilter} />\n\t\ticonClass = 'smallerIcon'\n\t}\n\t\n\tif(props.noSort && props.noFilter) { \n\t\t\n\t\treturn(props.children)\n\t\t\n\t} else{\n\t\treturn (\n\t\t\t<MenuButton \n\t\t\t\tclassName='TheadButton' \n\t\t\t\tlocked = {false} menuContent={overallMenu}\n\t\t\t\tmaxHeight = '50vh'\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t<span className = {iconClass}>{icon}</span>\t\t\t\n\t\t\t</MenuButton>\n\t\t)\n\t}\n}","import React from 'react'\nimport Proptypes from 'prop-types'\nimport {v4 as uuid} from 'uuid'\n\nexport default function CheckButton(props) {\n\t\n\tconst checkID = uuid()\n\t\n\tfunction clickHandler(e, id) {\n\t\tif(!props.disabled){\n\t\t\tconst cb = document.getElementById(id)\n\t\t\tif (e.target !== cb) {cb.checked = !cb.checked}\n\t\t\t\n\t\t\tif(props.onClick){props.onClick(cb.checked, props.value)}\n\t\t}\n\t}\n\t\n\tconst spanStyle = {\n\t\ttextAlign: 'left',\n\t\tpaddingLeft: '7px',\n\t}\n\t\n\treturn (<button\n\t\tonClick={(e) => clickHandler(e, checkID)}\n\t\tstyle ={{color: 'var(--mainTextColor'}}\n\t>\n\n\t\t<input\n\t\t\ttype='checkbox'\n\t\t\tdefaultChecked={props.defaultChecked}\n\t\t\tid={checkID}\n\t\t\tvalue={props.value}\n\t\t\tstyle={{cursor: 'pointer'}}\n\t\t\tdisabled = {props.disabled}\n\t\t/>\n\t\t<span style={spanStyle}>{props.children}</span>\n\t\t\n\n\t</button>)\n\t\n}\n\n\nCheckButton.propTypes={\n\tdefaultChecked: Proptypes.bool,\n\tvalue: Proptypes.any,\n\tlabel: Proptypes.string,\n\tonClick: Proptypes.func,\n\tdisabled: Proptypes.bool,\n}","import React from 'react'\nimport CheckButton from './CheckButton'\nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCog} from '@fortawesome/free-solid-svg-icons'\nimport MenuButton from '../MenuButton'\n\nexport default function TableSettings(props) {\n\n\tfunction clickHandler(checked, idx){\n\t\tprops.setTransitionClass('noTransition')\n\t\tlet reFilter = false\n\t\t\n\t\tprops.headers.set(\n\t\t\tproduce(props.headers.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[idx].visible = checked\n\t\t\t\t\n\t\t\t\tif (!checked && draftHeaders[idx].hasFilter()){\n\t\t\t\t\tdraftHeaders[idx].clearFilter()\n\t\t\t\t\treFilter = true\n\t\t\t\t}\t\n\t\t\t})\n\t\t)\n\t\t\n\t\tsetTimeout(()=>{\n\t\t\tif(reFilter){props.data.filter()}\n\t\t\tprops.setTransitionClass('')\n\t\t},0)\n\t}\n\t\n\treturn (<MenuButton \n\t\t\tlocked={false} \n\t\t\tmenuContent={\n\t\t\t<div>\n\t\t\t\t{props.headers.get().map((h) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CheckButton\n\t\t\t\t\t\t\tkey={'customizeHeader' + h.headerID}\n\t\t\t\t\t\t\tdisabled={h.required}\n\t\t\t\t\t\t\tdefaultChecked={h.visible}\n\t\t\t\t\t\t\tvalue={h.index}\n\t\t\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\t\t>{h.displayName}</CheckButton>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t}>\n\t\t<FontAwesomeIcon icon={faCog} /> Table Settings\n\t</MenuButton>\n\t\t\n\t)\n}","import React from 'react'\nimport TableSettings from './TableSettings'\nimport MenuButton from '../MenuButton'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faTimesCircle, faFilter, faSortAmountUp } from '@fortawesome/free-solid-svg-icons'\nimport Popup from '../Popup'\nimport TextBox from '../../Inputs/TextBox'\nimport FreeButton from '../../Inputs/FreeButton'\nimport useSystem from '../../../Hooks/UseSystem'\n\nexport default function TableControls(props) {\n\tlet clearFilterButton = null\n\tlet sortButton = null\n\tlet filterButton = null\n\tlet settingsButton = null\n\t\n\tconst System = useSystem()\n\n\tif (props.hasFilter && !props.noFilter) {\n\t\tclearFilterButton = <button\n\t\t\tonClick={props.clearFilter}\n\t\t><FontAwesomeIcon icon={faTimesCircle} /> Clear Filter</button>\n\t}\n\n\tif (!props.noFilter) {\n\t\tfilterButton = <MenuButton menuContent = {\n\t\t\t<div>\n\t\t\t\t<MenuButton menuContent={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button>Outstanding Tasks</button>\n\t\t\t\t\t\t<button>Assigned To Me</button>\n\t\t\t\t\t\t<button>Due Soon</button>\n\t\t\t\t\t</div>\n\t\t\t\t}>Saved Filters</MenuButton>\n\t\t\t\t\n\t\t\t\t<button onClick = {()=>{\n\t\t\t\t\tSystem.openPopup(<Popup title = 'Save Filter'>\n\t\t\t\t\t\t<label>Filter Name: </label><TextBox/>\n\t\t\t\t\t\t<FreeButton\n\t\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\t\tSystem.closePopup()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>Save</FreeButton>\n\t\t\t\t\t</Popup>)\n\t\t\t\t}}\n\t\t\t\t>Save Current Filter</button>\n\t\t\t\t\n\t\t\t</div>\n\t\t}>\n\t\t\t<span className='smallIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faFilter} />\n\t\t\t</span> Filter\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noSort) {\n\t\tsortButton = <MenuButton menuContent={\n\t\t\t<MenuButton menuContent={\n\t\t\t\t<div>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t</div>\n\t\t\t}>test</MenuButton>\n\t\t}>\n\t\t\t<FontAwesomeIcon icon={faSortAmountUp} /> Sort\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noOptions) {\n\t\tsettingsButton = <TableSettings\n\t\t\theaders={props.dataHeaders}\n\t\t\tdata={props.data}\n\t\t\tsetTransitionClass = {props.setTransitionClass}\n\t\t/>\n\t}\n\n\treturn (\n\t\t<div className='tableControls'>\n\t\t\t{settingsButton}\n\t\t\t{sortButton}\n\t\t\t{filterButton}\n\t\t\t{clearFilterButton}\n\t\t</div>\n\t)\n}","import React, {useState, useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTable.css'\nimport MainTableRow from './DisplaySupport/MainTableRow'\nimport lockedContext from '../../Contexts/LockedContext'\nimport TheadButton from './DisplaySupport/TheadButton' \nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretLeft, faCaretRight} from '@fortawesome/free-solid-svg-icons'\nimport TableControls from './DisplaySupport/TableControls'\n\nexport default function MainTable(props){\n\t\n\t//Sorting and filtering are optional (via props), only supported with if a dataset is provided\n\tlet noSort = props.noSort   \n\tlet noFilter = props.noFilter\n\tlet noOptions = props.noOptions\n\t\n\t//support for dataSets or for just arrays\n\tlet data = props.data\n\tif(!Array.isArray(props.data) ){\n\t\tdata = data.read()\n\t} else{\n\t\tnoSort = true\n\t\tnoFilter = true\n\t}\n\t\n\t//For dataSets - runs when dataSet refreshes (sets the filter options to match)\n\tuseEffect(()=>{\n\t\tif(!noFilter){\n\t\t\tprops.dataHeaders.embedData(data)\n\t\t\tprops.data.setHeaders(props.dataHeaders)\n\t\t}\n\t}, [props.data.lastResolved])\n\t\n\t//Active page handling\n\tconst [activePage, setActivePage] = useState(0)\n\t\n\t//get the length of the data with the filter applied\n\tlet dataLength = 0\n\tdata.forEach((r)=>{\n\t\tif (r.TouchPointMetaVisible && !r.TouchPointMetaSearchHide){dataLength = dataLength + 1}\n\t})\n\t\n\t//if there's no way to set the active record, then no record is active\n\tlet activeRecord\n\tif(props.activeRecord && props.setActiveRecord){activeRecord = props.activeRecord}\n\t\n\t//default page Size\n\tlet pageSize = props.pageSize\n\tif(!pageSize){ pageSize = 500}\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\t//If clicking sets the active record then its animated\n\t//if there are editable cells the animations will be cancelled\n\tlet dynamic\n\tif(props.setActiveRecord){dynamic = true} \n\t\n\t//Normalize column widths to ensure they always add up to 100%\n\tlet hasFilter = false\n\tprops.dataHeaders.get().forEach(hdr => {\n\t\t//if you have input cells in the table, hover effects will be cancelled\n\t\tif(hdr.onEdit){dynamic = false}\n\t\t\n\t\t//check if any headers have active filters (to show a clear filter button)\n\t\tif(hdr.hasFilter()){hasFilter = true}\n\t})\n\t\n\t//Counter for rendered rows\n\tlet i = 1\n\t\n\t//Buttons for page controls\n\tfunction pageForward(){\n\t\tif (activePage < Math.floor(dataLength/pageSize)-1){\n\t\t\tsetActivePage(activePage + 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction BackButton(){ \n\t\tif(activePage > 0){return(\n\t\t\t<button\n\t\t\t\tonClick={pageBack}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon = {faCaretLeft}/>\n\t\t\t</button>\n\t\t)} else return null\n\t}\n\t\n\tfunction pageBack(){\n\t\tif (activePage > 0){\n\t\t\tsetActivePage(activePage - 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction ForwardButton(){ \n\t\tif(activePage < Math.floor(dataLength/pageSize) - 1){return(\n\t\t\t<button\n\t\t\t\tonClick={pageForward}\n\t\t\t><FontAwesomeIcon icon = {faCaretRight}/></button>\n\t\t)} else return null\n\t}\n\t\n\tfunction clearFilter(){\n\t\tprops.dataHeaders.set(produce(props.dataHeaders.get(), draft =>{\n\t\t\tdraft.forEach(hdr=>{\n\t\t\t\thdr.clearFilter()\n\t\t\t})\n\t\t}))\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction PageControls(){\n\t\tif(dataLength > pageSize){\n\t\t\treturn( <div className=\"pageControls\">\n\t\t\t\t<BackButton/>\n\t\t\t\t\n\t\t\t\t<button className='textButton'>Showing {1+activePage*pageSize}-\n\t\t\t\t{Math.min((1+activePage)*pageSize, dataLength) +' '}\n\t\t\t\tof {`  ${dataLength}`}</button>  \n\t\t\t\t\n\t\t\t\t<ForwardButton/>\n\t\t\t</div>)\n\t\t} else return null\n\t}\n\t\n\tconst [transitionClass, setTransitionClass] = useState('')\n\t\n\t//Render\n\treturn (\n\t\t<div className={\"MainTable \" + transitionClass}>\n\t\t\t\n\t\t\t{/* Header Titles */}\n\t\t\t<div className=\"titleBar\">\n\t\t\t\t<div className=\"topBar\">\n\t\t\t\t\t<TableControls\n\t\t\t\t\t\thasFilter = {hasFilter}\n\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\tclearFilter = {clearFilter}\n\t\t\t\t\t\tnoOptions = {noOptions}\n\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\tsetTransitionClass ={setTransitionClass}\n\t\t\t\t\t/>\n\t\t\t\t\t<PageControls/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"theadBar\">\n\t\t\t\t\t{props.dataHeaders.get().map((hdr) => {\n\t\t\t\t\t\tif(hdr.visible){return(\n\t\t\t\t\t\t\t<span style={{width: hdr.width + '%'}} key = {'header'+hdr.headerID}>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<TheadButton\n\t\t\t\t\t\t\t\t\theader = {hdr}\n\t\t\t\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\t\t\t\tnoFilter = {noFilter}o\n\t\t\t\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{hdr.displayName + ' '}\n\t\t\t\t\t\t\t\t</TheadButton>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)} else return null\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Table body data */}\n\t\t\t<div className = {'tableBody ' + props.data.lastResolved}>\n\t\t\t\t{data.map((dr) => {\n\t\t\t\t\t//render the allowed numebr of rows, on th selected page\n\t\t\t\t\tif((i > activePage * pageSize) && (i <= (1 + activePage)*pageSize)){\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet renderRow = true\n\t\t\t\t\t\tif(props.searchable){\n\t\t\t\t\t\t\trenderRow = !dr.TouchPointMetaSearchHide\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\trenderRow = renderRow && (dr.TouchPointMetaVisible || noFilter)\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst r = renderRow ? \n\t\t\t\t\t\t\t<MainTableRow\n\t\t\t\t\t\t\t\tdataRow = {dr}\n\t\t\t\t\t\t\t\tdataHeaders={props.dataHeaders.get()}\n\t\t\t\t\t\t\t\tsetActiveRecord = {props.setActiveRecord}\n\t\t\t\t\t\t\t\tactiveRecord = {activeRecord}\n\t\t\t\t\t\t\t\trowKey = {'MainTableRow'+i}\n\t\t\t\t\t\t\t\tkey = {'MainTableRow'+i}\n\t\t\t\t\t\t\t\tlocked = {locked}\n\t\t\t\t\t\t\t\tdynamic = {dynamic}\n\t\t\t\t\t\t\t/> : null\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(r){i++}//Count the number of rows actually renedered (not filtered out)\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn r\n\t\t\t\t\t} else if(i <= (1 + activePage)*pageSize){i++}\n\t\t\t\t\t\n\t\t\t\t\treturn null\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n//Proptypes\nMainTable.propTypes = {\n\tsetActiveRecord: PropTypes.func,\n\tonEdit: PropTypes.func,\n\tdataHeaders: PropTypes.object.isRequired,\n\t\n\tdata: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.array\n\t]).isRequired,\n\t\n\tpageSize: PropTypes.number,\n\tlocked: PropTypes.bool,\n\tsearchable: PropTypes.bool,\n\tnoSort: PropTypes.bool,\n\tnoFilter: PropTypes.bool,\n\tnoOptions: PropTypes.bool,\n}","import React, {useState} from 'react'\nimport './Module.css'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport PropTypes from 'prop-types'\n\nexport default function Module(props) {\n\n\t\n\treturn (\n\t\t<div className={'Module ' + props.moduleName}>\n\t\t\t{props.children}\t\n\t\t</div>\n\t)\n}\n\n//Proptypes\nModule.propTypes = {\n\tmoduleName: PropTypes.string,\n}\n","import React from 'react'\nimport './SplitScreen.css'\nimport Split from 'react-split'\nimport PropTypes from 'prop-types'\n\nexport default function SplitScreen(props) {\n\t\n\tlet splitSize = 50\n\tif(props.defaultSize){splitSize = props.defaultSize}\n\t\n\treturn (\n\t\t<div className='SplitScreen'>\n\t\t\t<Split \n\t\t\t\tdirection=\"vertical\" sizes={[100 - splitSize, splitSize]}\n\t\t\t\tminSize={150}\n\t\t\t\tgutterSize={8}\n\t\t\t\tsnapOffset={1}\n\t\t\t>\n\t\t\t\t<div className=\"topView\"></div>\n\t\t\t\t\n\t\t\t\t<div className=\"bottomView\">\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</Split>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nSplitScreen.propTypes = {\n\tdefaultSize: PropTypes.number,\n\t\n}","export default class DataType{\n\t\n\tconstructor(kind, options){\n\t\tif(kind){this.kind = kind.toLowerCase()} else{this.kind = 'string'}\n\t\tthis.options = options\n\t}\n\t\n\t//checks if an input is valid for the datatype\n\tvalidate(input){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\treturn true\n\t\t\t\n\t\t\tcase 'number':\n\t\t\t\ttry{\n\t\t\t\t\tparseFloat(input)\t\n\t\t\t\t\treturn true\n\t\t\t\t} catch(err){return false}\n\t\t\t\t\n\t\t\tcase 'list':\n\t\t\t\tif(this.options.includes.listValues(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\n\t\t\t\n\t\t\tcase 'custom':\n\t\t\t\t//This needs so much work...\n\t\t\t\tif(this.options.validator(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\t\t\t\t\n\t\t}\n\t\t\n\t\t//if its not a valid type then ignore validation and just return true\n\t\treturn true\n\t}\n\t\n\t//Compares a value an search string to see if the value should be included in the search\n\tsearch(value, searchText){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\tif (typeof value  === 'string'){\n\t\t\t\t\tvalue = value.toLowerCase()\n\t\t\t\t\treturn value.includes(searchText.toLowerCase())\n\t\t\t\t} else{return false}\n\t\t}\n\t\t\n\t\t//if its not a vald type just return false until i deccide how to handle this better\n\t\treturn false\n\t}\n\t\n}\n\n\n","import DataType from \"./DataType\"\n\nexport default class DataHeader{\n\t\n\tconstructor(options){\n\t\t\n\t\tthis.headerID = options.headerID\n\t\tthis.displayName = options.displayName\n\t\tthis.width = options.width ? options.width : 10\n\t\tthis.required = options.required ? options.required : false\n\t\tthis.visible = (!options.visible === undefined) ? options.visible : true\n\t\tthis.index = options.index\n\t\tthis.onEdit = options.onEdit ? options.onEdit : null\n\t\tthis.locked = options.locked ? options.locked : false\n\t\tthis.dataType = options.dataType ? options.dataType : new DataType('string') \n\t\tthis.styling = options.styling ? options.styling : null\n\t\tthis.uniqueValues = {}\n\t\t\n\t\t//Default filter list only has 1 functions (array filter)\n\t\t//By default no values are selected, which is the same as saying 'select all'\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\t\n\t\n\tfilter(cellValue, dataRow){\n\t\t//Check if any of the filters fail\n\t\t//If any filters fail, res will be true. Return the opposite\n\t\treturn !Object.keys(this.filterList).some( (f)=>{\n\t\t\treturn !this.filterList[f].func(cellValue, dataRow)\n\t\t})\n\t}\n\t\n\t\n\taddFilter(filterID, filterFunction, displayName){\n\t\tthis.filterList[filterID] = {func: filterFunction, displayName: displayName, id: filterID}\n\t}\n\t\n\t\n\tremoveFilter(filterID){\n\t\tdelete this.filterList[filterID]\n\t}\n\t\n\t\n\t//Saves a list of unique values in the column - to be used in the filter dropdowns\n\tembedData(data){\n\t\tthis.uniqueValues = uniqueByColumn(data, this.headerID, this.uniqueValues)\n\t}\n\t\n\t\n\tselectAll(setVal){\n\t\tObject.keys(this.uniqueValues).map((uv)=>{\n\t\t\tthis.uniqueValues[uv] = setVal\n\t\t})\n\t}\n\t\n\t//checks if there are any active filters, including the array filter\n\thasFilter(){\n\t\t//array filter is always there, check if any other filters are there\n\t\tlet testRes = Object.keys(this.filterList).length === 1\n\t\t\n\t\t//if there are no other filters, check if the array filter is active\n\t\tif(testRes){\n\t\t\tObject.keys(this.uniqueValues).forEach((val) => {\n\t\t\t\tif (!this.uniqueValues[val]){testRes = false}\n\t\t\t})\n\t\t}\n\n\t\treturn !testRes\n\t}\n\t\n\tclearFilter(){\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.selectAll(true)\n\t}\n\t\n\tsetVisible(bool){\n\t\tthis.visible = bool\n\t}\n}\n\n\n//Returns an array of unique values from a column of DataRow objects\nfunction uniqueByColumn(data, columnID, oldValues) {\n\tconst res = {}\n\t\n\tdata.forEach((r) => {\n\t\tif (r.TouchPointMetaVisible || r.TouchPointMetaFilteredBy === columnID + ';'){\n\t\t\t//New vales added as true, old values keep their value\n\t\t\tif (oldValues[r[columnID]] === undefined){\n\t\t\t\tres[r[columnID]] = true\n\t\t\t} else{\n\t\t\t\tres[r[columnID]] = oldValues[r[columnID]]\n\t\t\t}\n\t\t}\n\t})\n\t\n\tconst orderedRes = {}\n\t\n\tObject.keys(res).sort().forEach((key)=>{\n\t\torderedRes[key] = res[key]\n\t})\n\n\treturn orderedRes\n}","import {useState, useContext, useEffect} from 'react'\nimport produce from 'immer'\nimport moduleContext from '../Contexts/ModuleContext'\n\n\n//Initialises a Dataset and caches the value\nexport default function useDataset(fetchFunction, defaultValue = [{}]) {\n\n\t//The array contains an empty object by default\n\tconst [data, setData] = useState(defaultValue)\n\tconst [first, setFirst] = useState(true)\n\tconst [status, setStatus] = useState('Pending')\n\tconst [rejection, setRejection] = useState()\n\tconst [lastResolved, setLastResolved] = useState()\n\tconst [lastRejected, setLastRejected] = useState()\n\tconst [headers, setHeaders] = useState({ get: () => { return [] } })\n\t\n\tconst {searchText} = useContext(moduleContext)\n\t\n\tuseEffect(() => {\n\t\t\n\t\tsetData(produce(data, draftData => {\n\t\t\tdraftData.map((r) => {\n\n\t\t\t\tr.TouchPointMetaSearchHide = false\n\t\t\t\t\n\t\t\t\tif(searchText.trim()){\n\t\t\t\t\tr.TouchPointMetaSearchHide = !headers.get().some((hdr) => {\n\t\t\t\t\t\treturn hdr.dataType.search(r[hdr.headerID], searchText)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn r\n\t\t\t})\n\t\t}))\n\t\t\n\t}, [searchText])\n\n\t//Filters the data based on given headers\n\tfunction filterData(values){\n\n\t\t//Apply the filters to the data (define what rows are visible)\n\t\treturn produce(values, (draftValues) => {\n\n\t\t\tdraftValues.map((r) => {\n\t\t\t\tr.TouchPointMetaFilteredBy = ''\n\n\t\t\t\tlet noRender = false\n\t\t\t\t\n\t\t\t\theaders.get().forEach((h) => {\n\t\t\t\t\t\n\t\t\t\t\t//filter\n\t\t\t\t\tif (!h.filter(r[h.headerID], r)) {\n\t\t\t\t\t\tnoRender = true\n\t\t\t\t\t\tr.TouchPointMetaFilteredBy = r.TouchPointMetaFilteredBy + [h.headerID] + ';'\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tr.TouchPointMetaVisible = !noRender\n\t\t\t\treturn r\n\t\t\t})\n\t\t})\n\t}\n\t\n\t//Fetch data and update state once the operation is complete. Keep the old value in the meantime\n\tasync function fetchData() {\n\t\tsetStatus('Pending')\n\t\tconst res = fetchFunction()\n\n\t\ttry {\n\t\t\tconst value = filterData(await res)\n\n\t\t\tsetData(value)\n\t\t\tsetStatus('Resolved')\n\t\t\tsetRejection(null)\n\t\t\tsetLastResolved(Date())\n\n\t\t\treturn status\n\t\t} catch (e) {\n\t\t\tsetStatus('Rejected')\n\t\t\tsetRejection(e)\n\t\t\tsetLastRejected(Date())\n\n\t\t\treturn status\n\t\t}\n\t}\n\n\n\t//Automatically run the fetching function the first time, then wait for a refresh\n\tif (first) {\n\t\tsetFirst(false)\n\t\tfetchData()\n\t}\n\n\t//Return a Dataset object\n\treturn ({\n\t\tread: () => { return data },\n\n\t\trefresh: () => {\n\t\t\tif (status !== 'Pending') {\n\t\t\t\tfetchData()\n\t\t\t}\n\t\t},\n\n\t\tset: (val) => { setData(val) },\n\n\t\tstatus: status,\n\t\trejection: rejection,\n\t\tlastResolved: lastResolved,\n\t\tlastRejected: lastRejected,\n\t\tsetHeaders: setHeaders,\n\t\tisDataset: true,\n\t\tfilter: () => {\n\t\t\tconst newData = filterData(data)\n\t\t\tsetData(newData)\n\t\t\theaders.embedData(newData)\n\t\t},\n\t})\n}","import {useState} from 'react'\nimport produce from 'immer'\nimport DataHeader  from '../DataObjects/DataHeader'\n\n\n//Crates a set of DataHeaders, for use with a mainTable\nexport default function useHeaders(dataHeaders = []) {\n\t\n\tfunction normalize(headerArray){\n\t\tlet totalWidth = 0\n\t\theaderArray.forEach((hdr)=>{\n\t\t\tif(hdr.visible){totalWidth = totalWidth + hdr.width}\n\t\t})\n\t\t\n\t\treturn headerArray.map((hdr, i)=>{\n\t\t\thdr.width = 99 * (hdr.width / totalWidth)\n\t\t\thdr.index = i\n\t\t\treturn hdr\n\t\t})\n\t}\n\n\t//Saves a list of unique values in each column (header) - to be used in the filter dropdowns\n\tfunction embedData(data) {\n\t\t//using Immer to edit the header state while keeping it immutable\n\t\tsetHeaders(produce(headers, (draft) => {\n\t\t\tdraft.map((hdr) => {\n\t\t\t\thdr.embedData(data)\n\t\t\t})\n\t\t}))\n\t}\n\n\tconst [headers, setHeaders] = useState(normalize(dataHeaders.map((hdr)=>{\n\t\treturn(new DataHeader(hdr))\n\t})))\n\n\treturn ({\n\t\tget: () => {return headers},\n\t\tset: (val) => {setHeaders(normalize(val))},\n\t\tembedData: embedData\n\t})\n}"],"names":["SystemPopupHandler","props","clickBackdrop","e","target","classList","contains","activePopup","forceOpen","system","closePopup","forceClass","popupEffect","lockedContext","createContext","moduleContext","searchText","SystemModuleContainer","n","layout","hasAppToolbar","hasAppFooter","styleSettings","height","width","ActiveModule","getModules","getActiveModule","getHomeModule","Object","keys","moduleList","useState","setSearchText","moduleData","locked","map","m","component","systemContext","SystemThemeEngine","themes","orange","tableActiveColor","mainTextColor","labelColor","lockedTextColor","navColor","navTextColor","navHoverColor","navClickedColor","bodyAltBG","cardBG","shadowColor","freeButtonNeutralBG","freeButtonPositiveBG","freeButtonNegativeBG","freeButtonTextColor","inputColor","blue","dark","themeName","themeData","toLowerCase","entries","forEach","key","value","document","documentElement","style","setProperty","localStorage","setItem","userName","setTheme","getItem","TouchPointApp","setPopup","defaultModule","activeModule","setActiveModule","screenEffect","setScreenEffect","screenBlock","setScreenBlock","setPopupEffect","setHasAppToolbar","setHasAppFooter","System","modules","hidden","homeModule","themeEngine","openModule","moduleName","window","location","href","disableInput","forTime","setTimeout","enableInput","openPopup","PopupComponent","io","useEffect","getUserTheme","getActiveUser","screenBlocker","children","propTypes","PropTypes","bool","object","isRequired","activeUser","string","any","useSystem","useContext","usePresence","componentName","AppToolbar","devMode","process","env","NODE_ENV","blur","faHome","name","AppFooter","v","getVersion","getSecurityProfile","number","environment","CoreButton","lockedFromAbove","undefined","lockedClass","clickHandler","onClick","className","func","FreeButton","purpose","wideClass","wide","Tile","splash","setSplash","splashScreen","icon","title","TextBox","changeHandler","onChange","blurHandler","onBlur","keyPressHandler","onEnter","defaultValue","placeholder","SearchBar","searchState","setSearchState","searchHandler","clearTimeout","persist","faSearch","radioContext","RadioGroup","uuid","groupName","groupID","radioData","RadioButton","id","preventDefault","defaultChecked","labelValue","ControlButton","ControlBar","searchBar","searchBarProps","CommentBox","styleSetings","ComboBox","kids","CloseButton","faTimes","CheckBox","label","InfoCard","stripe","titleBar","dynamic","dynamicX","dynamicY","closeHandler","stopPropagation","onClose","closeButton","Popup","handleCloseButton","menuContext","MenuButton","toggling","setToggling","toggleHandler","isOpen","onOpen","parentMenuData","submenu","faCaretRight","direction","dropButton","React","forwardRef","ref","menuStyle","maxHeight","dropMenu","menuContent","InputCell","initalValue","setInitialValue","focusHandler","keyHandler","keyCode","console","log","dataHeader","dataType","kind","dataRow","MainTableRow","dynamicClass","pointerClass","setActiveRecord","activeClass","setActiveClass","rowClickHandler","activeRecord","row","dataHeaders","hdr","visible","cellContent","headerID","onEdit","styling","rowKey","myStyle","color","textColor","backgroundColor","badgeColor","marginLeft","array","InfoTab","tabID","tabTitle","InfoTabContainer","defaultTab","onTabChange","Children","child","FilterMenu","values","header","uniqueValues","cb","getElementById","checked","set","produce","get","draftHeaders","index","data","filter","selectAll","spanStyle","textAlign","paddingLeft","hasFilter","cursor","i","TheadButton","noFilter","setDefaultTab","filterMenu","faPlus","sortMenu","noSort","overallMenu","faCaretDown","iconClass","faFilter","CheckButton","checkID","disabled","Proptypes","TableSettings","idx","setTransitionClass","reFilter","headers","clearFilter","h","required","displayName","faCog","TableControls","clearFilterButton","sortButton","filterButton","settingsButton","faTimesCircle","faSortAmountUp","noOptions","MainTable","Array","isArray","read","embedData","setHeaders","lastResolved","activePage","setActivePage","dataLength","r","TouchPointMetaVisible","TouchPointMetaSearchHide","pageSize","pageForward","Math","floor","BackButton","pageBack","faCaretLeft","ForwardButton","draft","PageControls","min","transitionClass","dr","renderRow","searchable","oneOfType","Module","SplitScreen","splitSize","defaultSize","DataType","options","input","parseFloat","err","includes","listValues","validator","DataHeader","filterList","arrayFilter","cellValue","some","f","filterID","filterFunction","uniqueByColumn","setVal","uv","testRes","length","val","columnID","oldValues","res","TouchPointMetaFilteredBy","orderedRes","sort","useDataset","fetchFunction","setData","first","setFirst","status","setStatus","rejection","setRejection","setLastResolved","lastRejected","setLastRejected","draftData","trim","search","filterData","draftValues","noRender","fetchData","Date","refresh","isDataset","newData","useHeaders","normalize","headerArray","totalWidth"],"mappings":"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"}