{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/touchpoint-ui/SystemComponents/SystemPopupHandler.js","../src/touchpoint-ui/Contexts/LockedContext.js","../src/touchpoint-ui/Contexts/ModuleContext.js","../src/touchpoint-ui/SystemComponents/SystemModuleContainer.js","../src/touchpoint-ui/Contexts/SystemContext.js","../src/touchpoint-ui/SystemComponents/ThemeEngine.js","../src/touchpoint-ui/Components/Inputs/CoreButton.js","../src/touchpoint-ui/Components/Inputs/CloseButton.js","../src/touchpoint-ui/SystemComponents/SystemDrawerHandler.js","../src/touchpoint-ui/Components/Core/TouchPointApp.js","../src/touchpoint-ui/Hooks/UseSystem.js","../src/touchpoint-ui/Hooks/UsePresence.js","../src/touchpoint-ui/Components/Core/AppToolbar.js","../src/touchpoint-ui/Components/Core/AppFooter.js","../src/touchpoint-ui/Components/Core/AppDrawer.js","../src/touchpoint-ui/Components/Inputs/FreeButton.js","../src/touchpoint-ui/Components/Inputs/Tile.js","../src/touchpoint-ui/Components/Inputs/TextBox.js","../src/touchpoint-ui/Hooks/UseModuleData.js","../src/touchpoint-ui/Components/Inputs/SearchBar.js","../src/touchpoint-ui/Contexts/RadioContext.js","../src/touchpoint-ui/Components/Inputs/RadioGroup.js","../src/touchpoint-ui/Components/Inputs/RadioButton.js","../src/touchpoint-ui/Components/Inputs/ControlButton.js","../src/touchpoint-ui/Components/Inputs/ControlBar.js","../src/touchpoint-ui/Components/Inputs/CommentBox.js","../src/touchpoint-ui/Components/Inputs/ComboBox.js","../src/touchpoint-ui/Components/Inputs/CheckBox.js","../src/touchpoint-ui/Components/Inputs/DockIcon.js","../src/touchpoint-ui/Components/Containers/InfoCard.js","../src/touchpoint-ui/Components/Display/Popup.js","../src/touchpoint-ui/Contexts/MenuContext.js","../src/touchpoint-ui/Components/Display/MenuButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/InputCell.js","../src/touchpoint-ui/Components/Display/DisplaySupport/MainTableRow.js","../src/touchpoint-ui/Components/Containers/InfoTab.js","../src/touchpoint-ui/Components/Containers/InfoTabContainer.js","../src/touchpoint-ui/Components/Display/DisplaySupport/FilterMenu.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TheadButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/CheckButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableSettings.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableControls.js","../src/touchpoint-ui/Components/Display/MainTable.js","../src/touchpoint-ui/Components/Containers/Module.js","../src/touchpoint-ui/Components/Containers/SplitScreen.js","../src/touchpoint-ui/Components/Containers/ControlledTabContainer.js","../src/touchpoint-ui/Components/Containers/Dock.js","../src/touchpoint-ui/DataObjects/DataType.js","../src/touchpoint-ui/DataObjects/DataHeader.js","../src/touchpoint-ui/Hooks/UseDataset.js","../src/touchpoint-ui/Hooks/UseHeaders.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport './SystemPopupHandler.css'\n\nexport default function SystemPopupHandler(props) {\n\t\n\t//Clicking the background closes the popup\n\tfunction clickBackdrop(e){\n\t\tif(e.target.classList.contains('systemPopupBackdrop') && (!props.activePopup.props.forceOpen)){\n\t\t\tprops.system.closePopup()\n\t\t}\n\t}\n\t\n\tlet forceClass = ''\n\tif(props.activePopup!==null && props.activePopup.props.forceOpen){forceClass = 'forceOpen'}\n\t\n\t//If the active popup isn't null, render it\n\tif(props.activePopup != null){\n\t\t\n\treturn (\n\t\t<div \n\t\t\tclassName = {\"systemPopupBackdrop \" + props.popupEffect + ' ' + forceClass} \n\t\t\tonClick = {clickBackdrop}\n\t\t>\n\t\t\t{props.activePopup}\n\t\t</div>)\n\t\t\t\n\t} else return null\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Locking context. If a compnent is locked, then all child components will be locked as well \n//Only certain components support locking (see docs for more information)\nconst lockedContext = createContext(false)\nexport default lockedContext ","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by a module to talk to it's children (eg. tying a searchbar to a maintable)\nconst moduleContext = createContext({})\nexport default moduleContext ","import React, {useState} from 'react'\nimport {Route, Switch} from 'react-router'\nimport lockedContext from '../Contexts/LockedContext'\nimport moduleContext from '../Contexts/ModuleContext'\n\t\nexport default function SystemModuleContainer(props){\n\t\n\t//Adjusts the module container to fit between the system toolbars\n\tconst styleSettings = {\n\t\theight: props.system.layout.heightCSS,\n\t\twidth: props.system.layout.widthCSS,\n\t\tright: '0'\n\t}\n\n\tconst moduleList = props.system.getModules();\n\tconst moduleDataState = useState({})\n\n\t//Render the chosen module\n\treturn(\n\t\t<lockedContext.Provider value = {props.locked}>\n\t\t\t<moduleContext.Provider value={moduleDataState}>\n\t\t\t\t\n\t\t\t\t<div className={\"moduleContainer\"} style={styleSettings}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t{/*<ActiveModule.component /> */}\n\n\t\t\t\t\t\t{Object.keys(moduleList).map(m => {\n\t\t\t\t\t\t\treturn <Route path={'/' + m} key={'routeFor' + m} component={moduleList[m].component} />\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t<Route path='/' component={moduleList[props.system.getHomeModule()].component} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</moduleContext.Provider>\n\t\t</lockedContext.Provider>\n\t)\n\t\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//System wide variables (eg. activeUser, theming functions etc.) to be defined in the App component. \nconst systemContext = createContext({})\nexport default systemContext \n","export default class SystemThemeEngine{\n\t\n\tconstructor(){\n\t\t//The list of available themes.\n\t\tthis.themes = {\n\t\t\torange: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(221, 70, 0)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(211, 67, 0)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.034)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'rgb(0, 138, 230)',\n\t\t\t\tfreeButtonNegativeBG: 'rgb(211, 67, 0)',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tblue: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(2, 187, 219)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(0, 138, 230)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.014)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tdark: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: '#63A1FF',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tlabelColor: '#63A1FF',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: '#35363A',\n\t\t\t\tnavTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: '#222229',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: '#313440',\n\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.06)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: '#202124',\n\t\t\t},\n\t\t}\n\t}\n\t\n\t//Set the CSS cariables that control theme colors\n\tsetTheme(themeName){\n\t\t//check if a theme exists with that name \n\t\tif(this.themes[themeName]){\n\t\t\t\n\t\t\tconst themeData = this.themes[themeName.toLowerCase()]\n\t\t\t\n\t\t\tObject.entries(themeData).forEach(([key, value]) => {\n\t\t\t\tdocument.documentElement.style.setProperty('--' + key, value)\n\t\t\t})\n\t\t\t\n\t\t\tlocalStorage.setItem('themeName',themeName)\n\t\t}\n\t}\n\t\n\t//fethches the user's preferred theme and applies it\n\tgetUserTheme(){\n\t\tthis.setTheme(localStorage.getItem('themeName'))\n\t}\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './CoreButton.css'\n\n\nexport default function CoreButton(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tif(!props.hidden){return (\n\t\t\n\t\t<button className={'CoreButton ' + lockedClass + ' ' + props.className}\n\t\t\tonClick ={clickHandler}\n\t\t\tstyle = {props.style}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t\t\n\t)} else{return null}\n}\n\n//Proptypes\nCoreButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tstyle: PropTypes.object,\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CoreButton from './CoreButton'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport './CloseButton.css'\n\n\nexport default function CloseButton(props) {\n\t\n\treturn (\n\t\t<CoreButton \n\t\t\tclassName = 'CloseButton'\n\t\t\tonClick = {props.onClick}\n\t\t\tlocked = {props.locked}\n\t\t\thidden = {props.hidden}\n\t\t\tstyle = {props.style}\n\t\t>\n\t\t\t<FontAwesomeIcon icon={faTimes}/>\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nCloseButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tstyle: PropTypes.object,\n}\n\n\n","import React, {useEffect, useState} from 'react'\nimport lockedContext from '../Contexts/LockedContext'\nimport './SystemDrawerHandler.css'\nimport CloseButton from '../Components/Inputs/CloseButton'\n\nexport default function AppDrawer(props) {\n\t\n\t\n\tconst trueLeft = props.style && props.style.width ? props.style.width : 'var(--drawerWidth)'\n\tconst [drawerLeft, setDrawerLeft] = useState(!props.drawer.isOpen ? 'calc( ' + trueLeft + ' * -1 )' : null)\n\t\n\tuseEffect(()=>{\n\t\tsetDrawerLeft(!props.drawer.isOpen ? 'calc( ' + trueLeft + ' * -1 )' : null)\n\t},[props.drawer.isOpen])\n\t\n\t//Clicking the background closes the popup\n\tfunction clickBackdrop(e) {\n\t\tif (e.target.classList.contains('SystemDrawerHandler')) {\n\t\t\tprops.drawer.close()\n\t\t}\n\t}\n\t\n\tconst handlerClass = props.drawer.isOpen ? 'SystemDrawerHandler' : ''\n\t\n\tif(props.exists){\n\t\t\n\t\treturn (\n\t\t\t<div className={handlerClass} onClick = {clickBackdrop}>\n\t\t\t\t\n\t\t\t\t<div \n\t\t\t\t\tclassName={'AppDrawer'} \n\t\t\t\t\tstyle={{...props.style, left: drawerLeft}}\n\t\t\t\t>\n\t\t\t\t\t<lockedContext.Provider value={props.locked}>\n\n\t\t\t\t\t\t<CloseButton\n\t\t\t\t\t\t\tlocked={false}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tprops.drawer.close()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{props.children}\n\n\t\t\t\t\t</lockedContext.Provider>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</div>\n\t\t)\n\t\t\n\t} else return null\n}","import './TouchPointApp.css'\nimport React, {useState, useEffect} from 'react'\nimport SystemPopupHandler from '../../SystemComponents/SystemPopupHandler'\nimport SystemModuleContainer from '../../SystemComponents/SystemModuleContainer'\nimport systemContext from '../../Contexts/SystemContext'\nimport SystemThemeEngine from '../../SystemComponents/ThemeEngine'\nimport PropTypes from 'prop-types'\nimport {HashRouter} from 'react-router-dom'\nimport SystemDrawerHandler from '../../SystemComponents/SystemDrawerHandler'\n\nexport default function TouchPointApp(props){\n\t\n\t//System-wide state\n\tconst [activePopup, setPopup] = useState(null);\n\t\n\t//Set moduleTransition to 'transition' while the modules are being switched out\n\tconst [screenBlock, setScreenBlock] = useState(false) //if true, no clicks will register\n\tconst [popupEffect, setPopupEffect] = useState('')\n\tconst [moduleLock, setModuleLock] = useState(props.locked)\n\t\n\tconst [drawerIsOpen, setDrawerIsOpen] = useState(false)\n\tconst [drawerData, setDrawerData] = useState()\n\t\n\tconst [screenEffect, setScreenEffect] = useState('')\n\t\n\t//Functions that are available to all modules and can be used system-wode \n\t//Used for things like switching modules, sending out emails, etc. for consistency across the system\n\tconst System = {\n\t\t\n\t\t//Create a copy of props.modules, excluding any hidden modules. \n\t\tgetModules: () => {\n\t\t\tconst modules = {}\n\t\t\tObject.keys(props.modules).forEach((m)=>{\n\t\t\t\tif(!props.modules[m].hidden){\n\t\t\t\t\tmodules[m] = props.modules[m]\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\treturn modules\n\t\t},\n\t\tgetHomeModule: () => {return props.homeModule},\n\t\t\n\t\t//Setting system wide variables\n\t\tsetTheme: (themeName) => {\n\t\t\tconst themeEngine = new SystemThemeEngine\n\t\t\tthemeEngine.setTheme(themeName)\n\t\t},\n\t\t\n\t\t//Interacting with the parent app\n\t\topenModule: (moduleName) => {\n\t\t\t\n\t\t\tif(props.modules[moduleName]){\n\t\t\t\t//setActiveModule(moduleName)\n\t\t\t\twindow.location.href = '#/' + moduleName\n\t\t\t\tsetModuleLock(props.modules[moduleName].locked)\n\t\t\t\t\n\t\t\t\tif(props.onOpenModule){ props.onOpenModule(moduleName) }\n\t\t\t}\n\t\t},\n\t\t\n\t\tdisableInput: (forTime) => {\n\t\t\tsetScreenBlock(true)\n\t\t\t\n\t\t\tif(forTime){\n\t\t\t\tsetTimeout(() => setScreenBlock(false), forTime)\n\t\t\t}\n\t\t},\n\t\t\n\t\tenableInput: () => {setScreenBlock(false)},\n\t\t\n\t\topenPopup: (PopupComponent) => {\n\t\t\tsetScreenBlock(true)\n\t\t\tsetTimeout(() => setScreenBlock(false), 400)\n\t\t\t\n\t\t\tsetScreenEffect('blurScreenEffect')\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetPopup(PopupComponent)\n\t\t\tsetTimeout(() => setPopupEffect(''), 0)\n\t\t},\n\t\t\n\t\tclosePopup: () => {\n\t\t\t// if(activePopup.props.onClose){activePopup.props.onClose()}\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetTimeout(()=>setPopup(null), 250)\n\t\t\tsetScreenEffect('')\n\t\t},\n\t\t\n\t\tdrawer:{\n\t\t\topen: ()=>{ if(!drawerIsOpen){\n\t\t\t\tsetScreenEffect('blurScreenEffect')\n\t\t\t\tsetDrawerIsOpen(true)\n\t\t\t}},\n\t\t\t\n\t\t\tclose: () => { if(drawerIsOpen){\n\t\t\t\tsetDrawerIsOpen(false)\n\t\t\t\tsetScreenEffect('')\n\t\t\t}},\n\t\t\t\n\t\t\tdata: drawerData,\n\t\t\tsetData: setDrawerData,\n\t\t\t\n\t\t\tisOpen: drawerIsOpen\n\t\t},\n\t\t\n\t\t//Internal variables for structuring the app\n\t\tlayout: {\n\t\t\theightCSS: '100%',\n\t\t\twidthCSS: '100%',\n\t\t\t\n\t\t\twidths: {},\n\t\t\theights: {}\n\t\t},\n\t\t\n\t\tio: props.io\n\t}\n\t\n\t//Initial setup. Initaializes the theme handler object, and sets the theme to the preffered user theme\n\tuseEffect(() => {\n\t\tconst themeEngine = new SystemThemeEngine()\n\t\tthemeEngine.getUserTheme()\n\t}, [])\n\t\n\t//Input blocker for clicks\n\tlet screenBlocker = null\n\tif(screenBlock){\n\t\tscreenBlocker = <div className=\"screenBlocker\" />\n\t\t\n\t} else screenBlocker = null\n\t\n\t//The App JSX itself\n\treturn (\n\t\t<div className={\"TouchPointApp \"}>\n\t\t\t<systemContext.Provider value ={System}>\n\t\t\t\t\t<HashRouter>\n\t\t\t\t\t{screenBlocker}\n\t\t\t\t\t\n\t\t\t\t\t<SystemDrawerHandler\n\t\t\t\t\t\t{...System.drawer.data}\n\t\t\t\t\t\tdrawer={System.drawer}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t\t<div className={'screenEffect ' + screenEffect}>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<SystemModuleContainer \n\t\t\t\t\t\t\tsystem = {System} \n\t\t\t\t\t\t\tlocked = {props.locked || moduleLock}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<SystemPopupHandler \n\t\t\t\t\t\tsystem = {System} \n\t\t\t\t\t\tactivePopup = {activePopup}\n\t\t\t\t\t\tpopupEffect = {popupEffect}\n\t\t\t\t\t/>\n\t\t\t\t\t\n\t\t\t\t</HashRouter>\n\t\t\t</systemContext.Provider>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nTouchPointApp.propTypes = {\n\tlocked: PropTypes.bool,\n\tmodules: PropTypes.object.isRequired,\n\thomeModule: PropTypes.string,\n\tio: PropTypes.any,\n\tonOpenModule: PropTypes.func,\n}\n","import systemContext from '../Contexts/SystemContext'\nimport {useContext} from 'react'\n\n//Returns a refference to the System object - allowing modules to interact with the parent app\nexport default function useSystem() {\n\treturn useContext(systemContext)\n}","import useSystem from './UseSystem'\n\n//Allows a system component (like the app-wide toolbar) to declare its presence, so the module container \n//can resize to fit around them\nexport default function usePresence(componentName, height, width) {\n\tconst {layout} = useSystem()\n\t\n\tfunction refreshCSS(){\n\t\t\n\t\tlet heightCSS = 'calc(100%'\n\t\tlet widthCSS = 'calc(100%'\n\t\t\n\t\tObject.values(layout.heights).forEach((h)=>{\n\t\t\tif(h){\n\t\t\t\theightCSS = heightCSS + ' - ' + h\n\t\t\t}\n\t\t})\n\t\t\n\t\tObject.values(layout.widths).forEach((w)=>{\n\t\t\tif(w){\n\t\t\t\twidthCSS = widthCSS + ' - ' + w\n\t\t\t}\n\t\t})\n\t\t\n\t\tlayout.heightCSS = heightCSS + ')'\n\t\tlayout.widthCSS = widthCSS + ')'\n\t}\n\t\n\tlayout.widths[componentName] = width\n\tlayout.heights[componentName] = height\n\t\n\trefreshCSS()\n\t\n\treturn (() => {\n\t\tlayout.widths[componentName] = 0\n\t\tlayout.heights[componentName] = 0\n\t\t\n\t\trefreshCSS()\n\t})\n}","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './AppToolbar.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\nimport {Dropdown, DropdownButton} from 'react-bootstrap'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faHome} from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function AppToolbar(props){\n\t\n\tconst System = useSystem()\n\tlet devMode = ''\n\tif(process.env.NODE_ENV === 'development'){ devMode = '(Dev Mode)'}\n\t\n\t//Declare itself to the app so the modules can be fit around it \n\tusePresence('AppToolbar', 'var(--appToolbarHeight)')\n\t\n\tconst moduleList = System.getModules()\n\t\n\treturn (\n\t\t<div className=\"AppToolbar flexY\" style = {props.style}>\n\t\t\t<div className=\"buttonContainer flexY\">\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"homeButton\" \n\t\t\t\t\tonClick = {(e)=>{\n\t\t\t\t\t\tSystem.openModule(System.getHomeModule())\n\t\t\t\t\t\te.target.blur()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon icon={faHome} /> Home\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Application\">\n\t\t\t\t\t\n\t\t\t\t\t{Object.keys(moduleList).map((m) => {\n\t\t\t\t\t\tif (m !== System.getHomeModule()) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tonClick={() => System.openModule(m)}\n\t\t\t\t\t\t\t\t\tkey={'SystemToolBarOpenModule' + m}\n\t\t\t\t\t\t\t\t>{moduleList[m].name}</Dropdown.Item>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t</DropdownButton>\n\t\t\t\n\t\t\t\t<DropdownButton title=\"Tools\">\n\t\t\t\t\t<Dropdown.Item>Class V Estimation</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Settings\">\n\t\t\t\t\t<Dropdown.Item>User Delegation</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('blue')}>Blue Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('orange')}>Orange Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('dark')}>Dark Theme</Dropdown.Item>\n\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Support\">\n\t\t\t\t\t<Dropdown.Item>Request Change</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Report Bug</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Contact Dev Team</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Help\">\n\t\t\t\t\t<Dropdown.Item>View Help Files</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>About DMS</Dropdown.Item>\n\t\t\t\t</DropdownButton>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"brandingContainer\">\n\t\t\t\tBruce Power DMS {devMode}\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t)\n}\n","import React from 'react'\nimport './AppFooter.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\n\nexport default function AppFooter(props) {\n\t\n\tconst System = useSystem() \n\tconst v = System.io.getVersion()\n\t\n\t//Declare itself to the app so the modules can be fit around it\n\tusePresence('AppFooter','var(--appToolbarHeight)')\n\t\n\treturn (\n\t\t<div className=\"AppFooter\" style = {props.style}>\n\t\t\t<span className=\"leftSide\">\n\t\t\t\t{System.io.getActiveUser()} | \n\t\t\t\tSecurity Profile: {System.io.getSecurityProfile()} | \n\t\t\t\tVersion: {v.number + ' - ' + v.environment}\n\t\t\t</span>\n\t\t\t\n\t\t\t<span className=\"rightSide\">\n\t\t\t\t\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n","import {useContext, useEffect} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport useSystem from '../../Hooks/UseSystem'\n\nexport default function AppDrawer(props){\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tconst {drawer} = useSystem()\n\t\n\tuseEffect(() => {\n\t\t\n\t\tconst newProps = { ...props }\n\t\tnewProps.locked = locked\n\t\tnewProps.exists = true\n\t\tdrawer.setData(newProps)\n\t\t\n\t\t\n\t\tif(props.defaultOpen){\n\t\t\tsetTimeout(()=>{\n\t\t\t\tdrawer.open()\n\t\t\t}, 100)\n\t\t}\n\t\t\n\t\t\n\t\treturn () => {\n\t\t\tdrawer.setData({})\n\t\t\tnewProps.exists = false\n\t\t}\n\t},[props.children, props.style, props.locked])\n\t\t\n\t\n\treturn(null)\n\t//Doesn't render aything here, \n\t//sends the props to System, which passes them to the SystemDrawerHandler to render outside the effect area\n}\n\nAppDrawer.propTypes = {\n\tstyle: PropTypes.object,\n\tlocked: PropTypes.bool,\n\tdefaultOpen: PropTypes.bool,\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './FreeButton.css'\n\nexport default function FreeButton(props) {\n\t\n\tlet purpose = 'neutral '\n\tlet wideClass = ''\n\tlet circleClass = ''\n\tif (props.purpose){purpose = props.purpose.toLowerCase()}\n\tif (props.wide){wideClass = 'wide '}\n\t\n\t\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"FreeButton \" + purpose + ' ' + wideClass + ' ' + props.className}\n\t\t\tstyle = {props.style}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nFreeButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tpurpose: PropTypes.string,\n\twide: PropTypes.bool,\n\tstyle: PropTypes.object,\n}","import React, {useContext} from 'react'\nimport './Tile.css'\nimport {useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\n\nexport default function Tile(props) {\n\t\n\t//When a module is clicked, a splash screen is dispalyed for a second\n\tconst [splash, setSplash] = useState()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tfunction clickHandler(){\n\t\tif(!locked && props.splashScreen && props.onClick){\n\t\t\tsetSplash('splashScreen')\n\t\t\tsetTimeout( () => {props.onClick()}, 550)\n\t\t\t\n\t\t} else if(!locked && props.onClick){\n\t\t\tprops.onClick()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div style = {props.style} className={\"Tile \" + splash} onClick = {clickHandler}> \n\t\t\n\t\t\t<div className=\"logo flexCenter\">\n\t\t\t\t<img src={props.icon}/> \n\t\t\t</div> \n\t\t\t\n\t\t\t{props.title}\n\t\t\t\n\t\t</div>\n\t)\n\t\n}\n\n//Proptypes\nTile.propTypes = {\n\tlocked: PropTypes.bool,\n\ticon: PropTypes.any,\n\ttitle: PropTypes.string,\n\tsplashScreen: PropTypes.bool,\n\tonClick: PropTypes.func,\n\tstyle: PropTypes.object,\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\n\nexport default function TextBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\tif(!locked && e.key === 'Enter' && props.onEnter !==undefined){\n\t\t\tprops.onEnter(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<input \n\t\t\ttype=\"text\" \n\t\t\tclassName={\"input TextBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tplaceholder = {props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t\tref = {props.inputRef}\n\t\t\tautoFocus = {props.autoFocus}\n\t\t\tstyle = {props.style}\n\t\t\tvalue = {props.value}\n\t\t/>\n\t)\n}\n\n//Proptypes\nTextBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n\tvalue: PropTypes.string,\n\tinputRef: PropTypes.object,\n\tautoFocus: PropTypes.bool,\n\tvalue: PropTypes.string,\n\tonEscape: PropTypes.func,\n}\n\n","import { useContext } from 'react'\nimport moduleContext from '../Contexts/ModuleContext'\nimport produce from 'immer'\n\nexport default function useModuleContext(){\n\tconst [dataSource, setDataSource] = useContext(moduleContext)\n\t\n\treturn({\n\t\tget: (key) => {return dataSource[key]},\n\t\t\n\t\tset: (key, value) => {\n\t\t\tsetDataSource(produce(dataSource, draftSource => {\n\t\t\t\tdraftSource[key] = value\n\t\t\t}))\n\t\t},\n\t\t\n\t\tclear: () => {setDataSource( {} )}\n\t})\n}","import React, {useState, useRef, useEffect} from 'react'\nimport useModuleData from '../../Hooks/UseModuleData'\nimport TextBox from './TextBox'\nimport PropTypes from 'prop-types'\nimport './SearchBar.css'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function SearchBar(props) {\n\t\n\tconst moduleData = useModuleData()\n\tconst [searchFunction, setSearchFunction] = useState()\n\tconst searchRef = useRef()\n\tconst [searchBarValue, setSearchBarValue] = useState('')\n\t\n\t\n\tfunction focusSearchBar(){\n\t\tsearchRef.current.focus()\n\t}\n\t\n\tuseEffect(()=>{\n\t\tmoduleData.set('TouchPointSearchRef', focusSearchBar)\n\n\t\treturn(()=>{\n\t\t\tmoduleData.set('TouchPointSearchRef', null)\n\t\t})\n\t},[])\n\t\n\t//search\n\tfunction searchHandler(){\n\t\tmoduleData.set('TouchPointSearchText', searchRef.current.value)\n\t\tsearchRef.current.focus()\n\t}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e) {\n\t\tclearTimeout(searchFunction)\n\t\t\n\t\tsetSearchBarValue(e.target.value)\n\n\t\tsetSearchFunction(setTimeout(() => {\n\t\t\tsearchHandler()\n\t\t}, 250))\n\t}\n\t\n\treturn (\n\t\t<span className=\"SearchBar\"> \n\t\t\t<TextBox \n\t\t\t\tlocked = {false}\n\t\t\t\tonChange= {changeHandler}\n\t\t\t\tonEnter = {searchHandler}\n\t\t\t\tplaceholder = \"Search\"\n\t\t\t\tvalue = {searchBarValue}\n\t\t\t\tinputRef = {searchRef}\n\t\t\t\tstyle = {props.style}\n\t\t\t/>\n\t\t\t\n\t\t\t<button className=\"searchButton\"\n\t\t\t\tonClick = {searchHandler}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSearch} />\n\t\t\t</button>\n\t\t\t\n\t\t</span>\n\t)\n}\n\n//Proptypes\nSearchBar.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tstyle: PropTypes.object,\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by RadioGroup to connect all the radio buttons below\nconst radioContext = createContext('')\nexport default radioContext ","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport lockedContext from '../../Contexts/LockedContext'\nimport radioContext from '../../Contexts/RadioContext'\nimport {v4 as uuid} from 'uuid'\n\n\nexport default function RadioGroup(props) {\n\t\n\t//decides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\tconst [groupName] = useState(uuid())\n\t\n\tfunction onChange(value){\n\t\tif(props.onChange){\n\t\t\tprops.onChange(value, props.groupID)\n\t\t}\n\t}\n\t\n\tconst radioData = {\n\t\tonChange: onChange,\n\t\tgroupName: groupName,\n\t\tlocked: locked,\n\t\tdefaultValue: props.defaultValue\n\t}\n\t\n\treturn (\n\t\t<radioContext.Provider value={radioData}>\n\t\t\t{props.children}\n\t\t</radioContext.Provider>\n\t)\n}\n\n//Proptypes\nRadioGroup.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tgroupID: PropTypes.any,\n}\n\n","import React, {useContext, useState} from 'react'\nimport radioContext from '../../Contexts/RadioContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './RadioButton.css'\nimport {v4 as uuid} from 'uuid'\n\nexport default function RadioButton(props) {\n\t\n\tconst radioData = useContext(radioContext)\n\tconst [id] = useState(uuid())\n\t\n\tlet lockedClass = ''\n\tif (radioData.locked) { lockedClass = 'locked ' }\n\n\t//handles the clicking of the radio button - for locked radio buttons\n\tfunction clickHandler(e) {\n\t\tif (radioData.locked) {\n\t\t\te.preventDefault()\n\t\t\t\n\t\t} else{\n\t\t\tradioData.onChange(props.value)\n\t\t\t\n\t\t}\n\t}\n\t\n\tconst defaultChecked = radioData.defaultValue === props.value\n\t\n\treturn (\n\t\t<span className={\"RadioButton flexY \"+ lockedClass}>\n\t\t\t\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={defaultChecked}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tname = {radioData.groupName}\n\t\t\t\tvalue = {props.value}\n\t\t\t\tid = {id}\n\t\t\t\tstyle = {props.style}\n\t\t\t/>\n\t\t\t<label \n\t\t\t\tclassName = {lockedClass}\n\t\t\t\thtmlFor = {id}\n\t\t\t>\n\t\t\t\t{props.labelValue}\t\n\t\t\t</label>\n\t\t\t\n\t\t</span>\n\t)\n}\n\nRadioButton.propTypes = {\n\tlabelValue: PropTypes.string,\n\tvalue: PropTypes.any,\n\tstyle: PropTypes.object,\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './ControlButton.css'\n\nexport default function ControlButton(props) {\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"ControlButton\"}\n\t\t\tstyle = {props.style}\n\t\t\t\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nControlButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tstyle: PropTypes.object,\n}","import React, {useContext, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './ControlBar.css'\nimport SearchBar from './SearchBar'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function ControlBar(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t\n\tif(props.searchBar){\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\" style = {props.style}>\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t\t<div className=\"searchContainer\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<SearchBar />\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\t\n\t\t)\n\t\t\n\t} else{\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\n\t\t)\n\t}\n}\n\n//Proptypes\nControlBar.propTypes = {\n\tsearchBar: PropTypes.bool,\n\tsearchBarProps: PropTypes.object,\n\tlocked: PropTypes.bool, \n\tstyle: PropTypes.object,\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './CommentBox.css'\n\nexport default function CommentBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<textarea\n\t\t\tclassName={\"input CommentBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tplaceholder={props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t\tstyle = {props.style}\n\t\t\tvalue={props.value}\n\t\t></textarea>\n\t)\n}\n\n//Proptypes\nCommentBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n\theight: PropTypes.string,\n\twidth: PropTypes.string,\n\tvalue: PropTypes.string,\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './ComboBox.css'\nimport './InputStyles.css'\n\nexport default function ComboBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//if its locked, only allow the default option\n\tlet kids = props.children\n\tif(locked){\n\t\tkids = <option>{props.defaultValue}</option>\n\t}\n\t\n\t//If it's hidden, don't render anything\n\tif (props.hidden){return null} else{return(\n\t\t\t<select \n\t\t\t\tclassName={\"ComboBox input \" + lockedClass} \n\t\t\t\tdefaultValue={props.defaultValue}\n\t\t\t\tonChange = {changeHandler}\n\t\t\t\tdisabled = {locked}\n\t\t\t\tstyle = {props.style}\n\t\t\t>\n\t\t\t\t{kids}\n\t\t\t</select>\n\t)}\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\n\n\nexport default function CheckBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//handles the clicking of the checkbox - for locked checkboxes\n\tfunction clickHandler(e){\n\t\tif(locked){\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<label className=\"CheckBox flexY\">\n\t\t\t<input \n\t\t\t\ttype=\"checkbox\" \n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={props.defaultValue}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tstyle = {props.style}\n\t\t\t/>\n\t\t\t<span className=\"checkmark\"></span>\n\t\t\t{props.label}\n\t\t</label>\n\t)\n}\n\nCheckBox.propTypes = {\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\tonChange: PropTypes.func,\n\tdefaultValue: PropTypes.bool,\n\tstyle: PropTypes.object\n}","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport CoreButton from '../Inputs/CoreButton'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport './DockIcon.css'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function DockIcon(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tconst icon = props.faIcon ? <FontAwesomeIcon icon = {props.faIcon} /> : null\n\t\n\tconst iconStyle = {\n\t\tfontSize: props.title ? '17pt' : '20pt'\n\t}\n\t\n\tconst notifications = props.notifications < 90 ? props.notifications : '99+'\n\t\n\tconst notificationBadge = props.notifications && !locked ? \n\t<span className='notifications'>{notifications}</span> \n\t: null\n\t\n\tif(!props.hidden){return (\n\t\t<CoreButton \n\t\t\tclassName = 'DockIcon' \n\t\t\tstyle = {props.style} \n\t\t\tlocked = {props.locked}\n\t\t\tonClick = {props.onClick}\n\t\t>\n\t\t\t{notificationBadge}\n\t\t\t<div className='pic' style = {iconStyle}>{icon}</div>\n\t\t\t<div className='title'>{props.title}</div>\n\t\t</CoreButton>\n\t)} else return null\n}\n\n//proptypes\nDockIcon.propTypes = {\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\ttitle: PropTypes.string,\n\tfaIcon: PropTypes.object,\n\tstyle: PropTypes.object,\n\tnotifications: PropTypes.number,\n\tonClick: PropTypes.func,\n}\n\n","import React, {useContext} from 'react'\nimport './InfoCard.css'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport CloseButton from '../Inputs/CloseButton'\n\nexport default function InfoCard(props) {\n\t\n\t//locking the item. If a component somewhere above in the tree is locked, the context will \n\t//cause this card to be locked as well\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Assign classes based on props \n\tlet stripe = '' //Adds a stripe down the left side\n\tconst hasStripe = props.stripe || props.stripeColor\n\tif(hasStripe && !props.titleBar){stripe = 'stripe'}\n\t\n\t//Adds hover and click effects in the x, y or xy directions\n\tlet dynamic = '' //dynamic effects are ignored if locked\n\tif(!locked){\n\t\tif (props.dynamicX){dynamic = 'dynamicX '}\n\t\tif (props.dynamicY){dynamic = dynamic + ' dynamicY '}\n\t} \n\t\n\t//handles the onClick event. Only fires if the component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tfunction closeHandler(e){\n\t\te.stopPropagation()\n\t\tprops.onClose()\n\t}\n\t\n\t//If a title prop is provided, create an H1\n\tlet titleBar\n\tif(props.title){titleBar = <h1>{props.title}</h1>}\n\t\n\tlet closeButton\n\tif(props.onClose){\n\t\tcloseButton = <CloseButton onClick = {closeHandler}></CloseButton>\n\t}\n\t\n\tconst stripeStyle = props.stripeColor ? {\n\t\tborderLeftColor: props.stripeColor \n\t} : undefined\n\t\t\n\t//if 'hidden' prop is true then dont show the component\n\tif(props.hidden){return null} else{\n\t\t\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName={\"InfoCard \" + dynamic + ' ' + props.className} \n\t\t\t\tonClick = {clickHandler} \n\t\t\t\tstyle = {props.style}\n\t\t\t>\n\t\t\t\t\t\n\t\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"cardContainer\">\t\n\t\t\t\t\t\t<div className={\"textBox \" + stripe} style = {stripeStyle}>\n\t\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t\t{titleBar}\n\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</lockedContext.Provider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n//Proptypes\nInfoCard.propTypes = {\n\ttitle: PropTypes.string,\n\tstripe: PropTypes.bool,\n\tdynamicX: PropTypes.bool,\n\tdynamicY: PropTypes.bool,\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\tonClick: PropTypes.func,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func,\n\tstyle: PropTypes.object,\n}\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\nimport InfoCard from '../Containers/InfoCard'\nimport './Popup.css'\nimport useSystem from '../../Hooks/UseSystem'\n\nexport default function Popup(props) {\n\tconst system = useSystem()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Clicking the background closes the popup\n\tlet handleCloseButton\n\tif(!props.forceOpen){\n\t\thandleCloseButton = () => {\n\t\t\tif(!props.forceOpen){\n\t\t\t\tsystem.closePopup()\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\treturn(\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<InfoCard \n\t\t\t\tclassName = {'Popup '}\n\t\t\t\tstripe\n\t\t\t\ttitle = {props.title}\n\t\t\t\twidth = {props.width}\n\t\t\t\theight = {props.height}\n\t\t\t\tonClose ={handleCloseButton}\n\t\t\t\tstyle = {props.style}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</InfoCard>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nPopup.propTypes = {\n\ttitle: PropTypes.string,\n\tonClose: PropTypes.func,\n\tforceOpen: PropTypes.bool,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tlocked: PropTypes.bool,\n\tstyle: PropTypes.object,\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//used by dropdown menus to talk to items inside of themselves \nconst menuContext = createContext({})\nexport default menuContext \n","import React, {useContext, useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport menuContext from '../../Contexts/MenuContext'\nimport PropTypes from 'prop-types'\nimport './MenuButton.css'\nimport {Dropdown} from 'react-bootstrap'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCaretRight} from '@fortawesome/free-solid-svg-icons'\n\n\nexport default function MenuButton(props){\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tlet lockedClass\n\tif(locked){lockedClass = 'locked'}\n\t\n\tconst [toggling, setToggling] = useState(false)\n\t\n\t//handles both onOpen and onClose\n\tfunction toggleHandler(isOpen){\n\t\t\n\t\tif(!toggling && isOpen && props.onOpen){\n\t\t\tprops.onOpen()\n\t\t\t\n\t\t} else if(!toggling && props.onClose && !isOpen){\n\t\t\tprops.onClose()\n\t\t\tsetToggling(true)\n\t\t}\n\t\t\n\t\t//Prevent spamming\n\t\tsetTimeout(()=>setToggling(false), 300)\n\t}\n\t\n\t//check if it's inside of another menu, if so render as a submenu\n\tconst parentMenuData = useContext(menuContext)\n\tlet icon = null\n\tif(parentMenuData.submenu){\n\t\ticon = <span className='subMenuIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faCaretRight} />\n\t\t\t</span>\n\t}\n\t\n\tlet direction = props.direction\n\tif(parentMenuData.submenu){\n\t\tdirection = 'right'\n\t}\n\n\t\n\t//button\n\tconst dropButton = React.forwardRef(({onClick}, ref)=> { \n\t\t\n\t\tfunction clickHandler(e){\n\t\t\te.preventDefault()\n\t\t\tonClick(e)\n\t\t}\n\t\t\n\t\treturn( \n\t\t\t<button \n\t\t\t\tclassName={'MenuButton '+ props.className + ' ' + lockedClass}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tref={ref}\n\t\t\t\tstyle={props.style}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t{icon}\n\t\t\t\t\n\t\t\t</button>\n\t\t)\n\t})\n\n\t\n\tconst dropMenu = React.forwardRef(\n\t\t({style, className}, ref) => {\n\t  \n\t\t\treturn (\n\t\t\t\t<menuContext.Provider value={{ submenu: true }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tclassName={className + ' MenuContainer'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\tclassName={'Menu'}\n\t\t\t\t\t\t\tstyle = {props.menuStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.menuContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</menuContext.Provider>\n\t\t\t)\n\t\t}\n\t)\n\n\t//If locked return a button that does nothing, otherwise create a real dropdown button\n\tif(locked){return(dropButton)}\telse{return(\n\t\t<span className = 'menuButtonContainer'>\n\t\t\t<Dropdown drop={direction} onToggle = {toggleHandler}>\n\t\t\t\t<Dropdown.Toggle as={dropButton}/>\n\t\t\t\t<Dropdown.Menu as={dropMenu} />\n\t\t\t</Dropdown>\n\t\t</span>\n\t)}\n}\n\n//Proptypes\nMenuButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tmenuContent: PropTypes.any.isRequired,\n\tmaxHeight: PropTypes.string,\n\tdirection: PropTypes.string,\n\tonOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n\tmenuStyle: PropTypes.object,\n\tstyle: PropTypes.object,\n}","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './InputCell.css'\n\nexport default function InputCell(props) {\n\t\n\tconst [initalValue, setInitialValue] = useState(props.defaultValue)\n\t\n\t//When you focus on an item, the value is saved. if you escape, its restored\n\tfunction focusHandler(e){\n\t\tsetInitialValue(e.target.value)\n\t}\n\t\n\t//Handles keypresses, for enter or esc keys\n\tfunction keyHandler(e){\n\t\tif(e.keyCode === 27) { //esc\n\t\t\t\n\t\t\te.target.value = initalValue\n\t\t\te.target.blur()\n\t\t\t\n\t\t} else if(e.keyCode === 13){ //enter\n\t\t\t\n\t\t\tconsole.log('You pressed the enter key!')\n\t\t\t\n\t\t}\n\t}\n\t\n\t//Handles changes (commit changes)\n\tfunction changeHandler(e){\n\t\t\n\t}\n\t\n\tswitch(props.dataHeader.dataType.kind){\n\t\t\n\t\tdefault: return <input\n\t\t\tclassName = 'InputCell cellTextBox input'\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonKeyDown = {keyHandler}\n\t\t\tonFocus = {focusHandler}\n\t\t/>\n\t}\n\t\n}\n\n//Proptypes\nInputCell.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tdataRow: PropTypes.object,\n}","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTableRow.css'\nimport InputCell from './InputCell'\n\nexport default function MainTableRow(props) {\n\n\tlet dynamicClass = ''\n\tlet pointerClass = ''\n\tif(props.dynamic){dynamicClass = 'dynamic'}\n\tif(props.setActiveRecord){pointerClass = 'pointer'}\n\t\n\t//Check if this is the active row for style reasons \n\tconst [activeClass, setActiveClass] = useState('')\n\t\n\t//sends the dataRow object to the select record function\n\tfunction rowClickHandler(){\n\t\tif(props.setActiveRecord){\n\t\t\tsetActiveClass('active')\n\t\t\tprops.setActiveRecord(props.dataRow)\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif(props.activeRecord === props.dataRow) {setActiveClass('active')} else{\n\t\t\tsetActiveClass('')\n\t\t}\n\t},[props.activeRecord, props.dataRow]);\n\t\n\t//Only continue building the row if it's actually required\n\tconst row = props.dataHeaders.map(hdr => {\n\t\tif(hdr.visible){\n\t\t\t//Decide if the cell is editable or not based on the locked status, and the header onEdit function\n\t\t\tlet cellContent = props.dataRow[hdr.headerID]\n\t\t\tif(!props.locked && hdr.onEdit && ! hdr.locked){\n\t\t\t\tcellContent = <InputCell \n\t\t\t\t\tdataHeader = {hdr} \n\t\t\t\t\tdefaultValue = {cellContent}\n\t\t\t\t\tdataRow = {props.dataRow}\n\t\t\t\t/>\n\t\t\t}\n\t\t\t\n\t\t\t//No conditional formatting\n\t\t\tif (!hdr.styling){return(<span \n\t\t\t\tkey = {hdr.headerID+props.rowKey} \n\t\t\t\tstyle = {{width: hdr.width + '%'}}\n\t\t\t>\n\t\t\t\t{cellContent}\n\t\t\t</span>)\n\t\t\t\n\t\t\t} else{\n\t\t\t\t\n\t\t\t\t//apply the styling function in the header object\n\t\t\t\tconst myStyle = hdr.styling(props.dataRow[hdr.headerID], props.dataRow)\n\t\t\t\t\n\t\t\t\treturn( //with coniditional formatting\n\t\t\t\t\t\n\t\t\t\t\t<span className = 'badge' key = {hdr.headerID+props.rowKey} style = {{\n\t\t\t\t\t\twidth: 'calc(' + hdr.width + '% - 23px',\n\t\t\t\t\t\tcolor: myStyle.textColor,\n\t\t\t\t\t\tbackgroundColor: myStyle.badgeColor,\n\t\t\t\t\t\tmarginLeft: '23px'\n\t\t\t\t\t}}>\n\t\t\t\t\t\t{cellContent}\n\t\t\t\t\t</span>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t})\n\t\n\t\n\t// only the row if it passes the filter\n\treturn(\n\t\t<div \n\t\t\tclassName={'MainTableRow ' + dynamicClass + ' ' + pointerClass} \n\t\t\tonClick = {rowClickHandler}\n\t\t>\n\t\t\t<div className={\"rowContainer \" + activeClass}>\n\t\t\t\t{row}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nMainTableRow.propTypes = {\n\tdataHeaders: PropTypes.array.isRequired,\n\tdataRow: PropTypes.object.isRequired,\n\tsetActiveRecord: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tdynamic:PropTypes.bool\n}","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function InfoTab(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tif(!props.hidden){return (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<div className = {'InfoTab ' + props.tabID} style = {props.style}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)} else return null\n}\n\n//Proptypes\nInfoTab.propTypes = {\n\ttabTitle: PropTypes.string,\n\ttabID: PropTypes.string.isRequired,\n\tstyle: PropTypes.object,\n}\n","import React, {useContext} from 'react'\nimport {Tabs, Tab} from 'react-bootstrap'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './InfoTabContainer.css'\n\n\nexport default function InfoTabContainer(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\treturn (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t<div className=\"InfoTabContainer\">\n\t\t\t\t<Tabs \n\t\t\t\t\tdefaultActiveKey={props.defaultTab} \n\t\t\t\t\ttransition={false}\n\t\t\t\t\tonSelect = {(tabID)=>{\n\t\t\t\t\t\tif(props.onTabChange){props.onTabChange(tabID, locked)}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t\t{React.Children.map(props.children,(child) =>{\n\t\t\t\t\t\tif(!child.props.hidden){\n\t\t\t\t\t\t\treturn(<Tab eventKey={child.props.tabID} title={child.props.tabTitle}>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</Tab>)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nInfoTabContainer.propTypes = {\n\tdefaultTab: PropTypes.string,\n\tonTabChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n}\n\n\n","import React from 'react'\nimport produce from 'immer'\nimport './FilterMenu.css'\n\nexport default function FilterMenu(props){\n\n\tconst values = props.header.uniqueValues\n\t\n\tfunction clickHandler(e, id){\n\t\tconst cb = document.getElementById(id)\n\t\tif(e.target !== cb){cb.checked = !cb.checked}\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders)=>{\n\t\t\t\tdraftHeaders[props.header.index].uniqueValues[cb.value] = cb.checked\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction selectAll(e){\n\t\tconst cb = document.getElementById(props.header.headerID + 'selectAll')\n\t\tif (e.target !== cb) { cb.checked = !cb.checked }\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[props.header.index].selectAll(cb.checked)\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tconst spanStyle = {\n\t\ttextAlign: 'left',\n\t\tpaddingLeft: '7px',\n\t}\n\t\n\treturn (\n\t\t<div className = 'FilterMenu'>\n\t\t\t\n\t\t\t<div className = 'topMenu'>\n\t\t\t\t{props.children}\n\t\t\t\n\t\t\t\t<button onClick={selectAll} className = 'selectAll'>\n\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tdefaultChecked={!props.header.hasFilter()}\n\t\t\t\t\t\tid={props.header.headerID + 'selectAll'}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t/>\n\t\t\t\t\t<span style={spanStyle}>{'Select All'}</span>\n\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"filterOptions\">\n\t\t\t\t\n\t\t\t\t{Object.keys(values).map((v, i) => {\n\t\t\t\t\treturn (<button\n\t\t\t\t\t\tkey={props.header.id + 'fv' + i}\n\t\t\t\t\t\tonClick={(e) => clickHandler(e, props.header.headerID + 'fcb' + i)}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype = 'checkbox'\n\t\t\t\t\t\t\tdefaultChecked = {values[v]}\n\t\t\t\t\t\t\tid={props.header.headerID + 'fcb' + i}\n\t\t\t\t\t\t\tvalue = {v}\n\t\t\t\t\t\t\tstyle= {{cursor:'pointer'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span style={spanStyle}>{v !== 0 && !v ? 'Blank' : v}</span>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, {useState} from 'react'\nimport MenuButton from '../MenuButton'\nimport InfoTab from '../../Containers/InfoTab'\nimport InfoTabContainer from '../../Containers/InfoTabContainer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretDown, faFilter, faPlus} from '@fortawesome/free-solid-svg-icons'\nimport FilterMenu from './FilterMenu'\n\nexport default function TheadButton(props){\n\t\n\t//Checks if the header has an active filter, to show a different icon\n\tconst [defaultTab, setDefaultTab] = useState(props.noFilter ? 'sort' : 'filter')\n\t\n\t//filter tab - if the correct props are available to enable filtering\n\tlet filterMenu = null\n\tfilterMenu = <InfoTab tabID='filter' tabTitle='Filter' hidden = {props.noFilter}>\n\t\t<FilterMenu\n\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\theader = {props.header}\n\t\t\tdata = {props.data}\n\t\t>\n\t\t\t<button>\n\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t\t<span style={{\n\t\t\t\t\tpaddingLeft:'10px',\n\t\t\t\t}}>More Filters</span> \n\t\t\t</button>\n\t\t\t\n\t\t</FilterMenu>\n\t</InfoTab>\n\t\n\t\n\t//Sort tab - if the correct props are available to enable sorting\n\tlet sortMenu = <InfoTab tabID='sort' tabTitle='Sort' hidden={props.noSort}>\n\t\t<button>Sort Test</button>\n\t</InfoTab>\n\t\n\t//Combine available tabs - if at least one is avilable\n\tlet overallMenu = <div>\n\t\t<InfoTabContainer defaultTab = {defaultTab} onTabChange = {(tabID)=>{\n\t\t\tsetDefaultTab(tabID)\n\t\t}}>\n\t\t\t{filterMenu}\n\t\t\t{sortMenu}\n\t\t</InfoTabContainer>\n\t</div>\n\t\n\t\n\t//if there is a menu, add a dropdown icon\n\tlet icon = <FontAwesomeIcon icon={faCaretDown} />\n\tlet iconClass = ''\n\tif (props.header.hasFilter()) { \n\t\ticon = <FontAwesomeIcon icon={faFilter} />\n\t\ticonClass = 'smallerIcon'\n\t}\n\t\n\tif(props.noSort && props.noFilter) { \n\t\t\n\t\treturn(props.children)\n\t\t\n\t} else{\n\t\treturn (\n\t\t\t<MenuButton \n\t\t\t\tclassName='TheadButton' \n\t\t\t\tlocked = {false} menuContent={overallMenu}\n\t\t\t\tmenuStyle = {{maxHeight: '50vh'}}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t<span className = {iconClass}>{icon}</span>\t\t\t\n\t\t\t</MenuButton>\n\t\t)\n\t}\n}","import React from 'react'\nimport Proptypes from 'prop-types'\nimport {v4 as uuid} from 'uuid'\n\nexport default function CheckButton(props) {\n\t\n\tconst checkID = uuid()\n\t\n\tfunction clickHandler(e, id) {\n\t\tif(!props.disabled){\n\t\t\tconst cb = document.getElementById(id)\n\t\t\tif (e.target !== cb) {cb.checked = !cb.checked}\n\t\t\t\n\t\t\tif(props.onClick){props.onClick(cb.checked, props.value)}\n\t\t}\n\t}\n\t\n\tconst spanStyle = {\n\t\ttextAlign: 'left',\n\t\tpaddingLeft: '7px',\n\t}\n\t\n\treturn (<button\n\t\tonClick={(e) => clickHandler(e, checkID)}\n\t\tstyle ={{color: 'var(--mainTextColor'}}\n\t>\n\n\t\t<input\n\t\t\ttype='checkbox'\n\t\t\tdefaultChecked={props.defaultChecked}\n\t\t\tid={checkID}\n\t\t\tvalue={props.value}\n\t\t\tstyle={{cursor: 'pointer'}}\n\t\t\tdisabled = {props.disabled}\n\t\t/>\n\t\t<span style={spanStyle}>{props.children}</span>\n\t\t\n\n\t</button>)\n\t\n}\n\n\nCheckButton.propTypes={\n\tdefaultChecked: Proptypes.bool,\n\tvalue: Proptypes.any,\n\tlabel: Proptypes.string,\n\tonClick: Proptypes.func,\n\tdisabled: Proptypes.bool,\n}","import React from 'react'\nimport CheckButton from './CheckButton'\nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCog} from '@fortawesome/free-solid-svg-icons'\nimport MenuButton from '../MenuButton'\n\nexport default function TableSettings(props) {\n\n\tfunction clickHandler(checked, idx){\n\t\tprops.setTransitionClass('noTransition')\n\t\tlet reFilter = false\n\t\t\n\t\tprops.headers.set(\n\t\t\tproduce(props.headers.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[idx].visible = checked\n\t\t\t\t\n\t\t\t\tif (!checked && draftHeaders[idx].hasFilter()){\n\t\t\t\t\tdraftHeaders[idx].clearFilter()\n\t\t\t\t\treFilter = true\n\t\t\t\t}\t\n\t\t\t})\n\t\t)\n\t\t\n\t\tsetTimeout(()=>{\n\t\t\tif(reFilter){props.data.filter()}\n\t\t\tprops.setTransitionClass('')\n\t\t},0)\n\t}\n\t\n\treturn (<MenuButton \n\t\t\tlocked={false} \n\t\t\tmenuContent={\n\t\t\t\t<div style = {{overflowY: 'auto'}}>\n\t\t\t\t\t{props.headers.get().map((h) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<CheckButton\n\t\t\t\t\t\t\t\tkey={'customizeHeader' + h.headerID}\n\t\t\t\t\t\t\t\tdisabled={h.required}\n\t\t\t\t\t\t\t\tdefaultChecked={h.visible}\n\t\t\t\t\t\t\t\tvalue={h.index}\n\t\t\t\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\t\t\t>{h.displayName}</CheckButton>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t}>\n\t\t\t<FontAwesomeIcon icon={faCog} /> Table Settings\n\t</MenuButton>\n\t\t\n\t)\n}","import React from 'react'\nimport TableSettings from './TableSettings'\nimport MenuButton from '../MenuButton'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faTimesCircle, faFilter, faSortAmountUp } from '@fortawesome/free-solid-svg-icons'\nimport Popup from '../Popup'\nimport TextBox from '../../Inputs/TextBox'\nimport FreeButton from '../../Inputs/FreeButton'\nimport useSystem from '../../../Hooks/UseSystem'\n\nexport default function TableControls(props) {\n\tlet clearFilterButton = null\n\tlet sortButton = null\n\tlet filterButton = null\n\tlet settingsButton = null\n\t\n\tconst System = useSystem()\n\n\tif (props.hasFilter && !props.noFilter) {\n\t\tclearFilterButton = <button\n\t\t\tonClick={props.clearFilter}\n\t\t><FontAwesomeIcon icon={faTimesCircle} /> Clear Filter</button>\n\t}\n\n\tif (!props.noFilter) {\n\t\tfilterButton = <MenuButton menuContent = {\n\t\t\t<div>\n\t\t\t\t<MenuButton menuContent={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button>Outstanding Tasks</button>\n\t\t\t\t\t\t<button>Assigned To Me</button>\n\t\t\t\t\t\t<button>Due Soon</button>\n\t\t\t\t\t</div>\n\t\t\t\t}>Saved Filters</MenuButton>\n\t\t\t\t\n\t\t\t\t<button onClick = {()=>{\n\t\t\t\t\tSystem.openPopup(<Popup title = 'Save Filter'>\n\t\t\t\t\t\t<label>Filter Name: </label><TextBox autoFocus/>\n\t\t\t\t\t\t<FreeButton\n\t\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\t\tSystem.closePopup()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>Save</FreeButton>\n\t\t\t\t\t</Popup>)\n\t\t\t\t}}\n\t\t\t\t>Save Current Filter</button>\n\t\t\t\t\n\t\t\t</div>\n\t\t}>\n\t\t\t<span className='smallIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faFilter} />\n\t\t\t</span> Filter\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noSort) {\n\t\tsortButton = <MenuButton menuContent={\n\t\t\t<MenuButton menuContent={\n\t\t\t\t<div>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t</div>\n\t\t\t}>test</MenuButton>\n\t\t}>\n\t\t\t<FontAwesomeIcon icon={faSortAmountUp} /> Sort\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noOptions) {\n\t\tsettingsButton = <TableSettings\n\t\t\theaders={props.dataHeaders}\n\t\t\tdata={props.data}\n\t\t\tsetTransitionClass = {props.setTransitionClass}\n\t\t/>\n\t}\n\n\treturn (\n\t\t<div className='tableControls'>\n\t\t\t{settingsButton}\n\t\t\t{sortButton}\n\t\t\t{filterButton}\n\t\t\t{clearFilterButton}\n\t\t</div>\n\t)\n}","import React, {useState, useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTable.css'\nimport MainTableRow from './DisplaySupport/MainTableRow'\nimport lockedContext from '../../Contexts/LockedContext'\nimport TheadButton from './DisplaySupport/TheadButton' \nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretLeft, faCaretRight} from '@fortawesome/free-solid-svg-icons'\nimport TableControls from './DisplaySupport/TableControls'\n\nexport default function MainTable(props){\n\t\n\t//Sorting and filtering are optional (via props), only supported with if a dataset is provided\n\tlet noSort = props.noSort   \n\tlet noFilter = props.noFilter\n\tlet noOptions = props.noOptions\n\tlet searchable = props.searchable\n\t\n\t//support for dataSets or for just arrays\n\tlet data = props.data\n\tlet metaData = [{}]\n\t\n\tif(props.data.isDataset){\n\t\tdata = props.data.read()\n\t\tmetaData = props.data.getMetaData()\n\t} else{\n\t\tnoSort = true\n\t\tnoFilter = true\n\t\tsearchable =  false\n\t}\n\t\n\t//For dataSets - runs when dataSet refreshes (sets the filter options to match)\n\tuseEffect(()=>{\n\t\tif(!noFilter){\n\t\t\tprops.dataHeaders.embedData(data, metaData)\n\t\t\tprops.data.setHeaders(props.dataHeaders)\n\t\t}\n\t}, [props.data.lastResolved])\n\t\n\t//Active page handling\n\tconst [activePage, setActivePage] = useState(0)\n\t\n\t//get the length of the data with the filter applied\n\tlet dataLength = 0\n\tdata.forEach((r, idx)=>{\n\t\tif(metaData[idx]){\n\t\t\tif (metaData[idx].visible && !metaData[idx].searchHidden){dataLength ++}\n\t\t} else {\n\t\t\tdataLength++\n\t\t}\n\t\t\n\t})\n\t\n\t//if there's no way to set the active record, then no record is active\n\tlet activeRecord\n\tif(props.activeRecord && props.setActiveRecord){activeRecord = props.activeRecord}\n\t\n\t//default page Size\n\tlet pageSize = props.pageSize\n\tif(!pageSize){ pageSize = 500}\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\t//If clicking sets the active record then its animated\n\t//if there are editable cells the animations will be cancelled\n\tlet dynamic\n\tif(props.setActiveRecord){dynamic = true} \n\t\n\t//Normalize column widths to ensure they always add up to 100%\n\tlet hasFilter = false\n\tprops.dataHeaders.get().forEach(hdr => {\n\t\t//if you have input cells in the table, hover effects will be cancelled\n\t\tif(hdr.onEdit){dynamic = false}\n\t\t\n\t\t//check if any headers have active filters (to show a clear filter button)\n\t\tif(hdr.hasFilter()){hasFilter = true}\n\t})\n\t\n\t//Counter for rendered rows\n\tlet i = 1\n\t\n\t//Buttons for page controls\n\tfunction pageForward(){\n\t\tif (activePage < Math.floor(dataLength/pageSize)-1){\n\t\t\tsetActivePage(activePage + 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction BackButton(){ \n\t\tif(activePage > 0){return(\n\t\t\t<button\n\t\t\t\tonClick={pageBack}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon = {faCaretLeft}/>\n\t\t\t</button>\n\t\t)} else return null\n\t}\n\t\n\tfunction pageBack(){\n\t\tif (activePage > 0){\n\t\t\tsetActivePage(activePage - 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction ForwardButton(){ \n\t\tif(activePage < Math.floor(dataLength/pageSize) - 1){return(\n\t\t\t<button\n\t\t\t\tonClick={pageForward}\n\t\t\t><FontAwesomeIcon icon = {faCaretRight}/></button>\n\t\t)} else return null\n\t}\n\t\n\tfunction clearFilter(){\n\t\tprops.dataHeaders.set(produce(props.dataHeaders.get(), draft =>{\n\t\t\tdraft.forEach(hdr=>{\n\t\t\t\thdr.clearFilter()\n\t\t\t})\n\t\t}))\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction PageControls(){\n\t\tif(dataLength > pageSize){\n\t\t\treturn( <div className=\"pageControls\">\n\t\t\t\t<BackButton/>\n\t\t\t\t\n\t\t\t\t<button className='textButton'>Showing {1+activePage*pageSize}-\n\t\t\t\t{Math.min((1+activePage)*pageSize, dataLength) +' '}\n\t\t\t\tof {`  ${dataLength}`}</button>  \n\t\t\t\t\n\t\t\t\t<ForwardButton/>\n\t\t\t</div>)\n\t\t} else return null\n\t}\n\t\n\tconst [transitionClass, setTransitionClass] = useState('')\n\t\n\t//Render\n\treturn (\n\t\t<div className={\"MainTable \" + transitionClass}>\n\t\t\t\n\t\t\t{/* Header Titles */}\n\t\t\t<div className=\"titleBar\">\n\t\t\t\t<div className=\"topBar\">\n\t\t\t\t\t<TableControls\n\t\t\t\t\t\thasFilter = {hasFilter}\n\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\tclearFilter = {clearFilter}\n\t\t\t\t\t\tnoOptions = {noOptions}\n\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\tsetTransitionClass ={setTransitionClass}\n\t\t\t\t\t/>\n\t\t\t\t\t<PageControls/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"theadBar\">\n\t\t\t\t\t{props.dataHeaders.get().map((hdr) => {\n\t\t\t\t\t\tif(hdr.visible){return(\n\t\t\t\t\t\t\t<span style={{width: hdr.width + '%'}} key = {'header'+hdr.headerID}>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<TheadButton\n\t\t\t\t\t\t\t\t\theader = {hdr}\n\t\t\t\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\t\t\t\tnoFilter = {noFilter}o\n\t\t\t\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{hdr.displayName + ' '}\n\t\t\t\t\t\t\t\t</TheadButton>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)} else return null\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Table body data */}\n\t\t\t<div className = {'tableBody ' + props.data.lastResolved}>\n\t\t\t\t{data.map((dr, idx) => {\n\t\t\t\t\t//render the allowed numebr of rows, on th selected page\n\t\t\t\t\tif((i > activePage * pageSize) && (i <= (1 + activePage)*pageSize)){\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet renderRow = dr !== []\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(searchable){\n\t\t\t\t\t\t\trenderRow = !metaData[idx].searchHidden\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\n\t\t\t\t\t\trenderRow = renderRow && (noFilter || metaData[idx].visible)\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst r = renderRow ? \n\t\t\t\t\t\t\t<MainTableRow\n\t\t\t\t\t\t\t\tdataRow = {dr}\n\t\t\t\t\t\t\t\tdataHeaders={props.dataHeaders.get()}\n\t\t\t\t\t\t\t\tsetActiveRecord = {props.setActiveRecord}\n\t\t\t\t\t\t\t\tactiveRecord = {activeRecord}\n\t\t\t\t\t\t\t\trowKey = {'MainTableRow'+i}\n\t\t\t\t\t\t\t\tkey = {'MainTableRow'+i}\n\t\t\t\t\t\t\t\tlocked = {locked}\n\t\t\t\t\t\t\t\tdynamic = {dynamic}\n\t\t\t\t\t\t\t/> : null\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(r){i++}//Count the number of rows actually renedered (not filtered out)\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn r\n\t\t\t\t\t} else if(i <= (1 + activePage)*pageSize){i++}\n\t\t\t\t\t\n\t\t\t\t\treturn null\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n//Proptypes\nMainTable.propTypes = {\n\tsetActiveRecord: PropTypes.func,\n\tonEdit: PropTypes.func,\n\tdataHeaders: PropTypes.object.isRequired,\n\t\n\tdata: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.array\n\t]).isRequired,\n\t\n\tpageSize: PropTypes.number,\n\tlocked: PropTypes.bool,\n\tsearchable: PropTypes.bool,\n\tnoSort: PropTypes.bool,\n\tnoFilter: PropTypes.bool,\n\tnoOptions: PropTypes.bool,\n}","import React, {useEffect} from 'react'\nimport './Module.css'\nimport PropTypes from 'prop-types'\nimport useModuleData from '../../Hooks/UseModuleData'\n\nexport default function Module(props) {\n\t\n\tconst moduleData = useModuleData()\n\t\n\tfunction keyDownHandler(e){\n\t\tconst isCtrl = e.ctrlKey || e.metaKey\n\n\t\tif (isCtrl && e.keyCode === 70) {\n\t\t\te.preventDefault()\n\t\t\tconsole.log(moduleData.get('TouchPointSearchRef'))\n\n\t\t\tif (moduleData.get('TouchPointSearchRef')) {\n\t\t\t\tmoduleData.get('TouchPointSearchRef')()\n\t\t\t}\n\t\t}\n\t}\n\t\n\tuseEffect(()=>{\n\t\tmoduleData.clear()\n\t\t\n\t\twindow.addEventListener('keydown', keyDownHandler)\n\t\t\n\t\treturn(()=>{\n\t\t\tmoduleData.clear()\n\t\t\twindow.removeEventListener('keydown', keyDownHandler)\n\t\t})\n\t\t\n\t}, [])\n\t\n\treturn (\n\t\t<div className={'Module ' + props.moduleName} style = {props.style}>\n\t\t\t{props.children}\t\n\t\t</div>\n\t)\n}\n\n//Proptypes\nModule.propTypes = {\n\tmoduleName: PropTypes.string,\n\tstyle: PropTypes.object,\n}\n","import React from 'react'\nimport './SplitScreen.css'\nimport Split from 'react-split'\nimport PropTypes from 'prop-types'\n\nexport default function SplitScreen(props) {\n\t\n\tlet splitSize = 50\n\tif(props.defaultSize){splitSize = props.defaultSize}\n\t\n\treturn (\n\t\t<div className='SplitScreen'>\n\t\t\t<Split \n\t\t\t\tdirection=\"vertical\" sizes={[100 - splitSize, splitSize]}\n\t\t\t\tminSize={150}\n\t\t\t\tgutterSize={8}\n\t\t\t\tsnapOffset={1}\n\t\t\t>\n\t\t\t\t<div className=\"topView\"></div>\n\t\t\t\t\n\t\t\t\t<div className=\"bottomView\" style = {props.style}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</Split>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nSplitScreen.propTypes = {\n\tdefaultSize: PropTypes.number,\n\tstyle: PropTypes.object,\n\t\n}","import React, { useContext } from 'react'\nimport { Tabs, Tab } from 'react-bootstrap'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './ControlledTabContainer.css'\n\n\nexport default function ControlledTabContainer(props) {\n\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\n\treturn (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t<div className=\"ControlledTabContainer\" style={props.style}>\n\t\t\t\t\n\t\t\t\t<Tabs\n\t\t\t\t\tactiveKey={props.activeTab}\n\t\t\t\t\ttransition={false}\n\t\t\t\t\tonSelect={(tabID) => {\n\t\t\t\t\t\tif (props.onTabChange) { props.onTabChange(tabID, locked) }\n\t\t\t\t\t}}\n\t\t\t\t>\n\n\t\t\t\t\t{React.Children.map(props.children, (child) => {\n\t\t\t\t\t\tif (!child.props.hidden) {\n\t\t\t\t\t\t\treturn (<Tab eventKey={child.props.tabID} title={child.props.tabTitle}>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</Tab>)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nControlledTabContainer.propTypes = {\n\tactiveTab: PropTypes.string,\n\tonTabChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tstyle: PropTypes.object,\n}\n\n\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport './Dock.css'\nimport usePresence from '../../Hooks/UsePresence'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function Dock(props) {\n\t\n\tusePresence('TouchPointDock', 0, 'var(--dockWidth)')\n\t\n\t//locking the item. If a component somewhere above in the tree is locked, the context will \n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\treturn (\n\t\t<div className = 'Dock' style = {props.style}>\n\t\t\t<lockedContext.Provider value={locked}>\n\t\t\t\t{props.children}\n\t\t\t</lockedContext.Provider>\n\t\t</div>\n\t)\n}\n\nDock.propTypes={\n\tlocked: PropTypes.bool,\n\tstyle: PropTypes.object,\n}\n","export default class DataType{\n\t\n\tconstructor(kind, options){\n\t\tif(kind){this.kind = kind.toLowerCase()} else{this.kind = 'string'}\n\t\tthis.options = options\n\t}\n\t\n\t//checks if an input is valid for the datatype\n\tvalidate(input){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\treturn true\n\t\t\t\n\t\t\tcase 'number':\n\t\t\t\ttry{\n\t\t\t\t\tparseFloat(input)\t\n\t\t\t\t\treturn true\n\t\t\t\t} catch(err){return false}\n\t\t\t\t\n\t\t\tcase 'list':\n\t\t\t\tif(this.options.includes.listValues(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\n\t\t\t\n\t\t\tcase 'custom':\n\t\t\t\t//This needs so much work...\n\t\t\t\tif(this.options.validator(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\t\t\t\t\n\t\t}\n\t\t\n\t\t//if its not a valid type then ignore validation and just return true\n\t\treturn true\n\t}\n\t\n\t//Compares a value an search string to see if the value should be included in the search\n\tsearch(value, searchText){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\tif (typeof value  === 'string'){\n\t\t\t\t\tvalue = value.toLowerCase()\n\t\t\t\t\treturn value.includes(searchText.toLowerCase())\n\t\t\t\t} else{return false}\n\t\t}\n\t\t\n\t\t//if its not a vald type just return false until i deccide how to handle this better\n\t\treturn false\n\t}\n\t\n}\n\n\n","import DataType from \"./DataType\"\n\nexport default class DataHeader{\n\t\n\tconstructor(options){\n\t\t\n\t\tthis.headerID = options.headerID\n\t\tthis.displayName = options.displayName\n\t\tthis.width = options.width ? options.width : 10\n\t\tthis.required = options.required ? options.required : false\n\t\tthis.visible = (!options.visible === undefined) ? options.visible : true\n\t\tthis.index = options.index\n\t\tthis.onEdit = options.onEdit ? options.onEdit : null\n\t\tthis.locked = options.locked ? options.locked : false\n\t\tthis.dataType = options.dataType ? options.dataType : new DataType('string') \n\t\tthis.styling = options.styling ? options.styling : null\n\t\tthis.uniqueValues = {}\n\t\t\n\t\t//Default filter list only has 1 functions (array filter)\n\t\t//By default no values are selected, which is the same as saying 'select all'\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\t\n\t\n\tfilter(cellValue, dataRow){\n\t\t//Check if any of the filters fail\n\t\t//If any filters fail, res will be true. Return the opposite\n\t\treturn !Object.keys(this.filterList).some( (f)=>{\n\t\t\treturn !this.filterList[f].func(cellValue, dataRow)\n\t\t})\n\t}\n\t\n\t\n\taddFilter(filterID, filterFunction, displayName){\n\t\tthis.filterList[filterID] = {func: filterFunction, displayName: displayName, id: filterID}\n\t}\n\t\n\t\n\tremoveFilter(filterID){\n\t\tdelete this.filterList[filterID]\n\t}\n\t\n\t\n\t//Saves a list of unique values in the column - to be used in the filter dropdowns\n\tembedData(data, metaData){\n\t\tthis.uniqueValues = uniqueByColumn(data, metaData, this.headerID, this.uniqueValues)\n\t}\n\t\n\t\n\tselectAll(setVal){\n\t\tObject.keys(this.uniqueValues).map((uv)=>{\n\t\t\tthis.uniqueValues[uv] = setVal\n\t\t})\n\t}\n\t\n\t//checks if there are any active filters, including the array filter\n\thasFilter(){\n\t\t//array filter is always there, check if any other filters are there\n\t\tlet testRes = Object.keys(this.filterList).length === 1\n\t\t\n\t\t//if there are no other filters, check if the array filter is active\n\t\tif(testRes){\n\t\t\tObject.keys(this.uniqueValues).forEach((val) => {\n\t\t\t\tif (!this.uniqueValues[val]){testRes = false}\n\t\t\t})\n\t\t}\n\n\t\treturn !testRes\n\t}\n\t\n\tclearFilter(){\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.selectAll(true)\n\t}\n\t\n\tsetVisible(bool){\n\t\tthis.visible = bool\n\t}\n}\n\n\n//Returns an array of unique values from a column of DataRow objects\nfunction uniqueByColumn(data, metaData, columnID, oldValues) {\n\tconst res = {}\n\t\n\tdata.forEach((r, idx) => {\n\t\t\n\t\tif (metaData[idx].visible || metaData[idx].filteredBy === columnID + ';'){\n\t\t\t//New vales added as true, old values keep their value\n\t\t\tif (oldValues[r[columnID]] === undefined){\n\t\t\t\tres[r[columnID]] = true\n\t\t\t} else{\n\t\t\t\tres[r[columnID]] = oldValues[r[columnID]]\n\t\t\t}\n\t\t}\n\t})\n\t\n\tconst orderedRes = {}\n\t\n\tObject.keys(res).sort().forEach((key)=>{\n\t\torderedRes[key] = res[key]\n\t})\n\n\treturn orderedRes\n}","import {useState, useEffect} from 'react'\nimport useModuleData from '../Hooks/UseModuleData'\n\n\n//Initialises a Dataset and caches the value\nexport default function useDataset(fetchFunction, defaultValue = [{}]) {\n\t\n\t//The array contains an empty object by default\n\tconst [data, setData] = useState(defaultValue)\n\tconst [metaData, setMetaData] = useState([{visible: true, filteredBy: ''}])\n\tconst [status, setStatus] = useState('Pending')\n\tconst [lastResolved, setLastResolved] = useState()\n\tconst [headers, setHeaders] = useState({ get: () => { return [] } })\n\n\t//Search data on change\n\tconst searchText = useModuleData().get('TouchPointSearchText')\n\t\n\tfunction searchData(values) {\n\n\t\tconst newMetaData = []\n\n\t\tvalues.forEach((r, idx) => {\n\n\t\t\tconst rowMeta = metaData[idx] ? metaData[idx] : {}\n\t\t\trowMeta.searchHidden = false\n\n\t\t\tif (searchText) {\n\n\t\t\t\trowMeta.searchHidden = !headers.get().some((hdr) => {\n\t\t\t\t\treturn hdr.dataType.search(r[hdr.headerID], searchText)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tnewMetaData.push(rowMeta)\n\t\t})\n\n\t\treturn newMetaData\n\t}\n\t\n\tuseEffect(() => {\n\t\tsetMetaData(searchData(data))\n\t}, [searchText])\n\n\t//Filters the data based on given headers\n\tfunction filterData(values){\n\t\t\n\t\tconst newMetaData = []\n\t\t\n\t\tvalues.forEach((r, idx) => {\n\t\t\t\n\t\t\tconst rowMeta = metaData[idx] ? metaData[idx] : {}\n\t\t\trowMeta.filteredBy = ''\n\t\t\t\n\t\t\tlet noRender = false\n\t\t\theaders.get().forEach((h) => {\n\t\t\t\t//filter\n\t\t\t\tif (!h.filter(r[h.headerID], r)) {\n\t\t\t\t\tnoRender = true\n\t\t\t\t\trowMeta.filteredBy = rowMeta.filteredBy + [h.headerID] + ';'\n\t\t\t\t}\n\t\t\t})\n\n\t\t\trowMeta.visible = !noRender \n\t\t\tnewMetaData.push(rowMeta)\n\t\t})\n\t\t\n\t\treturn newMetaData\n\t}\n\t\n\t//Fetch data and update state once the operation is complete. Keep the old value in the meantime\n\tasync function fetchData() {\n\t\tsetStatus('Pending')\n\n\t\ttry {\n\t\t\tconst value = await fetchFunction()\n\t\t\t\n\t\t\tsetMetaData(searchData(value))\n\t\t\tsetMetaData(filterData(value))\n\t\t\tsetData(value)\n\t\t\t\n\t\t\tsetStatus('Resolved')\n\t\t\tsetLastResolved(Date())\n\t\t\treturn status\n\t\t\t\n\t\t} catch (e) {\n\t\t\tsetStatus('Rejected')\n\t\t\tconsole.error(e)\n\t\t\treturn status\n\t\t}\n\t}\n\t\n\t//If it's a subdataset, forward the refresh request to the parent\n\tfunction refreshData(){\n\t\tif (status !== 'Pending') {\n\t\t\tfetchData()\n\t\t}\n\t}\n\t\n\t//Automatically run the fetching function the first time, then wait for a refresh\n\t//If the dataset was spawned by a parent dataset, send its refresh function to the parent, so it can refresh when the parent refreshes\n\tuseEffect(()=>{ \n\t\tfetchData()\n\t},[])\n\t\n\t//Return a Dataset object\n\treturn ({\n\t\tread: () => { return data },\n\t\tgetMetaData: ()=>{ return metaData },\n\n\t\trefresh: refreshData,\n\n\t\tstatus: status,\n\t\tlastResolved: lastResolved,\n\t\tsetHeaders: setHeaders,\n\t\tisDataset: true,\n\t\t\n\t\tfilter: () => {\n\t\t\tconst newMeta = filterData(data)\n\t\t\tsetMetaData(newMeta)\n\t\t\theaders.embedData(data, newMeta)\n\t\t},\n\t})\n}","import {useState} from 'react'\nimport produce from 'immer'\nimport DataHeader  from '../DataObjects/DataHeader'\n\n\n//Crates a set of DataHeaders, for use with a mainTable\nexport default function useHeaders(dataHeaders = []) {\n\t\n\tfunction normalize(headerArray){\n\t\tlet totalWidth = 0\n\t\theaderArray.forEach((hdr)=>{\n\t\t\tif(hdr.visible){totalWidth = totalWidth + hdr.width}\n\t\t})\n\t\t\n\t\treturn headerArray.map((hdr, i)=>{\n\t\t\thdr.width = 99 * (hdr.width / totalWidth)\n\t\t\thdr.index = i\n\t\t\treturn hdr\n\t\t})\n\t}\n\n\t//Saves a list of unique values in each column (header) - to be used in the filter dropdowns\n\tfunction embedData(data, metaData) {\n\t\t//using Immer to edit the header state while keeping it immutable\n\t\tsetHeaders(produce(headers, (draft) => {\n\t\t\tdraft.map((hdr) => {\n\t\t\t\thdr.embedData(data, metaData)\n\t\t\t})\n\t\t}))\n\t}\n\n\tconst [headers, setHeaders] = useState(normalize(dataHeaders.map((hdr)=>{\n\t\treturn(new DataHeader(hdr))\n\t})))\n\n\treturn ({\n\t\tget: () => {return headers},\n\t\tset: (val) => {setHeaders(normalize(val))},\n\t\tembedData: embedData\n\t})\n}"],"names":["SystemPopupHandler","props","clickBackdrop","e","target","classList","contains","activePopup","forceOpen","system","closePopup","forceClass","popupEffect","lockedContext","createContext","moduleContext","SystemModuleContainer","styleSettings","height","layout","heightCSS","width","widthCSS","right","moduleList","getModules","moduleDataState","useState","locked","Object","keys","map","m","component","getHomeModule","systemContext","SystemThemeEngine","themes","orange","tableActiveColor","mainTextColor","labelColor","lockedTextColor","navColor","navTextColor","navHoverColor","navClickedColor","bodyAltBG","cardBG","shadowColor","freeButtonNeutralBG","freeButtonPositiveBG","freeButtonNegativeBG","freeButtonTextColor","inputColor","blue","dark","themeName","themeData","toLowerCase","entries","forEach","key","value","document","documentElement","style","setProperty","localStorage","setItem","setTheme","getItem","CoreButton","lockedFromAbove","useContext","undefined","lockedClass","clickHandler","onClick","hidden","className","children","propTypes","PropTypes","bool","func","string","object","CloseButton","faTimes","AppDrawer","trueLeft","drawer","isOpen","drawerLeft","setDrawerLeft","useEffect","close","handlerClass","exists","left","TouchPointApp","setPopup","screenBlock","setScreenBlock","setPopupEffect","moduleLock","setModuleLock","drawerIsOpen","setDrawerIsOpen","drawerData","setDrawerData","screenEffect","setScreenEffect","System","modules","homeModule","themeEngine","openModule","moduleName","window","location","href","onOpenModule","disableInput","forTime","setTimeout","enableInput","openPopup","PopupComponent","open","data","setData","widths","heights","io","getUserTheme","screenBlocker","SystemDrawerHandler","isRequired","any","useSystem","usePresence","componentName","refreshCSS","values","h","w","AppToolbar","devMode","process","env","NODE_ENV","blur","faHome","name","AppFooter","v","getVersion","getActiveUser","getSecurityProfile","number","environment","newProps","defaultOpen","FreeButton","purpose","wideClass","wide","Tile","splash","setSplash","splashScreen","icon","title","TextBox","changeHandler","onChange","blurHandler","onBlur","keyPressHandler","onEnter","defaultValue","placeholder","inputRef","autoFocus","useModuleContext","dataSource","setDataSource","get","set","produce","draftSource","clear","SearchBar","moduleData","useModuleData","searchFunction","setSearchFunction","searchRef","useRef","searchBarValue","setSearchBarValue","focusSearchBar","current","focus","searchHandler","clearTimeout","faSearch","radioContext","RadioGroup","uuid","groupName","groupID","radioData","RadioButton","id","preventDefault","defaultChecked","labelValue","ControlButton","ControlBar","searchBar","searchBarProps","CommentBox","ComboBox","kids","CheckBox","label","DockIcon","faIcon","iconStyle","fontSize","notifications","notificationBadge","InfoCard","stripe","hasStripe","stripeColor","titleBar","dynamic","dynamicX","dynamicY","closeHandler","stopPropagation","onClose","closeButton","stripeStyle","borderLeftColor","Popup","handleCloseButton","menuContext","MenuButton","toggling","setToggling","toggleHandler","onOpen","parentMenuData","submenu","faCaretRight","direction","dropButton","React","forwardRef","ref","dropMenu","menuStyle","menuContent","maxHeight","InputCell","initalValue","setInitialValue","focusHandler","keyHandler","keyCode","console","log","dataHeader","dataType","kind","dataRow","MainTableRow","dynamicClass","pointerClass","setActiveRecord","activeClass","setActiveClass","rowClickHandler","activeRecord","row","dataHeaders","hdr","visible","cellContent","headerID","onEdit","styling","rowKey","myStyle","color","textColor","backgroundColor","badgeColor","marginLeft","array","InfoTab","tabID","tabTitle","InfoTabContainer","defaultTab","onTabChange","Children","child","FilterMenu","header","uniqueValues","cb","getElementById","checked","draftHeaders","index","filter","selectAll","spanStyle","textAlign","paddingLeft","hasFilter","cursor","i","TheadButton","noFilter","setDefaultTab","filterMenu","faPlus","sortMenu","noSort","overallMenu","faCaretDown","iconClass","faFilter","CheckButton","checkID","disabled","Proptypes","TableSettings","idx","setTransitionClass","reFilter","headers","clearFilter","overflowY","required","displayName","faCog","TableControls","clearFilterButton","sortButton","filterButton","settingsButton","faTimesCircle","faSortAmountUp","noOptions","MainTable","searchable","metaData","isDataset","read","getMetaData","embedData","setHeaders","lastResolved","activePage","setActivePage","dataLength","r","searchHidden","pageSize","pageForward","Math","floor","BackButton","pageBack","faCaretLeft","ForwardButton","draft","PageControls","min","transitionClass","dr","renderRow","oneOfType","Module","keyDownHandler","isCtrl","ctrlKey","metaKey","addEventListener","removeEventListener","SplitScreen","splitSize","defaultSize","ControlledTabContainer","activeTab","Dock","DataType","options","input","parseFloat","err","includes","listValues","validator","searchText","DataHeader","filterList","arrayFilter","cellValue","some","f","filterID","filterFunction","uniqueByColumn","setVal","uv","testRes","length","val","columnID","oldValues","res","filteredBy","orderedRes","sort","useDataset","fetchFunction","setMetaData","status","setStatus","setLastResolved","searchData","newMetaData","rowMeta","search","push","filterData","noRender","fetchData","Date","error","refreshData","refresh","newMeta","useHeaders","normalize","headerArray","totalWidth"],"mappings":"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"}