{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/touchpoint-ui/SystemComponents/SystemPopupHandler.js","../src/touchpoint-ui/Contexts/LockedContext.js","../src/touchpoint-ui/SystemComponents/SystemModuleContainer.js","../src/touchpoint-ui/Contexts/SystemContext.js","../src/touchpoint-ui/SystemComponents/ThemeEngine.js","../src/touchpoint-ui/Components/Core/TouchPointApp.js","../src/touchpoint-ui/Hooks/UseSystem.js","../src/touchpoint-ui/Hooks/UsePresence.js","../src/touchpoint-ui/Components/Core/AppToolbar.js","../src/touchpoint-ui/Components/Core/AppFooter.js","../src/touchpoint-ui/Components/Inputs/CoreButton.js","../src/touchpoint-ui/Components/Inputs/FreeButton.js","../src/touchpoint-ui/Components/Inputs/Tile.js","../src/touchpoint-ui/Components/Inputs/TextBox.js","../src/touchpoint-ui/Components/Inputs/SearchBar.js","../src/touchpoint-ui/Contexts/RadioContext.js","../src/touchpoint-ui/Components/Inputs/RadioGroup.js","../src/touchpoint-ui/Components/Inputs/RadioButton.js","../src/touchpoint-ui/Components/Inputs/ControlButton.js","../src/touchpoint-ui/Contexts/ModuleContext.js","../src/touchpoint-ui/Components/Inputs/ControlBar.js","../src/touchpoint-ui/Components/Inputs/CommentBox.js","../src/touchpoint-ui/Components/Inputs/ComboBox.js","../src/touchpoint-ui/Components/Inputs/CloseButton.js","../src/touchpoint-ui/Components/Inputs/CheckBox.js","../src/touchpoint-ui/Components/Containers/InfoCard.js","../src/touchpoint-ui/Components/Display/Popup.js","../src/touchpoint-ui/Contexts/MenuContext.js","../src/touchpoint-ui/Components/Display/MenuButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/InputCell.js","../src/touchpoint-ui/Components/Display/DisplaySupport/MainTableRow.js","../src/touchpoint-ui/Components/Containers/InfoTab.js","../src/touchpoint-ui/Components/Containers/InfoTabContainer.js","../src/touchpoint-ui/Components/Display/DisplaySupport/FilterMenu.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TheadButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/CheckButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableSettings.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableControls.js","../src/touchpoint-ui/Components/Display/MainTable.js","../src/touchpoint-ui/Components/Containers/Module.js","../src/touchpoint-ui/Components/Containers/SplitScreen.js","../src/touchpoint-ui/DataObjects/DataType.js","../src/touchpoint-ui/DataObjects/DataHeader.js","../src/touchpoint-ui/Hooks/UseDataset.js","../src/touchpoint-ui/Hooks/UseHeaders.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import './SystemPopupHandler.css'\n\nexport default function SystemPopupHandler(props) {\n\t\n\t//Clicking the background closes the popup\n\tfunction clickBackdrop(e){\n\t\tif(e.target.classList.contains('systemPopupBackdrop') && (!props.activePopup.props.forceOpen)){\n\t\t\tprops.system.closePopup()\n\t\t}\n\t}\n\t\n\tlet forceClass = ''\n\tif(props.activePopup!==null && props.activePopup.props.forceOpen){forceClass = 'forceOpen'}\n\t\n\t//If the active popup isn't null, render it\n\tif(props.activePopup != null){\n\t\t\n\t\t//support for oth JSX and function components\n\t\t// if(typeof props.activePopup === 'function'){pop = props.activePopup()}\n\t\t\n\treturn (\n\t\t<div \n\t\t\tclassName = {\"systemPopupBackdrop \" + props.popupEffect + ' ' + forceClass} \n\t\t\tonClick = {clickBackdrop}\n\t\t>\n\t\t\t{props.activePopup}\n\t\t</div>)\n\t\t\t\n\t} else return null\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Locking context. If a compnent is locked, then all child components will be locked as well \n//Only certain components support locking (see docs for more information)\nconst lockedContext = createContext(false)\nexport default lockedContext ","import React from 'react';\nimport lockedContext from '../Contexts/LockedContext'\n\t\nexport default function SystemModuleContainer(props) {\n\t\n\tlet n = 0\n\tif(props.system.layout.hasSystemToolbar){n++}\n\tif(props.system.layout.hasSystemFooter){n++}\n\t\n\t//Adjusts the module container to fit between the system toolbars\n\tconst styleSettings = {\n\t\theight: 'calc(100vh - ' + n + ' * var(--systemToolbarHeight))',\n\t\twidth: '100vw'\n\t}\n\t\n\t//Get the active module\n\tlet ActiveModule = props.system.getModules()[props.system.getActiveModule()]\n\t\n\t//If there's no active module render the home module\n\tif(!ActiveModule){\n\t\tActiveModule = props.system.getModules()[props.system.getHomeModule()]\n\t\t\n\t} else if(!ActiveModule){ //If there's no home module render the first module in the list\n\t\tActiveModule = Object.keys(props.system.getModules())[0]\n\t}\n\t\t\n\t//Render the chosen module\n\treturn(\n\t\t<lockedContext.Provider value = {ActiveModule.locked || props.locked}>\n\t\t\t<div className = {\"moduleContainer\"} style = {styleSettings}>\n\t\t\t\t<ActiveModule.component />\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n\t\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//System wide variables (eg. activeUser, theming functions etc.) to be defined in the App component. \nconst systemContext = createContext({})\nexport default systemContext \n","export default class SystemThemeEngine{\n\t\n\tconstructor(){\n\t\t//The list of available themes.\n\t\tthis.themes = {\n\t\t\torange: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(221, 70, 0)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(211, 67, 0)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.034)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'rgb(0, 138, 230)',\n\t\t\t\tfreeButtonNegativeBG: 'rgb(211, 67, 0)',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tblue: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(2, 187, 219)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(0, 138, 230)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.014)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tdark: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: '#63A1FF',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tlabelColor: '#63A1FF',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: '#35363A',\n\t\t\t\tnavTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: '#222229',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: '#313440',\n\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.06)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: '#202124',\n\t\t\t},\n\t\t}\n\t}\n\t\n\t//Set the CSS cariables that control theme colors\n\tsetTheme(themeName){\n\t\t//check if a theme exists with that name \n\t\tif(this.themes[themeName]){\n\t\t\t\n\t\t\tconst themeData = this.themes[themeName.toLowerCase()]\n\t\t\t\n\t\t\tObject.entries(themeData).forEach(([key, value]) => {\n\t\t\t\tdocument.documentElement.style.setProperty('--' + key, value)\n\t\t\t})\n\t\t\t\n\t\t\tlocalStorage.setItem('themeName',themeName)\n\t\t}\n\t}\n\t\n\t//fethches the user's preferred theme and applies it\n\tgetUserTheme(userName){\n\t\tthis.setTheme(localStorage.getItem('themeName'))\n\t}\n}\n","import './TouchPointApp.css'\nimport React, {useState, useEffect} from 'react'\nimport SystemPopupHandler from '../../SystemComponents/SystemPopupHandler'\nimport SystemModuleContainer from '../../SystemComponents/SystemModuleContainer'\nimport systemContext from '../../Contexts/SystemContext'\nimport SystemThemeEngine from '../../SystemComponents/ThemeEngine'\nimport PropTypes from 'prop-types'\n\nexport default function TouchPointApp(props) {\n\t\n\t//System-wide state\n\tconst [activePopup, setPopup] = useState(null);\n\tconst [activeModule, setActiveModule] = useState(props.defaultModule)\n\t\n\t//Set moduleTransition to 'transition' while the modules are being switched out\n\tconst [screenEffect, setScreenEffect] = useState('')\n\tconst [screenBlock, setScreenBlock] = useState(false) //if true, no clicks will register\n\tconst [popupEffect, setPopupEffect] = useState('')\n\t\n\t//Layout state - allows modules to fit available space between system toolbars\n\tconst [hasAppToolbar, setHasAppToolbar] = useState(false)\n\tconst [hasAppFooter, setHasAppFooter] = useState(false)\n\t\n\t//Functions that are available to all modules and can be used system-wode \n\t//Used for things like switching modules, sending out emails, etc. for consistency across the system\n\tconst System = {\n\t\n\t\t//Accessing system wide information\n\t\tgetActiveModule: () => {return(activeModule)},\n\t\t//Create a copy of props.modules, excluding any hidden modules. \n\t\tgetModules: () => {\n\t\t\tconst modules = {}\n\t\t\tObject.keys(props.modules).forEach((m)=>{\n\t\t\t\tif(!props.modules[m].hidden){\n\t\t\t\t\tmodules[m] = props.modules[m]\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\treturn modules\n\t\t},\n\t\tgetHomeModule: () => {return props.homeModule},\n\t\t\n\t\t//Setting system wide variables\n\t\tsetTheme: (themeName) => {\n\t\t\tconst themeEngine = new SystemThemeEngine\n\t\t\tthemeEngine.setTheme(themeName)\n\t\t},\n\t\t\n\t\t//Interacting with the parent app\n\t\topenModule: (moduleName) => {\n\t\t\t\n\t\t\tif(props.modules[moduleName]){\n\t\t\t\tsetActiveModule(moduleName)\n\t\t\t}\n\t\t},\n\t\t\n\t\tdisableInput: (forTime) => {\n\t\t\tsetScreenBlock(true)\n\t\t\t\n\t\t\tif(forTime){\n\t\t\t\tsetTimeout(() => setScreenBlock(false), forTime)\n\t\t\t}\n\t\t},\n\t\t\n\t\tenableInput: () => {setScreenBlock(false)},\n\t\t\n\t\topenPopup: (PopupComponent) => {\n\t\t\tsetScreenBlock(true)\n\t\t\tsetTimeout(() => setScreenBlock(false), 400)\n\t\t\t\n\t\t\tsetScreenEffect('blurScreenEffect')\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetPopup(PopupComponent)\n\t\t\tsetTimeout(() => setPopupEffect(''), 0)\n\t\t},\n\t\t\n\t\tclosePopup: () => {\n\t\t\tif(activePopup.props.onClose){activePopup.props.onClose()}\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetTimeout(()=>setPopup(null), 250)\n\t\t\tsetScreenEffect('')\n\t\t},\n\t\t\n\t\t//Internal variables for structuring the app\n\t\tlayout: {\n\t\t\thasAppToolbar: hasAppToolbar,\n\t\t\tsetHasAppToolbar: setHasAppToolbar,\n\t\t\t\n\t\t\thasAppFooter: hasAppFooter,\n\t\t\tsetHasAppFooter: setHasAppFooter,\n\t\t},\n\t\t\n\t\tio: props.io\n\t}\n\t\n\t//Initial setup. Initaializes the theme handler object, and sets the theme to the preffered user theme\n\tuseEffect(() => {\n\t\tconst themeEngine = new SystemThemeEngine()\n\t\tthemeEngine.getUserTheme(System.io.getActiveUser())\n\t}, [])\n\t\n\t//Input blocker for clicks\n\tlet screenBlocker = null\n\tif(screenBlock){\n\t\tscreenBlocker = <div className=\"screenBlocker\" />\n\t\t\n\t} else screenBlocker = null\n\t\n\t//The App JSX itself\n\treturn (\n\t\t<div className={\"TouchPointApp \"}>\n\t\t\t<systemContext.Provider value ={System}>\n\t\t\t\t\n\t\t\t\t{screenBlocker}\n\t\t\t\t\n\t\t\t\t<div className={'screenEffect ' + screenEffect}>\n\t\t\t\t\t\n\t\t\t\t\t{props.children}\n\t\t\t\t\t\n\t\t\t\t\t<SystemModuleContainer system = {System} locked = {props.locked}/>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<SystemPopupHandler \n\t\t\t\t\tsystem = {System} \n\t\t\t\t\tactivePopup = {activePopup}\n\t\t\t\t\tpopupEffect = {popupEffect}\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t</systemContext.Provider>\n\t\t</div>\n\t);\n}\n\n//Proptypes\nTouchPointApp.propTypes = {\n\tlocked: PropTypes.bool,\n\tmodules: PropTypes.object.isRequired,\n\tactiveUser: PropTypes.string.isRequired,\n\thomeModule: PropTypes.string,\n\tio: PropTypes.any\n}\n","import systemContext from '../Contexts/SystemContext'\n\n//Returns a refference to the System object - allowing modules to interact with the parent app\nexport default function useSystem() {\n\treturn useContext(systemContext)\n}","import {useEffect} from 'react'\n\n//Allows a system component (like the app-wide toolbar) to declare its presence, so the module container \n//can resize to fit around them\nexport default function usePresence(componentName) {\n\tconst System = useSystem()\n\n\tuseEffect(() => {\n\t\tSystem.layout['setHas' + componentName](true)\n\n\t\treturn (() => {\n\t\t\tSystem.layout['setHas' + componentName](false)\n\t\t})\n\t}, [])\n}","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './AppToolbar.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\nimport {Dropdown, DropdownButton} from 'react-bootstrap'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faHome} from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function AppToolbar(props){\n\t\n\tconst System = useSystem()\n\tlet devMode = ''\n\tif(process.env.NODE_ENV === 'development'){ devMode = '(Dev Mode)'}\n\t\n\t//Declare itself to the app so the modules can be fit around it \n\tusePresence('AppToolbar')\n\t\n\tconst moduleList = System.getModules()\n\t\n\treturn (\n\t\t<div className=\"AppToolbar flexY\">\n\t\t\t<div className=\"buttonContainer flexY\">\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"homeButton\" \n\t\t\t\t\tonClick = {(e)=>{\n\t\t\t\t\t\tSystem.openModule(System.getHomeModule())\n\t\t\t\t\t\te.target.blur()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon icon={faHome} /> Home\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Application\">\n\t\t\t\t\t\n\t\t\t\t\t{Object.keys(moduleList).map((m) => {\n\t\t\t\t\t\tif (m !== System.getHomeModule()) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tonClick={() => System.openModule(m)}\n\t\t\t\t\t\t\t\t\tkey={'SystemToolBarOpenModule' + m}\n\t\t\t\t\t\t\t\t>{moduleList[m].name}</Dropdown.Item>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t</DropdownButton>\n\t\t\t\n\t\t\t\t<DropdownButton title=\"Tools\">\n\t\t\t\t\t<Dropdown.Item>Class V Estimation</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Settings\">\n\t\t\t\t\t<Dropdown.Item>User Delegation</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('blue')}>Blue Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('orange')}>Orange Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('dark')}>Dark Theme</Dropdown.Item>\n\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Support\">\n\t\t\t\t\t<Dropdown.Item>Request Change</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Report Bug</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Contact Dev Team</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Help\">\n\t\t\t\t\t<Dropdown.Item>View Help Files</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>About DMS</Dropdown.Item>\n\t\t\t\t</DropdownButton>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"brandingContainer\">\n\t\t\t\tBruce Power DMS {devMode}\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t)\n}\n","import React from 'react'\nimport './AppFooter.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\n\nexport default function AppFooter(props) {\n\t\n\tconst System = useSystem() \n\tconst v = System.io.getVersion()\n\t\n\t//Declare itself to the app so the modules can be fit around it\n\tusePresence('AppFooter')\n\t\n\treturn (\n\t\t<div className=\"AppFooter\">\n\t\t\t<span className=\"leftSide\">\n\t\t\t\t{System.io.getActiveUser()} | \n\t\t\t\tSecurity Profile: {System.io.getSecurityProfile()} | \n\t\t\t\tVersion: {v.number + ' - ' + v.environment}\n\t\t\t</span>\n\t\t\t\n\t\t\t<span className=\"rightSide\">\n\t\t\t\t\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './CoreButton.css'\n\n\nexport default function CoreButton(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tif(!props.hidden){return (\n\t\t\n\t\t<button className={'CoreButton ' + lockedClass + ' ' + props.className}\n\t\t\tonClick ={clickHandler}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t\t\n\t)} else{return null}\n}\n\n//Proptypes\nCoreButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tclassName: PropTypes.string\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './FreeButton.css'\n\nexport default function FreeButton(props) {\n\t\n\tlet purpose = 'neutral '\n\tlet wideClass = ''\n\tlet circleClass = ''\n\tif (props.purpose){purpose = props.purpose.toLowerCase()}\n\tif (props.wide){wideClass = 'wide '}\n\t\n\t\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"FreeButton \" + purpose + ' ' + wideClass + ' ' + props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nFreeButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tpurpose: PropTypes.string,\n\twide: PropTypes.bool\n}","import React, {useContext} from 'react'\nimport './Tile.css'\nimport {useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\n\nexport default function Tile(props) {\n\t\n\t//When a module is clicked, a splash screen is dispalyed for a second\n\tconst [splash, setSplash] = useState()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tfunction clickHandler(){\n\t\tif(!locked && props.splashScreen && props.onClick){\n\t\t\tsetSplash('splashScreen')\n\t\t\tsetTimeout( () => {props.onClick()}, 550)\n\t\t\t\n\t\t} else if(!locked && props.onClick){\n\t\t\tprops.onClick()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className={\"Tile \" + splash} onClick = {clickHandler}> \n\t\t\n\t\t\t<div className=\"logo flexCenter\">\n\t\t\t\t<img src={props.icon}/> \n\t\t\t</div> \n\t\t\t\n\t\t\t{props.title}\n\t\t\t\n\t\t</div>\n\t)\n\t\n}\n\n//Proptypes\nTile.propTypes = {\n\tlocked: PropTypes.bool,\n\ticon: PropTypes.any,\n\ttitle: PropTypes.string,\n\tsplashScreen: PropTypes.bool,\n\tonClick: PropTypes.func\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\n\nexport default function TextBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\tif(e.key === 'Enter' && props.onEnter!==undefined){\n\t\t\tprops.onEnter(e)\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<input \n\t\t\ttype=\"text\" \n\t\t\tclassName={\"input TextBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tplaceholder = {props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t/>\n\t)\n}\n\n//Proptypes\nTextBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n}\n\n","import React, {useState, useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport TextBox from './TextBox'\nimport PropTypes from 'prop-types'\nimport './SearchBar.css'\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function SearchBar(props) {\n\t\n\tconst [searchText, setSearchText] = useState(props.defaultValue)\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Search button click event\n\tfunction searchHandler(e){\n\t\tif(!locked && props.onSearch){\n\t\t\tprops.onSearch(e, searchText)\n\t\t} \n\t}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tsetSearchText(e.target.value)\n\t\t\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<span className=\"SearchBar\"> \n\t\t\t<TextBox \n\t\t\t\tlocked = {props.locked}\n\t\t\t\tdefaultValue = {props.defaultValue}\n\t\t\t\tonChange= {changeHandler}\n\t\t\t\thidden = {props.hdden}\n\t\t\t\tonEnter = {props.onSearch}\n\t\t\t\tplaceholder = \"Search\"\n\t\t\t\tonBlur = {props.onBlur}\n\t\t\t/>\n\t\t\t\n\t\t\t<button className=\"searchButton\"\n\t\t\t\tonClick = {searchHandler}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSearch} />\n\t\t\t</button>\n\t\t\t\n\t\t</span>\n\t)\n}\n\n//Proptypes\nSearchBar.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonSearch: PropTypes.func,\n\tonBlur: PropTypes.func\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by RadioGroup to connect all the radio buttons below\nconst radioContext = createContext('')\nexport default radioContext ","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport lockedContext from '../../Contexts/LockedContext'\nimport radioContext from '../../Contexts/RadioContext'\nimport {v4 as uuid} from 'uuid'\n\n\nexport default function RadioGroup(props) {\n\t\n\t//decides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\tconst [groupName] = useState(uuid())\n\t\n\tfunction onChange(value){\n\t\tif(props.onChange){props.onChange(value)}\n\t}\n\t\n\tconst radioData = {\n\t\tonChange: onChange,\n\t\tgroupName: groupName,\n\t\tlocked: locked,\n\t\tdefaultValue: props.defaultValue\n\t}\n\t\n\treturn (\n\t\t<radioContext.Provider value={radioData}>\n\t\t\t{props.children}\n\t\t</radioContext.Provider>\n\t)\n}\n\n//Proptypes\nRadioGroup.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n}","import React, {useContext, useState} from 'react'\nimport radioContext from '../../Contexts/RadioContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './RadioButton.css'\nimport {v4 as uuid} from 'uuid'\n\nexport default function RadioButton(props) {\n\t\n\tconst radioData = useContext(radioContext)\n\tconst [id] = useState(uuid())\n\t\n\tlet lockedClass = ''\n\tif (radioData.locked) { lockedClass = 'locked ' }\n\n\t//handles the clicking of the radio button - for locked radio buttons\n\tfunction clickHandler(e) {\n\t\tif (radioData.locked) {\n\t\t\te.preventDefault()\n\t\t\t\n\t\t} else{\n\t\t\tradioData.onChange(props.value)\n\t\t\t\n\t\t}\n\t}\n\t\n\tconst defaultChecked = radioData.defaultValue === props.value\n\t\n\treturn (\n\t\t<span className={\"RadioButton flexY \"+ lockedClass}>\n\t\t\t\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={defaultChecked}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tname = {radioData.groupName}\n\t\t\t\tvalue = {props.value}\n\t\t\t\tid = {id}\n\t\t\t/>\n\t\t\t<label \n\t\t\t\tclassName = {lockedClass}\n\t\t\t\thtmlFor = {id}\n\t\t\t>\n\t\t\t\t{props.labelValue}\t\n\t\t\t</label>\n\t\t\t\n\t\t</span>\n\t)\n}\n\nRadioButton.propTypes = {\n\tlabelValue: PropTypes.string,\n\tvalue: PropTypes.any,\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './ControlButton.css'\n\nexport default function ControlButton(props) {\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"ControlButton\"}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nControlButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by a module to talk to it's children (eg. tying a searchbar to a maintable)\nconst moduleContext = createContext({\n\tsearchText: ''\n})\nexport default moduleContext ","import React, {useContext, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './ControlBar.css'\nimport SearchBar from './SearchBar'\nimport lockedContext from '../../Contexts/LockedContext'\nimport moduleContext from '../../Contexts/ModuleContext'\n\nexport default function ControlBar(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tconst moduleData = useContext(moduleContext)\n\tconst [searchState, setSearchState] = useState(()=>{})\n\t\n\t//search\n\tfunction searchHandler(e){\n\t\tmoduleData.setSearchText(e.target.value)\n\t}\n\t\n\t//start searching after thet person has finished typing, using a 1 second delay\n\tfunction changeHandler(e){\n\t\tclearTimeout(searchState)\n\t\te.persist()\n\t\t\n\t\tsetSearchState(setTimeout(()=>{\n\t\t\tsearchHandler(e)\n\t\t}, 250))\n\t}\n\t\n\tif(props.searchBar){\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t\t<div className=\"searchContainer\">\n\t\t\t\t\t\t<SearchBar \n\t\t\t\t\t\t\tlocked = {false}\n\t\t\t\t\t\t\tonChange = {changeHandler}\n\t\t\t\t\t\t\tonSearch = {searchHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\t\n\t\t)\n\t\t\n\t} else{\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\n\t\t)\n\t}\n}\n\n//Proptypes\nControlBar.propTypes = {\n\tsearchBar: PropTypes.bool,\n\tsearchBarProps: PropTypes.object,\n\tlocked: PropTypes.bool\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './CommentBox.css'\n\nexport default function CommentBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\t//need esc functionality here\n\t}\n\t\n\tconst styleSetings = {\n\t\theight: props.height,\n\t\twidth: props.width,\n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<textarea\n\t\t\tclassName={\"input CommentBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tstyle={styleSetings}\n\t\t\tplaceholder={props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t></textarea>\n\t)\n}\n\n//Proptypes\nCommentBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n\theight: PropTypes.string,\n\twidth: PropTypes.string,\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './ComboBox.css'\nimport './InputStyles.css'\n\nexport default function ComboBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//if its locked, only allow the default option\n\tlet kids = props.children\n\tif(locked){\n\t\tkids = <option>{props.defaultValue}</option>\n\t}\n\t\n\t//If it's hidden, don't render anything\n\tif (props.hidden){return null} else{return(\n\t\t\t<select \n\t\t\t\tclassName={\"ComboBox input \" + lockedClass} \n\t\t\t\tdefaultValue={props.defaultValue}\n\t\t\t\tonChange = {changeHandler}\n\t\t\t\tdisabled = {locked}\n\t\t\t>\n\t\t\t\t{kids}\n\t\t\t</select>\n\t)}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CoreButton from './CoreButton'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport './CloseButton.css'\n\n\nexport default function CloseButton(props) {\n\t\n\treturn (\n\t\t<CoreButton \n\t\t\tclassName = 'CloseButton'\n\t\t\tonClick = {props.onClick}\n\t\t\tlocked = {props.locked}\n\t\t\thidden = {props.hidden}\n\t\t>\n\t\t\t<FontAwesomeIcon icon={faTimes}/>\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nCloseButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}\n\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\n\nexport default function CheckBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//handles the clicking of the checkbox - for locked checkboxes\n\tfunction clickHandler(e){\n\t\tif(locked){\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<label className=\"CheckBox flexY\">\n\t\t\t<input \n\t\t\t\ttype=\"checkbox\" \n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={props.defaultValue}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tonClick={clickHandler}\n\t\t\t/>\n\t\t\t<span className=\"checkmark\"></span>\n\t\t\t{props.label}\n\t\t</label>\n\t)\n}","import React, {useContext} from 'react'\nimport './InfoCard.css'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport CloseButton from '../Inputs/CloseButton'\n\nexport default function InfoCard(props) {\n\t\n\t//locking the item. If a component somewhere above in the tree is locked, the context will \n\t//cause this card to be locked as well\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Assign classes based on props \n\tlet stripe = '' //Adds a stripe down the left side\n\tif(props.stripe && !props.titleBar){stripe = 'stripe'}\n\t\n\t//Adds hover and click effects in the x, y or xy directions\n\tlet dynamic = '' //dynamic effects are ignored if locked\n\tif(!locked){\n\t\tif (props.dynamicX){dynamic = 'dynamicX '}\n\t\tif (props.dynamicY){dynamic = dynamic + ' dynamicY '}\n\t} \n\t\n\t//handles the onClick event. Only fires if the component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tfunction closeHandler(e){\n\t\te.stopPropagation()\n\t\tprops.onClose()\n\t}\n\t\n\t//If a title prop is provided, create an H1\n\tlet titleBar\n\tif(props.title){titleBar = <h1>{props.title}</h1>}\n\t\n\tlet closeButton\n\tif(props.onClose){\n\t\tcloseButton = <CloseButton onClick = {closeHandler}></CloseButton>\n\t}\n\t\t\n\t//if 'hidden' prop is true then dont show the component\n\tif(props.hidden){return null} else{\n\t\t\n\t\tconst styleSettings ={\n\t\t\twidth: props.width,\n\t\t\theight: props.height\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName={\"InfoCard \" + dynamic + ' ' + props.className} \n\t\t\t\tonClick = {clickHandler} \n\t\t\t\tstyle = {styleSettings}\n\t\t\t>\n\t\t\t\t\t\n\t\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"cardContainer\">\t\n\t\t\t\t\t\t<div className={\"textBox \" + stripe}>\n\t\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t\t{titleBar}\n\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</lockedContext.Provider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n//Proptypes\nInfoCard.propTypes = {\n\ttitle: PropTypes.string,\n\tstripe: PropTypes.bool,\n\tdynamicX: PropTypes.bool,\n\tdynamicY: PropTypes.bool,\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\tonClick: PropTypes.func,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func,\n}\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\nimport InfoCard from '../Containers/InfoCard'\nimport './Popup.css'\nimport useSystem from '../../Hooks/UseSystem'\n\nexport default function Popup(props) {\n\tconst system = useSystem()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Clicking the background closes the popup\n\tlet handleCloseButton\n\tif(!props.forceOpen){\n\t\thandleCloseButton = () => {\n\t\t\tif(!props.forceOpen){\n\t\t\t\tsystem.closePopup()\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\treturn(\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<InfoCard \n\t\t\t\tclassName = {'Popup '}\n\t\t\t\tstripe\n\t\t\t\ttitle = {props.title}\n\t\t\t\twidth = {props.width}\n\t\t\t\theight = {props.height}\n\t\t\t\tonClose ={handleCloseButton}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</InfoCard>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nPopup.propTypes = {\n\ttitle: PropTypes.string,\n\tonClose: PropTypes.func,\n\tforceOpen: PropTypes.bool,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tlocked: PropTypes.bool\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//used by dropdown menus to talk to items inside of themselves \nconst menuContext = createContext({})\nexport default menuContext \n","import React, {useContext, useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport menuContext from '../../Contexts/MenuContext'\nimport PropTypes from 'prop-types'\nimport './MenuButton.css'\nimport {Dropdown} from 'react-bootstrap'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCaretRight} from '@fortawesome/free-solid-svg-icons'\n\n\nexport default function MenuButton(props){\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tlet lockedClass\n\tif(locked){lockedClass = 'locked'}\n\t\n\tconst [toggling, setToggling] = useState(false)\n\t\n\t//handles both onOpen and onClose\n\tfunction toggleHandler(isOpen){\n\t\t\n\t\tif(!toggling && isOpen && props.onOpen){\n\t\t\tprops.onOpen()\n\t\t\t\n\t\t} else if(!toggling && props.onClose && !isOpen){\n\t\t\tprops.onClose()\n\t\t\tsetToggling(true)\n\t\t}\n\t\t\n\t\t//Prevent spamming\n\t\tsetTimeout(()=>setToggling(false), 300)\n\t}\n\t\n\t//check if it's inside of another menu, if so render as a submenu\n\tconst parentMenuData = useContext(menuContext)\n\tlet icon = null\n\tif(parentMenuData.submenu){\n\t\ticon = <span className='subMenuIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faCaretRight} />\n\t\t\t</span>\n\t}\n\t\n\tlet direction = props.direction\n\tif(parentMenuData.submenu){\n\t\tdirection = 'right'\n\t}\n\n\t\n\t//button\n\tconst dropButton = React.forwardRef(({onClick}, ref)=> { \n\t\t\n\t\tfunction clickHandler(e){\n\t\t\te.preventDefault()\n\t\t\tonClick(e)\n\t\t}\n\t\t\n\t\treturn( \n\t\t\t<button \n\t\t\t\tclassName={'MenuButton '+ props.className + ' ' + lockedClass}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t{icon}\n\t\t\t\t\n\t\t\t</button>\n\t\t)\n\t})\n\t\n\t//Menu Itself\n\tconst menuStyle = {\n\t\tmaxHeight: props.maxHeight,\n\t\twidth: props.width,\n\t\theight: props.height,\n\t}\n\n\t\n\tconst dropMenu = React.forwardRef(\n\t\t({style, className}, ref) => {\n\t  \n\t\t\treturn (\n\t\t\t\t<menuContext.Provider value={{ submenu: true }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tstyle = {{menuStyle}}\n\t\t\t\t\t\tclassName={className + ' MenuContainer'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\tclassName={'Menu'}\n\t\t\t\t\t\t\tstyle = {menuStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.menuContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</menuContext.Provider>\n\t\t\t)\n\t\t}\n\t)\n\n\t//If locked return a button that does nothing, otherwise create a real dropdown button\n\tif(locked){return(dropButton)}\telse{return(\n\t\t<span className = 'menuButtonContainer'>\n\t\t\t<Dropdown drop={direction} onToggle = {toggleHandler}>\n\t\t\t\t<Dropdown.Toggle as={dropButton}/>\n\t\t\t\t<Dropdown.Menu as={dropMenu} />\n\t\t\t</Dropdown>\n\t\t</span>\n\t)}\n}\n\n//Proptypes\nMenuButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tmenuContent: PropTypes.any.isRequired,\n\tmaxHeight: PropTypes.string,\n\tdirection: PropTypes.string,\n\tonOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n}","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './InputCell.css'\n\nexport default function InputCell(props) {\n\t\n\tconst [initalValue, setInitialValue] = useState(props.defaultValue)\n\t\n\t//When you focus on an item, the value is saved. if you escape, its restored\n\tfunction focusHandler(e){\n\t\tsetInitialValue(e.target.value)\n\t}\n\t\n\t//Handles keypresses, for enter or esc keys\n\tfunction keyHandler(e){\n\t\tif(e.keyCode === 27) { //esc\n\t\t\t\n\t\t\te.target.value = initalValue\n\t\t\te.target.blur()\n\t\t\t\n\t\t} else if(e.keyCode === 13){ //enter\n\t\t\t\n\t\t\tconsole.log('You pressed the enter key!')\n\t\t\t\n\t\t}\n\t}\n\t\n\t//Handles changes (commit changes)\n\tfunction changeHandler(e){\n\t\t\n\t}\n\t\n\tswitch(props.dataHeader.dataType.kind){\n\t\t\n\t\tdefault: return <input\n\t\t\tclassName = 'InputCell cellTextBox input'\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonKeyDown = {keyHandler}\n\t\t\tonFocus = {focusHandler}\n\t\t/>\n\t}\n\t\n}\n\n//Proptypes\nInputCell.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tdataRow: PropTypes.object,\n}","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTableRow.css'\nimport InputCell from './InputCell'\n\nexport default function MainTableRow(props) {\n\t\n\tlet renderRow = true\n\n\tlet dynamicClass = ''\n\tlet pointerClass = ''\n\tif(props.dynamic){dynamicClass = 'dynamic'}\n\tif(props.setActiveRecord){pointerClass = 'pointer'}\n\t\n\t//Check if this is the active row for style reasons \n\tconst [activeClass, setActiveClass] = useState('')\n\t\n\t//sends the dataRow object to the select record function\n\tfunction rowClickHandler(){\n\t\tif(props.setActiveRecord){\n\t\t\tsetActiveClass('active')\n\t\t\tprops.setActiveRecord(props.dataRow)\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif(props.activeRecord === props.dataRow) {setActiveClass('active')} else{\n\t\t\tsetActiveClass('')\n\t\t}\n\t},[props.activeRecord, props.dataRow]);\n\t\n\t//check if it's filtered out by the search term \n\trenderRow = props.dataHeaders.some((hdr) => {\n\t\tif(props.searchText){\n\t\t\treturn hdr.dataType.search(props.dataRow[hdr.headerID], props.searchText)\n\t\t} else{\n\t\t\treturn true\n\t\t}\n\t})\n\t\n\t//Only continue building the row if it's actually required\n\tlet row\n\tif (renderRow){\n\t\trow = props.dataHeaders.map(hdr => {\n\t\t\tif(hdr.visible){\n\t\t\t\trenderRow = (renderRow && props.dataRow.TouchPointMetaVisible) || props.noFilter\n\t\t\t\t\n\t\t\t\t//Decide if the cell is editable or not based on the locked status, and the header onEdit function\n\t\t\t\tlet cellContent = props.dataRow[hdr.headerID]\n\t\t\t\tif(!props.locked && hdr.onEdit && ! hdr.locked){\n\t\t\t\t\tcellContent = <InputCell \n\t\t\t\t\t\tdataHeader = {hdr} \n\t\t\t\t\t\tdefaultValue = {cellContent}\n\t\t\t\t\t\tdataRow = {props.dataRow}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//No conditional formatting\n\t\t\t\tif (!hdr.styling){return(<span \n\t\t\t\t\tkey = {hdr.headerID+props.rowKey} \n\t\t\t\t\tstyle = {{width: hdr.width + '%'}}\n\t\t\t\t>\n\t\t\t\t\t{cellContent}\n\t\t\t\t</span>)\n\t\t\t\t} else { \n\t\t\t\t\t\n\t\t\t\t\t//apply the styling function in the header object\n\t\t\t\t\tconst myStyle = hdr.styling(props.dataRow[hdr.headerID], props.dataRow)\n\t\t\t\t\t\n\t\t\t\t\treturn( //with coniditional formatting\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span className = 'badge' key = {hdr.headerID+props.rowKey} style = {{\n\t\t\t\t\t\t\twidth: 'calc(' + hdr.width + '% - 23px',\n\t\t\t\t\t\t\tcolor: myStyle.textColor,\n\t\t\t\t\t\t\tbackgroundColor: myStyle.badgeColor,\n\t\t\t\t\t\t\tmarginLeft: '23px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{cellContent}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\t\n\t// only the row if it passes the filter\n\tif(renderRow){return(\n\t\t<div \n\t\t\tclassName={'MainTableRow ' + dynamicClass + ' ' + pointerClass} \n\t\t\tonClick = {rowClickHandler}\n\t\t>\n\t\t\t<div className={\"rowContainer \" + activeClass}>\n\t\t\t\t{row}\n\t\t\t</div>\n\t\t</div>\n\t)} else return null\n}\n\n//Proptypes\nMainTableRow.propTypes = {\n\tdataHeaders: PropTypes.array.isRequired,\n\tdataRow: PropTypes.object.isRequired,\n\tsetActiveRecord: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tdynamic:PropTypes.bool\n}","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function InfoTab(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tif(!props.hidden){return (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<div className = {'InfoTab ' + props.tabID}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)} else return null\n}\n\n//Proptypes\nInfoTab.propTypes = {\n\ttabTitle: PropTypes.string.isRequired,\n\ttabID: PropTypes.string.isRequired,\n}\n","import React, {useContext} from 'react'\nimport {Tabs, Tab} from 'react-bootstrap'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './InfoTabContainer.css'\n\n\nexport default function InfoTabContainer(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\treturn (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t<div className=\"InfoTabContainer\">\n\t\t\t\t<Tabs \n\t\t\t\t\tdefaultActiveKey={props.defaultTab} \n\t\t\t\t\ttransition={false}\n\t\t\t\t\tonSelect = {(tabID)=>{\n\t\t\t\t\t\tif(props.onTabChange){props.onTabChange(tabID, locked)}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t\t{React.Children.map(props.children,(child) =>{\n\t\t\t\t\t\tif(!child.props.hidden){\n\t\t\t\t\t\t\treturn(<Tab eventKey={child.props.tabID} title={child.props.tabTitle}>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</Tab>)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nInfoTabContainer.propTypes = {\n\tdefaultTab: PropTypes.string,\n\tonTabChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n}\n\n\n","import React from 'react'\nimport produce from 'immer'\nimport './FilterMenu.css'\n\nexport default function FilterMenu(props){\n\n\tconst values = props.header.uniqueValues\n\t\n\tfunction clickHandler(e, id){\n\t\tconst cb = document.getElementById(id)\n\t\tif(e.target !== cb){cb.checked = !cb.checked}\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders)=>{\n\t\t\t\tdraftHeaders[props.header.index].uniqueValues[cb.value] = cb.checked\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction selectAll(e){\n\t\tconst cb = document.getElementById(props.header.headerID + 'selectAll')\n\t\tif (e.target !== cb) { cb.checked = !cb.checked }\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[props.header.index].selectAll(cb.checked)\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\treturn (\n\t\t<div className = 'FilterMenu'>\n\t\t\t\n\t\t\t<div className = 'topMenu'>\n\t\t\t\t{props.children}\n\t\t\t\n\t\t\t\t<button onClick={selectAll} className = 'selectAll'>\n\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tdefaultChecked={!props.header.hasFilter()}\n\t\t\t\t\t\tid={props.header.headerID + 'selectAll'}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t/>\n\t\t\t\t\t{' Select All'}\n\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"filterOptions\">\n\t\t\t\t\n\t\t\t\t{Object.keys(values).map((v, i) => {\n\t\t\t\t\treturn (<button\n\t\t\t\t\t\tkey={props.header.id + 'fv' + i}\n\t\t\t\t\t\tonClick={(e) => clickHandler(e, props.header.headerID + 'fcb' + i)}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype = 'checkbox'\n\t\t\t\t\t\t\tdefaultChecked = {values[v]}\n\t\t\t\t\t\t\tid={props.header.headerID + 'fcb' + i}\n\t\t\t\t\t\t\tvalue = {v}\n\t\t\t\t\t\t\tstyle= {{cursor:'pointer'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{' ' + v}\n\t\t\t\t\t\t\n\t\t\t\t\t</button>)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, {useState} from 'react'\nimport MenuButton from '../MenuButton'\nimport InfoTab from '../../Containers/InfoTab'\nimport InfoTabContainer from '../../Containers/InfoTabContainer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretDown, faFilter, faPlus} from '@fortawesome/free-solid-svg-icons'\nimport FilterMenu from './FilterMenu'\n\nexport default function TheadButton(props){\n\t\n\t//Checks if the header has an active filter, to show a different icon\n\tconst [defaultTab, setDefaultTab] = useState(props.noFilter ? 'sort' : 'filter')\n\t\n\t//filter tab - if the correct props are available to enable filtering\n\tlet filterMenu = null\n\tfilterMenu = <InfoTab tabID='filter' tabTitle='Filter' hidden = {props.noFilter}>\n\t\t<FilterMenu\n\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\theader = {props.header}\n\t\t\tdata = {props.data}\n\t\t>\n\t\t\t<button>\n\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t\t<span style={{\n\t\t\t\t\tpaddingLeft:'10px',\n\t\t\t\t}}>More Filters</span> \n\t\t\t</button>\n\t\t\t\n\t\t</FilterMenu>\n\t</InfoTab>\n\t\n\t\n\t//Sort tab - if the correct props are available to enable sorting\n\tlet sortMenu = <InfoTab tabID='sort' tabTitle='Sort' hidden={props.noSort}>\n\t\t<button>Sort Test</button>\n\t</InfoTab>\n\t\n\t//Combine available tabs - if at least one is avilable\n\tlet overallMenu = <div>\n\t\t<InfoTabContainer defaultTab = {defaultTab} onTabChange = {(tabID)=>{\n\t\t\tsetDefaultTab(tabID)\n\t\t}}>\n\t\t\t{filterMenu}\n\t\t\t{sortMenu}\n\t\t</InfoTabContainer>\n\t</div>\n\t\n\t\n\t//if there is a menu, add a dropdown icon\n\tlet icon = <FontAwesomeIcon icon={faCaretDown} />\n\tlet iconClass = ''\n\tif (props.header.hasFilter()) { \n\t\ticon = <FontAwesomeIcon icon={faFilter} />\n\t\ticonClass = 'smallIcon'\n\t}\n\t\n\tif(props.noSort && props.noFilter) { \n\t\t\n\t\treturn(props.children)\n\t\t\n\t} else{\n\t\treturn (\n\t\t\t<MenuButton \n\t\t\t\tclassName='TheadButton' \n\t\t\t\tlocked = {false} menuContent={overallMenu}\n\t\t\t\tmaxHeight = '50vh'\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t<span className = {iconClass}>{icon}</span>\t\t\t\n\t\t\t</MenuButton>\n\t\t)\n\t}\n}","import React from 'react'\nimport Proptypes from 'prop-types'\nimport {v4 as uuid} from 'uuid'\n\nexport default function CheckButton(props) {\n\t\n\tconst checkID = uuid()\n\t\n\tfunction clickHandler(e, id) {\n\t\tif(!props.disabled){\n\t\t\tconst cb = document.getElementById(id)\n\t\t\tif (e.target !== cb) {cb.checked = !cb.checked}\n\t\t\t\n\t\t\tif(props.onClick){props.onClick(cb.checked, props.value)}\n\t\t}\n\t}\n\t\n\treturn (<button\n\t\tonClick={(e) => clickHandler(e, checkID)}\n\t>\n\n\t\t<input\n\t\t\ttype='checkbox'\n\t\t\tdefaultChecked={props.defaultChecked}\n\t\t\tid={checkID}\n\t\t\tvalue={props.value}\n\t\t\tstyle={{cursor: 'pointer'}}\n\t\t\tdisabled = {props.disabled}\n\t\t/>\n\t\t{' '}\n\t\t{props.children}\n\n\t</button>)\n\t\n}\n\n\nCheckButton.propTypes={\n\tdefaultChecked: Proptypes.bool,\n\tvalue: Proptypes.any,\n\tlabel: Proptypes.string,\n\tonClick: Proptypes.func,\n\tdisabled: Proptypes.bool,\n}","import React from 'react'\nimport CheckButton from './CheckButton'\nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCog} from '@fortawesome/free-solid-svg-icons'\nimport MenuButton from '../MenuButton'\n\nexport default function TableSettings(props) {\n\n\tfunction clickHandler(checked, idx){\n\t\tprops.setTransitionClass('noTransition')\n\t\tlet reFilter = false\n\t\t\n\t\tprops.headers.set(\n\t\t\tproduce(props.headers.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[idx].visible = checked\n\t\t\t\t\n\t\t\t\tif (!checked && draftHeaders[idx].hasFilter()){\n\t\t\t\t\tdraftHeaders[idx].clearFilter()\n\t\t\t\t\treFilter = true\n\t\t\t\t}\t\n\t\t\t})\n\t\t)\n\t\t\n\t\tsetTimeout(()=>{\n\t\t\tif(reFilter){props.data.filter()}\n\t\t\tprops.setTransitionClass('')\n\t\t},0)\n\t}\n\t\n\treturn (<MenuButton \n\t\t\tlocked={false} \n\t\t\tmenuContent={\n\t\t\t<div>\n\t\t\t\t{props.headers.get().map((h) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CheckButton\n\t\t\t\t\t\t\tkey={'customizeHeader' + h.headerID}\n\t\t\t\t\t\t\tdisabled={h.required}\n\t\t\t\t\t\t\tdefaultChecked={h.visible}\n\t\t\t\t\t\t\tvalue={h.index}\n\t\t\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\t\t>{h.displayName}</CheckButton>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t}>\n\t\t<FontAwesomeIcon icon={faCog} /> Table Settings\n\t</MenuButton>\n\t\t\n\t)\n}","import React from 'react'\nimport TableSettings from './TableSettings'\nimport MenuButton from '../MenuButton'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faTimesCircle, faFilter, faSortAmountUp } from '@fortawesome/free-solid-svg-icons'\n\nexport default function TableControls(props) {\n\tlet clearFilterButton = null\n\tlet sortButton = null\n\tlet filterButton = null\n\tlet settingsButton = null\n\n\tif (props.hasFilter && !props.noFilter) {\n\t\tclearFilterButton = <button\n\t\t\tonClick={props.clearFilter}\n\t\t><FontAwesomeIcon icon={faTimesCircle} /> Clear Filter</button>\n\t}\n\n\tif (!props.noFilter) {\n\t\tfilterButton = <MenuButton menuContent = {\n\t\t\t<button>Filter and Such</button>\n\t\t}>\n\t\t\t<span className='smallerIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faFilter} />\n\t\t\t</span> Filter\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noSort) {\n\t\tsortButton = <MenuButton menuContent={\n\t\t\t<MenuButton menuContent={\n\t\t\t\t<div>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t</div>\n\t\t\t}>test</MenuButton>\n\t\t}>\n\t\t\t<FontAwesomeIcon icon={faSortAmountUp} /> Sort\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noOptions) {\n\t\tsettingsButton = <TableSettings\n\t\t\theaders={props.dataHeaders}\n\t\t\tdata={props.data}\n\t\t\tsetTransitionClass = {props.setTransitionClass}\n\t\t/>\n\t}\n\n\treturn (\n\t\t<div className='tableControls'>\n\t\t\t{settingsButton}\n\t\t\t{sortButton}\n\t\t\t{filterButton}\n\t\t\t{clearFilterButton}\n\t\t</div>\n\t)\n}\n","import React, {useState, useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTable.css'\nimport MainTableRow from './DisplaySupport/MainTableRow'\nimport lockedContext from '../../Contexts/LockedContext'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport TheadButton from './DisplaySupport/TheadButton' \nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretLeft, faCaretRight} from '@fortawesome/free-solid-svg-icons'\nimport TableControls from './DisplaySupport/TableControls'\n\nexport default function MainTable(props){\n\t\n\t//Sorting and filtering are optional (via props), only supported with if a dataset is provided\n\tlet noSort = props.noSort   \n\tlet noFilter = props.noFilter\n\tlet noOptions = props.noOptions\n\t\n\t//support for dataSets or for just arrays\n\tlet data = props.data\n\tif(!Array.isArray(props.data) ){\n\t\tdata = data.read()\n\t} else{\n\t\tnoSort = true\n\t\tnoFilter = true\n\t}\n\t\n\t//For dataSets - runs when dataSet refreshes (sets the filter options to match)\n\tuseEffect(()=>{\n\t\tif(!noFilter){\n\t\t\tprops.dataHeaders.embedData(data)\n\t\t\tprops.data.setHeaders(props.dataHeaders)\n\t\t}\n\t}, [props.data.lastResolved])\n\t\n\t//Active page handling\n\tconst [activePage, setActivePage] = useState(0)\n\t\n\t//get the length of the data with teh filter applied\n\tlet dataLength = 0\n\tdata.forEach((r)=>{\n\t\tif(r.TouchPointMetaVisible){dataLength = dataLength + 1}\n\t})\n\t\n\t//if there's no way to set the active record, then no record is active\n\tlet activeRecord\n\tif(props.activeRecord && props.setActiveRecord){activeRecord = props.activeRecord}\n\t\n\t//default page Size\n\tlet pageSize = props.pageSize\n\tif(!pageSize){ pageSize = 500}\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//If clicking sets the active record then its animated\n\t//if there are editable cells the animations will be cancelled\n\tlet dynamic\n\tif(props.setActiveRecord){dynamic = true} \n\t\n\t//Normalize column widths to ensure they always add up to 100%\n\tlet totalWidth = 0\n\tlet hasFilter = false\n\tprops.dataHeaders.get().forEach(hdr => {\n\t\tif(hdr.visible){totalWidth = totalWidth + hdr.width}\n\t\t\n\t\t//if you have input cells in the table, hover effects will be cancelled\n\t\tif(hdr.onEdit){dynamic = false}\n\t\t\n\t\t//check if any headers have active filters (to show a clear filter button)\n\t\tif(hdr.hasFilter()){hasFilter = true}\n\t})\n\t\n\t//access the parent module context for searching \n\tconst moduleData = useContext(moduleContext)\n\tlet searchText\n\tif(props.searchable){searchText = moduleData.searchText}\n\t\n\t//Counter for rendered rows\n\tlet i = 1\n\t\n\t//Buttons for page controls\n\tfunction pageForward(){\n\t\tif (activePage < Math.floor(dataLength/pageSize)-1){\n\t\t\tsetActivePage(activePage + 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction BackButton(){ \n\t\tif(activePage > 0){return(\n\t\t\t<button\n\t\t\t\tonClick={pageBack}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon = {faCaretLeft}/>\n\t\t\t</button>\n\t\t)} else return null\n\t}\n\t\n\tfunction pageBack(){\n\t\tif (activePage > 0){\n\t\t\tsetActivePage(activePage - 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction ForwardButton(){ \n\t\tif(activePage < Math.floor(dataLength/pageSize) - 1){return(\n\t\t\t<button\n\t\t\t\tonClick={pageForward}\n\t\t\t><FontAwesomeIcon icon = {faCaretRight}/></button>\n\t\t)} else return null\n\t}\n\t\n\tfunction clearFilter(){\n\t\tprops.dataHeaders.set(produce(props.dataHeaders.get(), draft =>{\n\t\t\tdraft.forEach(hdr=>{\n\t\t\t\thdr.clearFilter()\n\t\t\t})\n\t\t}))\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction PageControls(){\n\t\tif(dataLength > pageSize){\n\t\t\treturn( <div className=\"pageControls\">\n\t\t\t\t<BackButton/>\n\t\t\t\t\n\t\t\t\t<button className='textButton'>Showing {1+activePage*pageSize}-\n\t\t\t\t{Math.min((1+activePage)*pageSize, dataLength) +' '}\n\t\t\t\tof {`  ${dataLength}`}</button>  \n\t\t\t\t\n\t\t\t\t<ForwardButton/>\n\t\t\t</div>)\n\t\t} else return null\n\t}\n\t\n\tconst [transitionClass, setTransitionClass] = useState('')\n\t\n\t//Render\n\treturn (\n\t\t<div className={\"MainTable \" + transitionClass}>\n\t\t\t\n\t\t\t{/* Header Titles */}\n\t\t\t<div className=\"titleBar\">\n\t\t\t\t<div className=\"topBar\">\n\t\t\t\t\t<TableControls\n\t\t\t\t\t\thasFilter = {hasFilter}\n\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\tclearFilter = {clearFilter}\n\t\t\t\t\t\tnoOptions = {noOptions}\n\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\tsetTransitionClass ={setTransitionClass}\n\t\t\t\t\t/>\n\t\t\t\t\t<PageControls/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"theadBar\">\n\t\t\t\t\t{props.dataHeaders.get().map((hdr) => {\n\t\t\t\t\t\thdr.width = 99 * (hdr.width/totalWidth)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(hdr.visible){return(\n\t\t\t\t\t\t\t<span style={{width: hdr.width + '%'}} key = {'header'+hdr.headerID}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<TheadButton\n\t\t\t\t\t\t\t\t\theader = {hdr}\n\t\t\t\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{hdr.displayName + ' '}\n\t\t\t\t\t\t\t\t</TheadButton>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)} else return null\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Table body data */}\n\t\t\t<div className = {'tableBody ' + props.data.lastResolved}>\n\t\t\t\t{data.map((dr) => {\n\t\t\t\t\t//render the allowed numebr of rows, on th selected page\n\t\t\t\t\tif((i > activePage * pageSize) && (i <= (1 + activePage)*pageSize)){\n\t\t\t\t\t\tconst r = <MainTableRow\n\t\t\t\t\t\t\tdataRow = {dr}\n\t\t\t\t\t\t\tdataHeaders={props.dataHeaders.get()}\n\t\t\t\t\t\t\tsetActiveRecord = {props.setActiveRecord}\n\t\t\t\t\t\t\tactiveRecord = {activeRecord}\n\t\t\t\t\t\t\trowKey = {'MainTableRow'+i}\n\t\t\t\t\t\t\tkey = {'MainTableRow'+i}\n\t\t\t\t\t\t\tlocked = {locked}\n\t\t\t\t\t\t\tdynamic = {dynamic}\n\t\t\t\t\t\t\tsearchText = {searchText}\n\t\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(r){i++}//Count the number of rows actually renedered (not filtered out)\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn(r)\n\t\t\t\t\t} else if(i <= (1 + activePage)*pageSize){i++}\n\t\t\t\t\t\n\t\t\t\t\treturn null\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n//Proptypes\nMainTable.propTypes = {\n\tsetActiveRecord: PropTypes.func,\n\tonEdit: PropTypes.func,\n\tdataHeaders: PropTypes.object.isRequired,\n\t\n\tdata: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.array\n\t]).isRequired,\n\t\n\tpageSize: PropTypes.number,\n\tlocked: PropTypes.bool,\n\tsearchable: PropTypes.bool,\n\tnoSort: PropTypes.bool,\n\tnoFilter: PropTypes.bool,\n\tnoOptions: PropTypes.bool,\n}\n\n","import React, {useState} from 'react'\nimport './Module.css'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport PropTypes from 'prop-types'\n\nexport default function Module(props) {\n\n\tconst [searchText, setSearchText] = useState('')\n\t\n\tconst moduleData ={\n\t\tsearchText: searchText,\n\t\tsetSearchText: setSearchText\n\t}\n\t\n\treturn (\n\t\t<moduleContext.Provider value ={moduleData}>\n\t\t\t\n\t\t\t<div className={'Module ' + props.moduleName}>\n\t\t\t\t{props.children}\t\n\t\t\t</div>\n\t\t\t\n\t\t</moduleContext.Provider>\n\t)\n}\n\n//Proptypes\nModule.propTypes = {\n\tmoduleName: PropTypes.string,\n}\n","import React from 'react'\nimport './SplitScreen.css'\nimport Split from 'react-split'\nimport PropTypes from 'prop-types'\n\nexport default function SplitScreen(props) {\n\t\n\tlet splitSize = 50\n\tif(props.defaultSize){splitSize = props.defaultSize}\n\t\n\treturn (\n\t\t<div className='SplitScreen'>\n\t\t\t<Split \n\t\t\t\tdirection=\"vertical\" sizes={[100 - splitSize, splitSize]}\n\t\t\t\tminSize={150}\n\t\t\t\tgutterSize={8}\n\t\t\t\tsnapOffset={1}\n\t\t\t>\n\t\t\t\t<div className=\"topView\"></div>\n\t\t\t\t\n\t\t\t\t<div className=\"bottomView\">\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</Split>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nSplitScreen.propTypes = {\n\tdefaultSize: PropTypes.number,\n\t\n}","export default class DataType{\n\t\n\tconstructor(kind, options){\n\t\tif(kind){this.kind = kind.toLowerCase()} else{this.kind = 'string'}\n\t\tthis.options = options\n\t}\n\t\n\t//checks if an input is valid for the datatype\n\tvalidate(input){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\treturn true\n\t\t\t\n\t\t\tcase 'number':\n\t\t\t\ttry{\n\t\t\t\t\tparseFloat(input)\t\n\t\t\t\t\treturn true\n\t\t\t\t} catch(err){return false}\n\t\t\t\t\n\t\t\tcase 'list':\n\t\t\t\tif(this.options.includes.listValues(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\n\t\t\t\n\t\t\tcase 'custom':\n\t\t\t\t//This needs so much work...\n\t\t\t\tif(this.options.validator(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\t\t\t\t\n\t\t}\n\t\t\n\t\t//if its not a valid type then ignore validation and just return true\n\t\treturn true\n\t}\n\t\n\t//Compares a value an search string to see if the value should be included in the search\n\tsearch(value, searchText){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\tif (typeof value  === 'string'){\n\t\t\t\t\tvalue = value.toLowerCase()\n\t\t\t\t\treturn value.includes(searchText.toLowerCase())\n\t\t\t\t} else{return false}\n\t\t}\n\t\t\n\t\t//if its not a vald type just return false until i deccide how to handle this better\n\t\treturn false\n\t}\n\t\n}\n\n\n","import DataType from \"./DataType\"\n\nexport default class DataHeader{\n\t\n\tconstructor(headerID, displayName, width, dataType, required = false, styling, onEdit, locked, visible = true){\n\t\tthis.headerID = headerID\n\t\tthis.displayName = displayName\n\t\tthis.width = width\n\t\tthis.required = required\n\t\tthis.visible = visible\n\t\t\n\t\tthis.uniqueValues = {}\n\t\t\n\t\t//Default filter list only has 1 functions (array filter)\n\t\t//By default no values are selected, which is the same as saying 'select all'\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {func: (cellValue)=>{\n\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t}, displayName: 'Array Filter'}\n\t\t}\n\t\t\n\t\tthis.onEdit = onEdit\n\t\tthis.locked = locked\n\t\t\n\t\t//default dataType is String\n\t\tif(dataType){ this.dataType = dataType }else{ this.dataType = new DataType('string') }\n\t\t\n\t\tthis.styling = styling\n\t}\n\t\n\t\n\tfilter(cellValue, dataRow){\n\t\t//Check if any of the filters fail\n\t\t//If any filters fail, res will be true. Return the opposite\n\t\treturn !Object.keys(this.filterList).some( (f)=>{\n\t\t\treturn !this.filterList[f].func(cellValue, dataRow)\n\t\t})\n\t}\n\t\n\t\n\taddFilter(filterID, filterFunction, displayName){\n\t\tthis.filterList[filterID] = {func: filterFunction, displayName: displayName, id: filterID}\n\t}\n\t\n\t\n\tremoveFilter(filterID){\n\t\tdelete this.filterList[filterID]\n\t}\n\t\n\t\n\t//Saves a list of unique values in the column - to be used in the filter dropdowns\n\tembedData(data){\n\t\tthis.uniqueValues = uniqueByColumn(data, this.headerID, this.uniqueValues)\n\t}\n\t\n\t\n\tselectAll(setVal){\n\t\tObject.keys(this.uniqueValues).map((uv)=>{\n\t\t\tthis.uniqueValues[uv] = setVal\n\t\t})\n\t}\n\t\n\t//checks if there are any active filters, including the array filter\n\thasFilter(){\n\t\t//array filter is always there, check if any other filters are there\n\t\tlet testRes = Object.keys(this.filterList).length === 1\n\t\t\n\t\t//if there are no other filters, check if the array filter is active\n\t\tif(testRes){\n\t\t\tObject.keys(this.uniqueValues).forEach((val) => {\n\t\t\t\tif (!this.uniqueValues[val]){testRes = false}\n\t\t\t})\n\t\t}\n\n\t\treturn !testRes\n\t}\n\t\n\tclearFilter(){\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.selectAll(true)\n\t}\n\t\n\tsetVisible(bool){\n\t\tthis.visible = bool\n\t}\n}\n\n\n//Returns an array of unique values from a column of DataRow objects\nfunction uniqueByColumn(data, columnID, oldValues) {\n\tconst res = {}\n\t\n\tdata.forEach((r) => {\n\t\tif (r.TouchPointMetaVisible || r.TouchPointMetaFilteredBy === columnID + ';'){\n\t\t\t//New vales added as true, old values keep their value\n\t\t\tif (oldValues[r[columnID]] === undefined){\n\t\t\t\tres[r[columnID]] = true\n\t\t\t} else{ \n\t\t\t\tres[r[columnID]] = oldValues[r[columnID]]\n\t\t\t}\n\t\t}\n\t})\n\n\treturn res\n}","import {useState} from 'react'\nimport produce from 'immer'\n\n\n//Initialises a Dataset and caches the value\nexport default function useDataset(fetchFunction, defaultValue = [{}]) {\n\n\t//The array contains an empty object by default\n\tconst [data, setData] = useState(defaultValue)\n\tconst [first, setFirst] = useState(true)\n\tconst [status, setStatus] = useState('Pending')\n\tconst [rejection, setRejection] = useState()\n\tconst [lastResolved, setLastResolved] = useState()\n\tconst [lastRejected, setLastRejected] = useState()\n\tconst [headers, setHeaders] = useState({ get: () => { return [] } })\n\n\t//Filters the data based on given headers\n\tfunction filterData(values) {\n\n\t\t//Apply the filters to the data (define what rows are visible)\n\t\treturn produce(values, (draftValues) => {\n\n\t\t\tdraftValues.map((r) => {\n\t\t\t\tr.TouchPointMetaFilteredBy = ''\n\n\t\t\t\tlet noRender = false\n\n\t\t\t\theaders.get().forEach((h) => {\n\t\t\t\t\tif (!h.filter(r[h.headerID], r)) {\n\t\t\t\t\t\tnoRender = true\n\t\t\t\t\t\tr.TouchPointMetaFilteredBy = r.TouchPointMetaFilteredBy + [h.headerID] + ';'\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tr.TouchPointMetaVisible = !noRender\n\n\t\t\t\treturn r\n\t\t\t})\n\t\t})\n\t}\n\n\n\t//Fetch data and update state once the operation is complete. Keep the old value in the meantime\n\tasync function fetchData() {\n\t\tsetStatus('Pending')\n\t\tconst res = fetchFunction()\n\n\t\ttry {\n\t\t\tconst value = filterData(await res)\n\n\t\t\tsetData(value)\n\t\t\tsetStatus('Resolved')\n\t\t\tsetRejection(null)\n\t\t\tsetLastResolved(Date())\n\n\t\t\treturn status\n\t\t} catch (e) {\n\t\t\tsetStatus('Rejected')\n\t\t\tsetRejection(e)\n\t\t\tsetLastRejected(Date())\n\n\t\t\treturn status\n\t\t}\n\t}\n\n\n\t//Automatically run the fetching function the first time, then wait for a refresh\n\tif (first) {\n\t\tsetFirst(false)\n\t\tfetchData()\n\t}\n\n\t//Return a Dataset object\n\treturn ({\n\t\tread: () => { return data },\n\n\t\trefresh: () => {\n\t\t\tif (status !== 'Pending') {\n\t\t\t\tfetchData()\n\t\t\t}\n\t\t},\n\n\t\tset: (val) => { setData(val) },\n\n\t\tstatus: status,\n\t\trejection: rejection,\n\t\tlastResolved: lastResolved,\n\t\tlastRejected: lastRejected,\n\t\tsetHeaders: setHeaders,\n\t\tisDataset: true,\n\t\tfilter: () => {\n\t\t\tconst newData = filterData(data)\n\t\t\tsetData(newData)\n\t\t\theaders.embedData(newData)\n\t\t}\n\t})\n}\n","import {useState} from 'react'\nimport produce from 'immer'\n\n\n//Crates a set of DataHeaders, for use with a mainTable\nexport default function useHeaders(dataHeaders = []) {\n\n\t//add an index prop to each DataHeader object, so it's easier to locate in the array \n\tfunction setIndex(hdr, i) {\n\t\thdr.index = i\n\t\treturn hdr\n\t}\n\n\t//Saves a list of unique values in each column (header) - to be used in the filter dropdowns\n\tfunction embedData(data) {\n\t\t//using Immer to edit the header state while keeping it immutable\n\t\tsetHeaders(produce(headers, (draft) => {\n\t\t\tdraft.map((hdr) => {\n\t\t\t\thdr.embedData(data)\n\t\t\t})\n\t\t}))\n\t}\n\n\tconst [headers, setHeaders] = useState(dataHeaders.map(setIndex))\n\n\treturn ({\n\t\tget: () => { return headers },\n\t\tset: (val) => { setHeaders(val.map(setIndex)) },\n\t\tembedData: embedData\n\t})\n}"],"names":["SystemPopupHandler","props","clickBackdrop","e","target","classList","contains","activePopup","forceOpen","system","closePopup","forceClass","popupEffect","lockedContext","createContext","SystemModuleContainer","n","layout","hasSystemToolbar","hasSystemFooter","styleSettings","height","width","ActiveModule","getModules","getActiveModule","getHomeModule","Object","keys","React","locked","systemContext","SystemThemeEngine","themes","orange","tableActiveColor","mainTextColor","labelColor","lockedTextColor","navColor","navTextColor","navHoverColor","navClickedColor","bodyAltBG","cardBG","shadowColor","freeButtonNeutralBG","freeButtonPositiveBG","freeButtonNegativeBG","freeButtonTextColor","inputColor","blue","dark","themeName","themeData","toLowerCase","entries","forEach","key","value","document","documentElement","style","setProperty","localStorage","setItem","userName","setTheme","getItem","TouchPointApp","useState","setPopup","defaultModule","activeModule","setActiveModule","screenEffect","setScreenEffect","screenBlock","setScreenBlock","setPopupEffect","hasAppToolbar","setHasAppToolbar","hasAppFooter","setHasAppFooter","System","modules","m","hidden","homeModule","themeEngine","openModule","moduleName","disableInput","forTime","setTimeout","enableInput","openPopup","PopupComponent","onClose","io","useEffect","getUserTheme","getActiveUser","screenBlocker","children","propTypes","PropTypes","bool","object","isRequired","activeUser","string","any","useSystem","useContext","usePresence","componentName","AppToolbar","devMode","process","env","NODE_ENV","moduleList","blur","faHome","map","name","AppFooter","v","getVersion","getSecurityProfile","number","environment","CoreButton","lockedFromAbove","undefined","lockedClass","clickHandler","onClick","className","func","FreeButton","purpose","wideClass","wide","Tile","splash","setSplash","splashScreen","icon","title","TextBox","changeHandler","onChange","blurHandler","onBlur","keyPressHandler","onEnter","defaultValue","placeholder","SearchBar","searchText","setSearchText","searchHandler","onSearch","hdden","faSearch","radioContext","RadioGroup","uuid","groupName","radioData","RadioButton","id","preventDefault","defaultChecked","labelValue","ControlButton","moduleContext","ControlBar","moduleData","searchState","setSearchState","clearTimeout","persist","searchBar","searchBarProps","CommentBox","styleSetings","ComboBox","kids","CloseButton","faTimes","CheckBox","label","InfoCard","stripe","titleBar","dynamic","dynamicX","dynamicY","closeHandler","stopPropagation","closeButton","Popup","handleCloseButton","menuContext","MenuButton","toggling","setToggling","toggleHandler","isOpen","onOpen","parentMenuData","submenu","faCaretRight","direction","dropButton","forwardRef","ref","menuStyle","maxHeight","dropMenu","menuContent","InputCell","initalValue","setInitialValue","focusHandler","keyHandler","keyCode","console","log","dataHeader","dataType","kind","dataRow","MainTableRow","renderRow","dynamicClass","pointerClass","setActiveRecord","activeClass","setActiveClass","rowClickHandler","activeRecord","dataHeaders","some","hdr","search","headerID","row","visible","TouchPointMetaVisible","noFilter","cellContent","onEdit","styling","rowKey","myStyle","color","textColor","backgroundColor","badgeColor","marginLeft","array","InfoTab","tabID","tabTitle","InfoTabContainer","defaultTab","onTabChange","Children","child","FilterMenu","values","header","uniqueValues","cb","getElementById","checked","set","produce","get","draftHeaders","index","data","filter","selectAll","hasFilter","cursor","i","TheadButton","setDefaultTab","filterMenu","faPlus","paddingLeft","sortMenu","noSort","overallMenu","faCaretDown","iconClass","faFilter","CheckButton","checkID","disabled","Proptypes","TableSettings","idx","setTransitionClass","reFilter","headers","clearFilter","h","required","displayName","faCog","TableControls","clearFilterButton","sortButton","filterButton","settingsButton","faTimesCircle","faSortAmountUp","noOptions","MainTable","Array","isArray","read","embedData","setHeaders","lastResolved","activePage","setActivePage","dataLength","r","pageSize","totalWidth","searchable","pageForward","Math","floor","BackButton","pageBack","faCaretLeft","ForwardButton","draft","PageControls","min","transitionClass","dr","oneOfType","Module","SplitScreen","splitSize","defaultSize","DataType","options","input","parseFloat","err","includes","listValues","validator","DataHeader","filterList","arrayFilter","cellValue","f","filterID","filterFunction","uniqueByColumn","setVal","uv","testRes","length","val","columnID","oldValues","res","TouchPointMetaFilteredBy","useDataset","fetchFunction","setData","first","setFirst","status","setStatus","rejection","setRejection","setLastResolved","lastRejected","setLastRejected","filterData","draftValues","noRender","fetchData","Date","refresh","isDataset","newData","useHeaders","setIndex"],"mappings":"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"}