{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/touchpoint-ui/SystemComponents/SystemPopupHandler.js","../src/touchpoint-ui/Contexts/LockedContext.js","../src/touchpoint-ui/SystemComponents/SystemModuleContainer.js","../src/touchpoint-ui/Contexts/SystemContext.js","../src/touchpoint-ui/SystemComponents/ThemeEngine.js","../src/touchpoint-ui/Components/Core/TouchPointApp.js","../src/touchpoint-ui/Hooks/UseSystem.js","../src/touchpoint-ui/Hooks/UsePresence.js","../src/touchpoint-ui/Components/Core/AppToolbar.js","../src/touchpoint-ui/Components/Core/AppFooter.js","../src/touchpoint-ui/Components/Inputs/CoreButton.js","../src/touchpoint-ui/Components/Inputs/FreeButton.js","../src/touchpoint-ui/Components/Inputs/Tile.js","../src/touchpoint-ui/Components/Inputs/TextBox.js","../src/touchpoint-ui/Components/Inputs/SearchBar.js","../src/touchpoint-ui/Contexts/RadioContext.js","../src/touchpoint-ui/Components/Inputs/RadioGroup.js","../src/touchpoint-ui/Components/Inputs/RadioButton.js","../src/touchpoint-ui/Components/Inputs/ControlButton.js","../src/touchpoint-ui/Contexts/ModuleContext.js","../src/touchpoint-ui/Components/Inputs/ControlBar.js","../src/touchpoint-ui/Components/Inputs/CommentBox.js","../src/touchpoint-ui/Components/Inputs/ComboBox.js","../src/touchpoint-ui/Components/Inputs/CloseButton.js","../src/touchpoint-ui/Components/Inputs/CheckBox.js","../src/touchpoint-ui/Components/Containers/InfoCard.js","../src/touchpoint-ui/Components/Display/Popup.js","../src/touchpoint-ui/Contexts/MenuContext.js","../src/touchpoint-ui/Components/Display/MenuButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/InputCell.js","../src/touchpoint-ui/Components/Display/DisplaySupport/MainTableRow.js","../src/touchpoint-ui/Components/Containers/InfoTab.js","../src/touchpoint-ui/Components/Containers/InfoTabContainer.js","../src/touchpoint-ui/Components/Display/DisplaySupport/FilterMenu.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TheadButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/CheckButton.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableSettings.js","../src/touchpoint-ui/Components/Display/DisplaySupport/TableControls.js","../src/touchpoint-ui/Components/Display/MainTable.js","../src/touchpoint-ui/Components/Containers/Module.js","../src/touchpoint-ui/Components/Containers/SplitScreen.js","../src/touchpoint-ui/DataObjects/DataType.js","../src/touchpoint-ui/DataObjects/DataHeader.js","../src/touchpoint-ui/Hooks/UseDataset.js","../src/touchpoint-ui/Hooks/UseHeaders.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react'\nimport './SystemPopupHandler.css'\n\nexport default function SystemPopupHandler(props) {\n\t\n\t//Clicking the background closes the popup\n\tfunction clickBackdrop(e){\n\t\tif(e.target.classList.contains('systemPopupBackdrop') && (!props.activePopup.props.forceOpen)){\n\t\t\tprops.system.closePopup()\n\t\t}\n\t}\n\t\n\tlet forceClass = ''\n\tif(props.activePopup!==null && props.activePopup.props.forceOpen){forceClass = 'forceOpen'}\n\t\n\t//If the active popup isn't null, render it\n\tif(props.activePopup != null){\n\t\t\n\t\t//support for oth JSX and function components\n\t\t// if(typeof props.activePopup === 'function'){pop = props.activePopup()}\n\t\t\n\treturn (\n\t\t<div \n\t\t\tclassName = {\"systemPopupBackdrop \" + props.popupEffect + ' ' + forceClass} \n\t\t\tonClick = {clickBackdrop}\n\t\t>\n\t\t\t{props.activePopup}\n\t\t</div>)\n\t\t\t\n\t} else return null\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Locking context. If a compnent is locked, then all child components will be locked as well \n//Only certain components support locking (see docs for more information)\nconst lockedContext = createContext(false)\nexport default lockedContext ","import React from 'react';\nimport { Route, Switch } from 'react-router';\nimport lockedContext from '../Contexts/LockedContext'\n\t\nexport default function SystemModuleContainer(props) {\n\t\n\tlet n = 0\n\tif(props.system.layout.hasSystemToolbar){n++}\n\tif(props.system.layout.hasSystemFooter){n++}\n\t\n\t//Adjusts the module container to fit between the system toolbars\n\tconst styleSettings = {\n\t\theight: 'calc(100vh - ' + n + ' * var(--systemToolbarHeight))',\n\t\twidth: '100vw'\n\t}\n\t\n\t//Get the active module\n\tlet ActiveModule = props.system.getModules()[props.system.getActiveModule()]\n\t\n\t//If there's no active module render the home module\n\tif(!ActiveModule){\n\t\tActiveModule = props.system.getModules()[props.system.getHomeModule()]\n\t\t\n\t} else if(!ActiveModule){ //If there's no home module render the first module in the list\n\t\tActiveModule = Object.keys(props.system.getModules())[0]\n\t}\n\n\tconst moduleList = props.system.getModules();\n\n\t//Render the chosen module\n\treturn(\n\t\t<lockedContext.Provider value = {ActiveModule.locked || props.locked}>\n\t\t\t<div className={\"moduleContainer\"} style={styleSettings}>\n\t\t\t\t<Switch>\n\t\t\t\t\t{/*<ActiveModule.component /> */}\n\n\t\t\t\t\t{Object.keys(moduleList).map(m => {\n\t\t\t\t\t\treturn <Route path={'/' + m} component={moduleList[m].component} />\n\t\t\t\t\t})}\n\t\t\t\t\t<Route path='/' component={moduleList[props.system.getHomeModule()].component} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n\t\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//System wide variables (eg. activeUser, theming functions etc.) to be defined in the App component. \nconst systemContext = createContext({})\nexport default systemContext \n","export default class SystemThemeEngine{\n\t\n\tconstructor(){\n\t\t//The list of available themes.\n\t\tthis.themes = {\n\t\t\torange: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(221, 70, 0)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(211, 67, 0)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.034)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'rgb(0, 138, 230)',\n\t\t\t\tfreeButtonNegativeBG: 'rgb(211, 67, 0)',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tblue: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: 'rgb(2, 187, 219)',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(26, 26, 26)',\n\t\t\t\tlabelColor: 'var(--navColor)',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: 'rgb(0, 138, 230)',\n\t\t\t\tnavTextColor: 'white',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: 'rgb(224, 230, 245)',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: 'white',\n\t\t\t\tshadowColor: 'rgba(54, 54, 54, 0.014)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: 'rgb(238, 238, 238)',\n\t\t\t},\n\t\t\t\n\t\t\tdark: {\n\t\t\t\t/* Main Table */\n\t\t\t\ttableActiveColor: '#63A1FF',\n\t\t\t\t\n\t\t\t\t/* Text */\n\t\t\t\tmainTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tlabelColor: '#63A1FF',\n\t\t\t\tlockedTextColor: 'rgb(122, 122, 122)',\n\t\t\t\t\n\t\t\t\t/* Nav */\n\t\t\t\tnavColor: '#35363A',\n\t\t\t\tnavTextColor: 'rgb(211, 211, 211)',\n\t\t\t\tnavHoverColor: 'rgb(196, 196, 196)',\n\t\t\t\tnavClickedColor: 'rgb(177, 177, 177)',\n\t\t\t\t\n\t\t\t\t/* Body Background */\n\t\t\t\tbodyAltBG: '#222229',\n\t\t\t\t\n\t\t\t\t/* Cards */\n\t\t\t\tcardBG: '#313440',\n\t\t\t\tshadowColor: 'rgba(0, 0, 0, 0.06)',\n\t\t\t\t\n\t\t\t\t/* FreeButtons */\n\t\t\t\tfreeButtonNeutralBG: 'var(--labelColor)',\n\t\t\t\tfreeButtonPositiveBG: 'green',\n\t\t\t\tfreeButtonNegativeBG: 'red',\n\t\t\t\tfreeButtonTextColor: 'white',\n\t\t\t\t\n\t\t\t\t/* Inputs */\n\t\t\t\tinputColor: '#202124',\n\t\t\t},\n\t\t}\n\t}\n\t\n\t//Set the CSS cariables that control theme colors\n\tsetTheme(themeName){\n\t\t//check if a theme exists with that name \n\t\tif(this.themes[themeName]){\n\t\t\t\n\t\t\tconst themeData = this.themes[themeName.toLowerCase()]\n\t\t\t\n\t\t\tObject.entries(themeData).forEach(([key, value]) => {\n\t\t\t\tdocument.documentElement.style.setProperty('--' + key, value)\n\t\t\t})\n\t\t\t\n\t\t\tlocalStorage.setItem('themeName',themeName)\n\t\t}\n\t}\n\t\n\t//fethches the user's preferred theme and applies it\n\tgetUserTheme(userName){\n\t\tthis.setTheme(localStorage.getItem('themeName'))\n\t}\n}\n","import './TouchPointApp.css'\nimport React, {useState, useEffect} from 'react'\nimport SystemPopupHandler from '../../SystemComponents/SystemPopupHandler'\nimport SystemModuleContainer from '../../SystemComponents/SystemModuleContainer'\nimport systemContext from '../../Contexts/SystemContext'\nimport SystemThemeEngine from '../../SystemComponents/ThemeEngine'\nimport PropTypes from 'prop-types'\nimport { HashRouter } from 'react-router-dom'\n\nexport default function TouchPointApp(props) {\n\t\n\t//System-wide state\n\tconst [activePopup, setPopup] = useState(null);\n\tconst [activeModule, setActiveModule] = useState(props.defaultModule)\n\t\n\t//Set moduleTransition to 'transition' while the modules are being switched out\n\tconst [screenEffect, setScreenEffect] = useState('')\n\tconst [screenBlock, setScreenBlock] = useState(false) //if true, no clicks will register\n\tconst [popupEffect, setPopupEffect] = useState('')\n\t\n\t//Layout state - allows modules to fit available space between system toolbars\n\tconst [hasAppToolbar, setHasAppToolbar] = useState(false)\n\tconst [hasAppFooter, setHasAppFooter] = useState(false)\n\t\n\t//Functions that are available to all modules and can be used system-wode \n\t//Used for things like switching modules, sending out emails, etc. for consistency across the system\n\tconst System = {\n\t\n\t\t//Accessing system wide information\n\t\tgetActiveModule: () => {return(activeModule)},\n\t\t//Create a copy of props.modules, excluding any hidden modules. \n\t\tgetModules: () => {\n\t\t\tconst modules = {}\n\t\t\tObject.keys(props.modules).forEach((m)=>{\n\t\t\t\tif(!props.modules[m].hidden){\n\t\t\t\t\tmodules[m] = props.modules[m]\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\treturn modules\n\t\t},\n\t\tgetHomeModule: () => {return props.homeModule},\n\t\t\n\t\t//Setting system wide variables\n\t\tsetTheme: (themeName) => {\n\t\t\tconst themeEngine = new SystemThemeEngine\n\t\t\tthemeEngine.setTheme(themeName)\n\t\t},\n\t\t\n\t\t//Interacting with the parent app\n\t\topenModule: (moduleName) => {\n\t\t\t\n\t\t\tif(props.modules[moduleName]){\n\t\t\t\t//setActiveModule(moduleName)\n\t\t\t\twindow.location.href = '#/' + moduleName\n\t\t\t}\n\t\t},\n\t\t\n\t\tdisableInput: (forTime) => {\n\t\t\tsetScreenBlock(true)\n\t\t\t\n\t\t\tif(forTime){\n\t\t\t\tsetTimeout(() => setScreenBlock(false), forTime)\n\t\t\t}\n\t\t},\n\t\t\n\t\tenableInput: () => {setScreenBlock(false)},\n\t\t\n\t\topenPopup: (PopupComponent) => {\n\t\t\tsetScreenBlock(true)\n\t\t\tsetTimeout(() => setScreenBlock(false), 400)\n\t\t\t\n\t\t\tsetScreenEffect('blurScreenEffect')\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetPopup(PopupComponent)\n\t\t\tsetTimeout(() => setPopupEffect(''), 0)\n\t\t},\n\t\t\n\t\tclosePopup: () => {\n\t\t\t// if(activePopup.props.onClose){activePopup.props.onClose()}\n\t\t\tsetPopupEffect('transparent')\n\t\t\tsetTimeout(()=>setPopup(null), 250)\n\t\t\tsetScreenEffect('')\n\t\t},\n\t\t\n\t\t//Internal variables for structuring the app\n\t\tlayout: {\n\t\t\thasAppToolbar: hasAppToolbar,\n\t\t\tsetHasAppToolbar: setHasAppToolbar,\n\t\t\t\n\t\t\thasAppFooter: hasAppFooter,\n\t\t\tsetHasAppFooter: setHasAppFooter,\n\t\t},\n\t\t\n\t\tio: props.io\n\t}\n\t\n\t//Initial setup. Initaializes the theme handler object, and sets the theme to the preffered user theme\n\tuseEffect(() => {\n\t\tconst themeEngine = new SystemThemeEngine()\n\t\tthemeEngine.getUserTheme(System.io.getActiveUser())\n\t}, [])\n\t\n\t//Input blocker for clicks\n\tlet screenBlocker = null\n\tif(screenBlock){\n\t\tscreenBlocker = <div className=\"screenBlocker\" />\n\t\t\n\t} else screenBlocker = null\n\t\n\t//The App JSX itself\n\treturn (\n\t\t<div className={\"TouchPointApp \"}>\n\t\t\t<systemContext.Provider value ={System}>\n\t\t\t\t<HashRouter>\n\t\t\t\t{screenBlocker}\n\t\t\t\t\n\t\t\t\t<div className={'screenEffect ' + screenEffect}>\n\t\t\t\t\t\n\t\t\t\t\t{props.children}\n\t\t\t\t\t\n\t\t\t\t\t<SystemModuleContainer system = {System} locked = {props.locked}/>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<SystemPopupHandler \n\t\t\t\t\tsystem = {System} \n\t\t\t\t\tactivePopup = {activePopup}\n\t\t\t\t\tpopupEffect = {popupEffect}\n\t\t\t\t\t/>\n\t\t\t\t</HashRouter>\n\t\t\t</systemContext.Provider>\n\t\t</div>\n\t);\n}\n\n//Proptypes\nTouchPointApp.propTypes = {\n\tlocked: PropTypes.bool,\n\tmodules: PropTypes.object.isRequired,\n\tactiveUser: PropTypes.string.isRequired,\n\thomeModule: PropTypes.string,\n\tio: PropTypes.any\n}\n","import systemContext from '../Contexts/SystemContext'\nimport {useContext} from 'react'\n\n//Returns a refference to the System object - allowing modules to interact with the parent app\nexport default function useSystem() {\n\treturn useContext(systemContext)\n}","import {useEffect} from 'react'\nimport useSystem from './UseSystem'\n\n//Allows a system component (like the app-wide toolbar) to declare its presence, so the module container \n//can resize to fit around them\nexport default function usePresence(componentName) {\n\tconst System = useSystem()\n\n\tuseEffect(() => {\n\t\tSystem.layout['setHas' + componentName](true)\n\n\t\treturn (() => {\n\t\t\tSystem.layout['setHas' + componentName](false)\n\t\t})\n\t}, [])\n}","import React from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './AppToolbar.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\nimport {Dropdown, DropdownButton} from 'react-bootstrap'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faHome} from \"@fortawesome/free-solid-svg-icons\"\n\nexport default function AppToolbar(props){\n\t\n\tconst System = useSystem()\n\tlet devMode = ''\n\tif(process.env.NODE_ENV === 'development'){ devMode = '(Dev Mode)'}\n\t\n\t//Declare itself to the app so the modules can be fit around it \n\tusePresence('AppToolbar')\n\t\n\tconst moduleList = System.getModules()\n\t\n\treturn (\n\t\t<div className=\"AppToolbar flexY\">\n\t\t\t<div className=\"buttonContainer flexY\">\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"homeButton\" \n\t\t\t\t\tonClick = {(e)=>{\n\t\t\t\t\t\tSystem.openModule(System.getHomeModule())\n\t\t\t\t\t\te.target.blur()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FontAwesomeIcon icon={faHome} /> Home\n\t\t\t\t</button>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Application\">\n\t\t\t\t\t\n\t\t\t\t\t{Object.keys(moduleList).map((m) => {\n\t\t\t\t\t\tif (m !== System.getHomeModule()) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Dropdown.Item\n\t\t\t\t\t\t\t\t\tonClick={() => System.openModule(m)}\n\t\t\t\t\t\t\t\t\tkey={'SystemToolBarOpenModule' + m}\n\t\t\t\t\t\t\t\t>{moduleList[m].name}</Dropdown.Item>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t</DropdownButton>\n\t\t\t\n\t\t\t\t<DropdownButton title=\"Tools\">\n\t\t\t\t\t<Dropdown.Item>Class V Estimation</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Settings\">\n\t\t\t\t\t<Dropdown.Item>User Delegation</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('blue')}>Blue Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('orange')}>Orange Theme</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item onClick={()=>System.setTheme('dark')}>Dark Theme</Dropdown.Item>\n\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Support\">\n\t\t\t\t\t<Dropdown.Item>Request Change</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Report Bug</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>Contact Dev Team</Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t\n\t\t\t\t<DropdownButton title=\"Help\">\n\t\t\t\t\t<Dropdown.Item>View Help Files</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item>About DMS</Dropdown.Item>\n\t\t\t\t</DropdownButton>\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"brandingContainer\">\n\t\t\t\tBruce Power DMS {devMode}\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t)\n}\n","import React from 'react'\nimport './AppFooter.css'\nimport useSystem from '../../Hooks/UseSystem'\nimport usePresence from '../../Hooks/UsePresence'\n\nexport default function AppFooter(props) {\n\t\n\tconst System = useSystem() \n\tconst v = System.io.getVersion()\n\t\n\t//Declare itself to the app so the modules can be fit around it\n\tusePresence('AppFooter')\n\t\n\treturn (\n\t\t<div className=\"AppFooter\">\n\t\t\t<span className=\"leftSide\">\n\t\t\t\t{System.io.getActiveUser()} | \n\t\t\t\tSecurity Profile: {System.io.getSecurityProfile()} | \n\t\t\t\tVersion: {v.number + ' - ' + v.environment}\n\t\t\t</span>\n\t\t\t\n\t\t\t<span className=\"rightSide\">\n\t\t\t\t\n\t\t\t</span>\n\t\t</div>\n\t)\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './CoreButton.css'\n\n\nexport default function CoreButton(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tif(!props.hidden){return (\n\t\t\n\t\t<button className={'CoreButton ' + lockedClass + ' ' + props.className}\n\t\t\tonClick ={clickHandler}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t\t\n\t)} else{return null}\n}\n\n//Proptypes\nCoreButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tclassName: PropTypes.string\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './FreeButton.css'\n\nexport default function FreeButton(props) {\n\t\n\tlet purpose = 'neutral '\n\tlet wideClass = ''\n\tlet circleClass = ''\n\tif (props.purpose){purpose = props.purpose.toLowerCase()}\n\tif (props.wide){wideClass = 'wide '}\n\t\n\t\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"FreeButton \" + purpose + ' ' + wideClass + ' ' + props.className}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nFreeButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n\tpurpose: PropTypes.string,\n\twide: PropTypes.bool\n}","import React, {useContext} from 'react'\nimport './Tile.css'\nimport {useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\n\nexport default function Tile(props) {\n\t\n\t//When a module is clicked, a splash screen is dispalyed for a second\n\tconst [splash, setSplash] = useState()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tfunction clickHandler(){\n\t\tif(!locked && props.splashScreen && props.onClick){\n\t\t\tsetSplash('splashScreen')\n\t\t\tsetTimeout( () => {props.onClick()}, 550)\n\t\t\t\n\t\t} else if(!locked && props.onClick){\n\t\t\tprops.onClick()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div className={\"Tile \" + splash} onClick = {clickHandler}> \n\t\t\n\t\t\t<div className=\"logo flexCenter\">\n\t\t\t\t<img src={props.icon}/> \n\t\t\t</div> \n\t\t\t\n\t\t\t{props.title}\n\t\t\t\n\t\t</div>\n\t)\n\t\n}\n\n//Proptypes\nTile.propTypes = {\n\tlocked: PropTypes.bool,\n\ticon: PropTypes.any,\n\ttitle: PropTypes.string,\n\tsplashScreen: PropTypes.bool,\n\tonClick: PropTypes.func\n}\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\n\nexport default function TextBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\tif(e.key === 'Enter' && props.onEnter!==undefined){\n\t\t\tprops.onEnter(e)\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<input \n\t\t\ttype=\"text\" \n\t\t\tclassName={\"input TextBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tplaceholder = {props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t/>\n\t)\n}\n\n//Proptypes\nTextBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n}\n\n","import React, {useState, useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport TextBox from './TextBox'\nimport PropTypes from 'prop-types'\nimport './SearchBar.css'\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSearch} from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function SearchBar(props) {\n\t\n\tconst [searchText, setSearchText] = useState(props.defaultValue)\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Search button click event\n\tfunction searchHandler(e){\n\t\tif(!locked && props.onSearch){\n\t\t\tprops.onSearch(e, searchText)\n\t\t} \n\t}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tsetSearchText(e.target.value)\n\t\t\n\t\tif(!locked && props.onChange){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<span className=\"SearchBar\"> \n\t\t\t<TextBox \n\t\t\t\tlocked = {props.locked}\n\t\t\t\tdefaultValue = {props.defaultValue}\n\t\t\t\tonChange= {changeHandler}\n\t\t\t\thidden = {props.hdden}\n\t\t\t\tonEnter = {props.onSearch}\n\t\t\t\tplaceholder = \"Search\"\n\t\t\t\tonBlur = {props.onBlur}\n\t\t\t/>\n\t\t\t\n\t\t\t<button className=\"searchButton\"\n\t\t\t\tonClick = {searchHandler}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon={faSearch} />\n\t\t\t</button>\n\t\t\t\n\t\t</span>\n\t)\n}\n\n//Proptypes\nSearchBar.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonSearch: PropTypes.func,\n\tonBlur: PropTypes.func\n}\n","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by RadioGroup to connect all the radio buttons below\nconst radioContext = createContext('')\nexport default radioContext ","import React, { useContext, useState } from 'react'\nimport PropTypes from 'prop-types';\nimport lockedContext from '../../Contexts/LockedContext'\nimport radioContext from '../../Contexts/RadioContext'\nimport {v4 as uuid} from 'uuid'\n\n\nexport default function RadioGroup(props) {\n\t\n\t//decides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\tconst [groupName] = useState(uuid())\n\t\n\tfunction onChange(value){\n\t\tif(props.onChange){\n\t\t\tprops.onChange(value, props.groupID)\n\t\t}\n\t}\n\t\n\tconst radioData = {\n\t\tonChange: onChange,\n\t\tgroupName: groupName,\n\t\tlocked: locked,\n\t\tdefaultValue: props.defaultValue\n\t}\n\t\n\treturn (\n\t\t<radioContext.Provider value={radioData}>\n\t\t\t{props.children}\n\t\t</radioContext.Provider>\n\t)\n}\n\n//Proptypes\nRadioGroup.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tgroupID: PropTypes.any,\n}\n\n","import React, {useContext, useState} from 'react'\nimport radioContext from '../../Contexts/RadioContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './RadioButton.css'\nimport {v4 as uuid} from 'uuid'\n\nexport default function RadioButton(props) {\n\t\n\tconst radioData = useContext(radioContext)\n\tconst [id] = useState(uuid())\n\t\n\tlet lockedClass = ''\n\tif (radioData.locked) { lockedClass = 'locked ' }\n\n\t//handles the clicking of the radio button - for locked radio buttons\n\tfunction clickHandler(e) {\n\t\tif (radioData.locked) {\n\t\t\te.preventDefault()\n\t\t\t\n\t\t} else{\n\t\t\tradioData.onChange(props.value)\n\t\t\t\n\t\t}\n\t}\n\t\n\tconst defaultChecked = radioData.defaultValue === props.value\n\t\n\treturn (\n\t\t<span className={\"RadioButton flexY \"+ lockedClass}>\n\t\t\t\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={defaultChecked}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tname = {radioData.groupName}\n\t\t\t\tvalue = {props.value}\n\t\t\t\tid = {id}\n\t\t\t/>\n\t\t\t<label \n\t\t\t\tclassName = {lockedClass}\n\t\t\t\thtmlFor = {id}\n\t\t\t>\n\t\t\t\t{props.labelValue}\t\n\t\t\t</label>\n\t\t\t\n\t\t</span>\n\t)\n}\n\nRadioButton.propTypes = {\n\tlabelValue: PropTypes.string,\n\tvalue: PropTypes.any,\n}","import React from 'react'\nimport CoreButton from './CoreButton'\nimport PropTypes from 'prop-types'\n\nimport './ControlButton.css'\n\nexport default function ControlButton(props) {\n\treturn (\n\t\t<CoreButton\n\t\t\tlocked={props.locked}\n\t\t\tonClick ={props.onClick}\n\t\t\thidden={props.hidden}\n\t\t\tclassName = {\"ControlButton\"}\n\t\t>\n\t\t\t{props.children}\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nControlButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//Used by a module to talk to it's children (eg. tying a searchbar to a maintable)\nconst moduleContext = createContext({\n\tsearchText: ''\n})\nexport default moduleContext ","import React, {useContext, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './ControlBar.css'\nimport SearchBar from './SearchBar'\nimport lockedContext from '../../Contexts/LockedContext'\nimport moduleContext from '../../Contexts/ModuleContext'\n\nexport default function ControlBar(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\tconst moduleData = useContext(moduleContext)\n\tconst [searchState, setSearchState] = useState(()=>{})\n\t\n\t//search\n\tfunction searchHandler(e){\n\t\tmoduleData.setSearchText(e.target.value)\n\t}\n\t\n\t//start searching after thet person has finished typing, using a 1 second delay\n\tfunction changeHandler(e){\n\t\tclearTimeout(searchState)\n\t\te.persist()\n\t\t\n\t\tsetSearchState(setTimeout(()=>{\n\t\t\tsearchHandler(e)\n\t\t}, 250))\n\t}\n\t\n\tif(props.searchBar){\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t\t<div className=\"searchContainer\">\n\t\t\t\t\t\t<SearchBar \n\t\t\t\t\t\t\tlocked = {false}\n\t\t\t\t\t\t\tonChange = {changeHandler}\n\t\t\t\t\t\t\tonSearch = {searchHandler}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\t\n\t\t)\n\t\t\n\t} else{\n\t\t\n\t\treturn (\n\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t<div className=\"ControlBar flexY\">\n\t\t\t\t\t<div className=\"buttonContainer\">{props.children}</div>\n\t\t\t\t</div>\n\t\t\t</lockedContext.Provider>\n\t\t\t\n\t\t)\n\t}\n}\n\n//Proptypes\nControlBar.propTypes = {\n\tsearchBar: PropTypes.bool,\n\tsearchBarProps: PropTypes.object,\n\tlocked: PropTypes.bool\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\nimport PropTypes from 'prop-types'\nimport './CommentBox.css'\n\nexport default function CommentBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//For the onEnter event\n\tfunction keyPressHandler(e){\n\t\t//need esc functionality here\n\t}\n\t\n\tconst styleSetings = {\n\t\theight: props.height,\n\t\twidth: props.width,\n\t}\n\t\n\tfunction blurHandler(e){\n\t\tif(!locked && props.onBlur){\n\t\t\tprops.onBlur(e)\n\t\t} \n\t}\n\t\n\treturn (\n\t\t<textarea\n\t\t\tclassName={\"input CommentBox \" + lockedClass}\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonChange={changeHandler}\n\t\t\treadOnly={locked}\n\t\t\tonKeyPress={keyPressHandler}\n\t\t\tstyle={styleSetings}\n\t\t\tplaceholder={props.placeholder}\n\t\t\tonBlur = {blurHandler}\n\t\t></textarea>\n\t)\n}\n\n//Proptypes\nCommentBox.propTypes = {\n\tlocked: PropTypes.bool,\n\tdefaultValue: PropTypes.string,\n\tonChange: PropTypes.func,\n\thidden: PropTypes.bool,\n\tonEnter: PropTypes.func,\n\tplaceholder: PropTypes.string,\n\tclassName: PropTypes.string,\n\theight: PropTypes.string,\n\twidth: PropTypes.string,\n}\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './ComboBox.css'\nimport './InputStyles.css'\n\nexport default function ComboBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//if its locked, only allow the default option\n\tlet kids = props.children\n\tif(locked){\n\t\tkids = <option>{props.defaultValue}</option>\n\t}\n\t\n\t//If it's hidden, don't render anything\n\tif (props.hidden){return null} else{return(\n\t\t\t<select \n\t\t\t\tclassName={\"ComboBox input \" + lockedClass} \n\t\t\t\tdefaultValue={props.defaultValue}\n\t\t\t\tonChange = {changeHandler}\n\t\t\t\tdisabled = {locked}\n\t\t\t>\n\t\t\t\t{kids}\n\t\t\t</select>\n\t)}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CoreButton from './CoreButton'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes} from \"@fortawesome/free-solid-svg-icons\";\nimport './CloseButton.css'\n\n\nexport default function CloseButton(props) {\n\t\n\treturn (\n\t\t<CoreButton \n\t\t\tclassName = 'CloseButton'\n\t\t\tonClick = {props.onClick}\n\t\t\tlocked = {props.locked}\n\t\t\thidden = {props.hidden}\n\t\t>\n\t\t\t<FontAwesomeIcon icon={faTimes}/>\n\t\t</CoreButton>\n\t)\n}\n\n//Proptypes\nCloseButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tonClick: PropTypes.func,\n\thidden: PropTypes.bool,\n}\n\n\n","import React, {useContext} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport './InputStyles.css'\n\nexport default function CheckBox(props) {\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\t\n\tlet lockedClass = ''\n\tif (locked){lockedClass = 'locked '}\n\t\n\t//handles the onChange event. Only fires if component is not locked\n\tfunction changeHandler(e){\n\t\tif(!locked && props.onChange !== undefined){\n\t\t\tprops.onChange(e)\n\t\t} \n\t}\n\t\n\t//handles the clicking of the checkbox - for locked checkboxes\n\tfunction clickHandler(e){\n\t\tif(locked){\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<label className=\"CheckBox flexY\">\n\t\t\t<input \n\t\t\t\ttype=\"checkbox\" \n\t\t\t\tclassName={'input ' + lockedClass}\n\t\t\t\tdefaultChecked={props.defaultValue}\n\t\t\t\tonChange={changeHandler}\n\t\t\t\tonClick={clickHandler}\n\t\t\t/>\n\t\t\t<span className=\"checkmark\"></span>\n\t\t\t{props.label}\n\t\t</label>\n\t)\n}","import React, {useContext} from 'react'\nimport './InfoCard.css'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport CloseButton from '../Inputs/CloseButton'\n\nexport default function InfoCard(props) {\n\t\n\t//locking the item. If a component somewhere above in the tree is locked, the context will \n\t//cause this card to be locked as well\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Assign classes based on props \n\tlet stripe = '' //Adds a stripe down the left side\n\tif(props.stripe && !props.titleBar){stripe = 'stripe'}\n\t\n\t//Adds hover and click effects in the x, y or xy directions\n\tlet dynamic = '' //dynamic effects are ignored if locked\n\tif(!locked){\n\t\tif (props.dynamicX){dynamic = 'dynamicX '}\n\t\tif (props.dynamicY){dynamic = dynamic + ' dynamicY '}\n\t} \n\t\n\t//handles the onClick event. Only fires if the component is not locked\n\tfunction clickHandler(e){\n\t\tif(!locked && props.onClick !== undefined){\n\t\t\tprops.onClick(e)\n\t\t} \n\t}\n\t\n\tfunction closeHandler(e){\n\t\te.stopPropagation()\n\t\tprops.onClose()\n\t}\n\t\n\t//If a title prop is provided, create an H1\n\tlet titleBar\n\tif(props.title){titleBar = <h1>{props.title}</h1>}\n\t\n\tlet closeButton\n\tif(props.onClose){\n\t\tcloseButton = <CloseButton onClick = {closeHandler}></CloseButton>\n\t}\n\t\t\n\t//if 'hidden' prop is true then dont show the component\n\tif(props.hidden){return null} else{\n\t\t\n\t\tconst styleSettings ={\n\t\t\twidth: props.width,\n\t\t\theight: props.height\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName={\"InfoCard \" + dynamic + ' ' + props.className} \n\t\t\t\tonClick = {clickHandler} \n\t\t\t\tstyle = {styleSettings}\n\t\t\t>\n\t\t\t\t\t\n\t\t\t\t<lockedContext.Provider value = {locked}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"cardContainer\">\t\n\t\t\t\t\t\t<div className={\"textBox \" + stripe}>\n\t\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t\t{titleBar}\n\t\t\t\t\t\t\t{props.children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</lockedContext.Provider>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n//Proptypes\nInfoCard.propTypes = {\n\ttitle: PropTypes.string,\n\tstripe: PropTypes.bool,\n\tdynamicX: PropTypes.bool,\n\tdynamicY: PropTypes.bool,\n\tlocked: PropTypes.bool,\n\thidden: PropTypes.bool,\n\tonClick: PropTypes.func,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tclassName: PropTypes.string,\n\tonClose: PropTypes.func,\n}\n","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\nimport InfoCard from '../Containers/InfoCard'\nimport './Popup.css'\nimport useSystem from '../../Hooks/UseSystem'\n\nexport default function Popup(props) {\n\tconst system = useSystem()\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//Clicking the background closes the popup\n\tlet handleCloseButton\n\tif(!props.forceOpen){\n\t\thandleCloseButton = () => {\n\t\t\tif(!props.forceOpen){\n\t\t\t\tsystem.closePopup()\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\treturn(\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<InfoCard \n\t\t\t\tclassName = {'Popup '}\n\t\t\t\tstripe\n\t\t\t\ttitle = {props.title}\n\t\t\t\twidth = {props.width}\n\t\t\t\theight = {props.height}\n\t\t\t\tonClose ={handleCloseButton}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t</InfoCard>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nPopup.propTypes = {\n\ttitle: PropTypes.string,\n\tonClose: PropTypes.func,\n\tforceOpen: PropTypes.bool,\n\twidth: PropTypes.string,\n\theight: PropTypes.string,\n\tlocked: PropTypes.bool\n}","//Context hooks for variable and functions that are system wide\nimport { createContext } from 'react'\n\n//used by dropdown menus to talk to items inside of themselves \nconst menuContext = createContext({})\nexport default menuContext \n","import React, {useContext, useState} from 'react'\nimport lockedContext from '../../Contexts/LockedContext'\nimport menuContext from '../../Contexts/MenuContext'\nimport PropTypes from 'prop-types'\nimport './MenuButton.css'\nimport {Dropdown} from 'react-bootstrap'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faCaretRight} from '@fortawesome/free-solid-svg-icons'\n\n\nexport default function MenuButton(props){\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tlet lockedClass\n\tif(locked){lockedClass = 'locked'}\n\t\n\tconst [toggling, setToggling] = useState(false)\n\t\n\t//handles both onOpen and onClose\n\tfunction toggleHandler(isOpen){\n\t\t\n\t\tif(!toggling && isOpen && props.onOpen){\n\t\t\tprops.onOpen()\n\t\t\t\n\t\t} else if(!toggling && props.onClose && !isOpen){\n\t\t\tprops.onClose()\n\t\t\tsetToggling(true)\n\t\t}\n\t\t\n\t\t//Prevent spamming\n\t\tsetTimeout(()=>setToggling(false), 300)\n\t}\n\t\n\t//check if it's inside of another menu, if so render as a submenu\n\tconst parentMenuData = useContext(menuContext)\n\tlet icon = null\n\tif(parentMenuData.submenu){\n\t\ticon = <span className='subMenuIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faCaretRight} />\n\t\t\t</span>\n\t}\n\t\n\tlet direction = props.direction\n\tif(parentMenuData.submenu){\n\t\tdirection = 'right'\n\t}\n\n\t\n\t//button\n\tconst dropButton = React.forwardRef(({onClick}, ref)=> { \n\t\t\n\t\tfunction clickHandler(e){\n\t\t\te.preventDefault()\n\t\t\tonClick(e)\n\t\t}\n\t\t\n\t\treturn( \n\t\t\t<button \n\t\t\t\tclassName={'MenuButton '+ props.className + ' ' + lockedClass}\n\t\t\t\tonClick={clickHandler}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t{icon}\n\t\t\t\t\n\t\t\t</button>\n\t\t)\n\t})\n\t\n\t//Menu Itself\n\tconst menuStyle = {\n\t\tmaxHeight: props.maxHeight,\n\t\twidth: props.width,\n\t\theight: props.height,\n\t}\n\n\t\n\tconst dropMenu = React.forwardRef(\n\t\t({style, className}, ref) => {\n\t  \n\t\t\treturn (\n\t\t\t\t<menuContext.Provider value={{ submenu: true }}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tstyle = {{menuStyle}}\n\t\t\t\t\t\tclassName={className + ' MenuContainer'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstyle={style}\n\t\t\t\t\t\t\tclassName={'Menu'}\n\t\t\t\t\t\t\tstyle = {menuStyle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.menuContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</menuContext.Provider>\n\t\t\t)\n\t\t}\n\t)\n\n\t//If locked return a button that does nothing, otherwise create a real dropdown button\n\tif(locked){return(dropButton)}\telse{return(\n\t\t<span className = 'menuButtonContainer'>\n\t\t\t<Dropdown drop={direction} onToggle = {toggleHandler}>\n\t\t\t\t<Dropdown.Toggle as={dropButton}/>\n\t\t\t\t<Dropdown.Menu as={dropMenu} />\n\t\t\t</Dropdown>\n\t\t</span>\n\t)}\n}\n\n//Proptypes\nMenuButton.propTypes = {\n\tlocked: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tmenuContent: PropTypes.any.isRequired,\n\tmaxHeight: PropTypes.string,\n\tdirection: PropTypes.string,\n\tonOpen: PropTypes.func,\n\tonClose: PropTypes.func,\n}","import React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './InputCell.css'\n\nexport default function InputCell(props) {\n\t\n\tconst [initalValue, setInitialValue] = useState(props.defaultValue)\n\t\n\t//When you focus on an item, the value is saved. if you escape, its restored\n\tfunction focusHandler(e){\n\t\tsetInitialValue(e.target.value)\n\t}\n\t\n\t//Handles keypresses, for enter or esc keys\n\tfunction keyHandler(e){\n\t\tif(e.keyCode === 27) { //esc\n\t\t\t\n\t\t\te.target.value = initalValue\n\t\t\te.target.blur()\n\t\t\t\n\t\t} else if(e.keyCode === 13){ //enter\n\t\t\t\n\t\t\tconsole.log('You pressed the enter key!')\n\t\t\t\n\t\t}\n\t}\n\t\n\t//Handles changes (commit changes)\n\tfunction changeHandler(e){\n\t\t\n\t}\n\t\n\tswitch(props.dataHeader.dataType.kind){\n\t\t\n\t\tdefault: return <input\n\t\t\tclassName = 'InputCell cellTextBox input'\n\t\t\tdefaultValue={props.defaultValue}\n\t\t\tonKeyDown = {keyHandler}\n\t\t\tonFocus = {focusHandler}\n\t\t/>\n\t}\n\t\n}\n\n//Proptypes\nInputCell.propTypes = {\n\tdefaultValue: PropTypes.string,\n\tdataRow: PropTypes.object,\n}","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTableRow.css'\nimport InputCell from './InputCell'\n\nexport default function MainTableRow(props) {\n\t\n\tlet renderRow = true\n\n\tlet dynamicClass = ''\n\tlet pointerClass = ''\n\tif(props.dynamic){dynamicClass = 'dynamic'}\n\tif(props.setActiveRecord){pointerClass = 'pointer'}\n\t\n\t//Check if this is the active row for style reasons \n\tconst [activeClass, setActiveClass] = useState('')\n\t\n\t//sends the dataRow object to the select record function\n\tfunction rowClickHandler(){\n\t\tif(props.setActiveRecord){\n\t\t\tsetActiveClass('active')\n\t\t\tprops.setActiveRecord(props.dataRow)\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif(props.activeRecord === props.dataRow) {setActiveClass('active')} else{\n\t\t\tsetActiveClass('')\n\t\t}\n\t},[props.activeRecord, props.dataRow]);\n\t\n\t//check if it's filtered out by the search term \n\trenderRow = props.dataHeaders.some((hdr) => {\n\t\tif(props.searchText){\n\t\t\treturn hdr.dataType.search(props.dataRow[hdr.headerID], props.searchText)\n\t\t} else{\n\t\t\treturn true\n\t\t}\n\t})\n\t\n\t//Only continue building the row if it's actually required\n\tlet row\n\tif (renderRow){\n\t\trow = props.dataHeaders.map(hdr => {\n\t\t\tif(hdr.visible){\n\t\t\t\trenderRow = (renderRow && props.dataRow.TouchPointMetaVisible) || props.noFilter\n\t\t\t\t\n\t\t\t\t//Decide if the cell is editable or not based on the locked status, and the header onEdit function\n\t\t\t\tlet cellContent = props.dataRow[hdr.headerID]\n\t\t\t\tif(!props.locked && hdr.onEdit && ! hdr.locked){\n\t\t\t\t\tcellContent = <InputCell \n\t\t\t\t\t\tdataHeader = {hdr} \n\t\t\t\t\t\tdefaultValue = {cellContent}\n\t\t\t\t\t\tdataRow = {props.dataRow}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//No conditional formatting\n\t\t\t\tif (!hdr.styling){return(<span \n\t\t\t\t\tkey = {hdr.headerID+props.rowKey} \n\t\t\t\t\tstyle = {{width: hdr.width + '%'}}\n\t\t\t\t>\n\t\t\t\t\t{cellContent}\n\t\t\t\t</span>)\n\t\t\t\t} else { \n\t\t\t\t\t\n\t\t\t\t\t//apply the styling function in the header object\n\t\t\t\t\tconst myStyle = hdr.styling(props.dataRow[hdr.headerID], props.dataRow)\n\t\t\t\t\t\n\t\t\t\t\treturn( //with coniditional formatting\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span className = 'badge' key = {hdr.headerID+props.rowKey} style = {{\n\t\t\t\t\t\t\twidth: 'calc(' + hdr.width + '% - 23px',\n\t\t\t\t\t\t\tcolor: myStyle.textColor,\n\t\t\t\t\t\t\tbackgroundColor: myStyle.badgeColor,\n\t\t\t\t\t\t\tmarginLeft: '23px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{cellContent}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\t\n\t// only the row if it passes the filter\n\tif(renderRow){return(\n\t\t<div \n\t\t\tclassName={'MainTableRow ' + dynamicClass + ' ' + pointerClass} \n\t\t\tonClick = {rowClickHandler}\n\t\t>\n\t\t\t<div className={\"rowContainer \" + activeClass}>\n\t\t\t\t{row}\n\t\t\t</div>\n\t\t</div>\n\t)} else return null\n}\n\n//Proptypes\nMainTableRow.propTypes = {\n\tdataHeaders: PropTypes.array.isRequired,\n\tdataRow: PropTypes.object.isRequired,\n\tsetActiveRecord: PropTypes.func,\n\tlocked: PropTypes.bool,\n\tdynamic:PropTypes.bool\n}","import React, {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport lockedContext from '../../Contexts/LockedContext'\n\nexport default function InfoTab(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked === undefined)\n\t\n\tif(!props.hidden){return (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t\n\t\t\t<div className = {'InfoTab ' + props.tabID}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t\t\n\t\t</lockedContext.Provider>\n\t)} else return null\n}\n\n//Proptypes\nInfoTab.propTypes = {\n\ttabTitle: PropTypes.string.isRequired,\n\ttabID: PropTypes.string.isRequired,\n}\n","import React, {useContext} from 'react'\nimport {Tabs, Tab} from 'react-bootstrap'\nimport lockedContext from '../../Contexts/LockedContext'\nimport PropTypes from 'prop-types'\nimport './InfoTabContainer.css'\n\n\nexport default function InfoTabContainer(props) {\n\t\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\treturn (\n\t\t<lockedContext.Provider value={locked}>\n\t\t\t<div className=\"InfoTabContainer\">\n\t\t\t\t<Tabs \n\t\t\t\t\tdefaultActiveKey={props.defaultTab} \n\t\t\t\t\ttransition={false}\n\t\t\t\t\tonSelect = {(tabID)=>{\n\t\t\t\t\t\tif(props.onTabChange){props.onTabChange(tabID, locked)}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t\n\t\t\t\t\t{React.Children.map(props.children,(child) =>{\n\t\t\t\t\t\tif(!child.props.hidden){\n\t\t\t\t\t\t\treturn(<Tab eventKey={child.props.tabID} title={child.props.tabTitle}>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</Tab>)\n\t\t\t\t\t\t} else return null\n\t\t\t\t\t})}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</lockedContext.Provider>\n\t)\n}\n\n//Proptypes\nInfoTabContainer.propTypes = {\n\tdefaultTab: PropTypes.string,\n\tonTabChange: PropTypes.func,\n\tlocked: PropTypes.bool,\n}\n\n\n","import React from 'react'\nimport produce from 'immer'\nimport './FilterMenu.css'\n\nexport default function FilterMenu(props){\n\n\tconst values = props.header.uniqueValues\n\t\n\tfunction clickHandler(e, id){\n\t\tconst cb = document.getElementById(id)\n\t\tif(e.target !== cb){cb.checked = !cb.checked}\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders)=>{\n\t\t\t\tdraftHeaders[props.header.index].uniqueValues[cb.value] = cb.checked\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction selectAll(e){\n\t\tconst cb = document.getElementById(props.header.headerID + 'selectAll')\n\t\tif (e.target !== cb) { cb.checked = !cb.checked }\n\t\t\n\t\t//using immer to modify the dataHeaders state without breaking immutability rules\n\t\tprops.dataHeaders.set(\n\t\t\tproduce(props.dataHeaders.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[props.header.index].selectAll(cb.checked)\n\t\t\t})\n\t\t)\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\treturn (\n\t\t<div className = 'FilterMenu'>\n\t\t\t\n\t\t\t<div className = 'topMenu'>\n\t\t\t\t{props.children}\n\t\t\t\n\t\t\t\t<button onClick={selectAll} className = 'selectAll'>\n\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\tdefaultChecked={!props.header.hasFilter()}\n\t\t\t\t\t\tid={props.header.headerID + 'selectAll'}\n\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t/>\n\t\t\t\t\t{' Select All'}\n\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className=\"filterOptions\">\n\t\t\t\t\n\t\t\t\t{Object.keys(values).map((v, i) => {\n\t\t\t\t\treturn (<button\n\t\t\t\t\t\tkey={props.header.id + 'fv' + i}\n\t\t\t\t\t\tonClick={(e) => clickHandler(e, props.header.headerID + 'fcb' + i)}\n\t\t\t\t\t>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype = 'checkbox'\n\t\t\t\t\t\t\tdefaultChecked = {values[v]}\n\t\t\t\t\t\t\tid={props.header.headerID + 'fcb' + i}\n\t\t\t\t\t\t\tvalue = {v}\n\t\t\t\t\t\t\tstyle= {{cursor:'pointer'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{' ' + v}\n\t\t\t\t\t\t\n\t\t\t\t\t</button>)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import React, {useState} from 'react'\nimport MenuButton from '../MenuButton'\nimport InfoTab from '../../Containers/InfoTab'\nimport InfoTabContainer from '../../Containers/InfoTabContainer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretDown, faFilter, faPlus} from '@fortawesome/free-solid-svg-icons'\nimport FilterMenu from './FilterMenu'\n\nexport default function TheadButton(props){\n\t\n\t//Checks if the header has an active filter, to show a different icon\n\tconst [defaultTab, setDefaultTab] = useState(props.noFilter ? 'sort' : 'filter')\n\t\n\t//filter tab - if the correct props are available to enable filtering\n\tlet filterMenu = null\n\tfilterMenu = <InfoTab tabID='filter' tabTitle='Filter' hidden = {props.noFilter}>\n\t\t<FilterMenu\n\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\theader = {props.header}\n\t\t\tdata = {props.data}\n\t\t>\n\t\t\t<button>\n\t\t\t\t<FontAwesomeIcon icon={faPlus} />\n\t\t\t\t<span style={{\n\t\t\t\t\tpaddingLeft:'10px',\n\t\t\t\t}}>More Filters</span> \n\t\t\t</button>\n\t\t\t\n\t\t</FilterMenu>\n\t</InfoTab>\n\t\n\t\n\t//Sort tab - if the correct props are available to enable sorting\n\tlet sortMenu = <InfoTab tabID='sort' tabTitle='Sort' hidden={props.noSort}>\n\t\t<button>Sort Test</button>\n\t</InfoTab>\n\t\n\t//Combine available tabs - if at least one is avilable\n\tlet overallMenu = <div>\n\t\t<InfoTabContainer defaultTab = {defaultTab} onTabChange = {(tabID)=>{\n\t\t\tsetDefaultTab(tabID)\n\t\t}}>\n\t\t\t{filterMenu}\n\t\t\t{sortMenu}\n\t\t</InfoTabContainer>\n\t</div>\n\t\n\t\n\t//if there is a menu, add a dropdown icon\n\tlet icon = <FontAwesomeIcon icon={faCaretDown} />\n\tlet iconClass = ''\n\tif (props.header.hasFilter()) { \n\t\ticon = <FontAwesomeIcon icon={faFilter} />\n\t\ticonClass = 'smallerIcon'\n\t}\n\t\n\tif(props.noSort && props.noFilter) { \n\t\t\n\t\treturn(props.children)\n\t\t\n\t} else{\n\t\treturn (\n\t\t\t<MenuButton \n\t\t\t\tclassName='TheadButton' \n\t\t\t\tlocked = {false} menuContent={overallMenu}\n\t\t\t\tmaxHeight = '50vh'\n\t\t\t>\n\t\t\t\t{props.children}\n\t\t\t\t<span className = {iconClass}>{icon}</span>\t\t\t\n\t\t\t</MenuButton>\n\t\t)\n\t}\n}","import React from 'react'\nimport Proptypes from 'prop-types'\nimport {v4 as uuid} from 'uuid'\n\nexport default function CheckButton(props) {\n\t\n\tconst checkID = uuid()\n\t\n\tfunction clickHandler(e, id) {\n\t\tif(!props.disabled){\n\t\t\tconst cb = document.getElementById(id)\n\t\t\tif (e.target !== cb) {cb.checked = !cb.checked}\n\t\t\t\n\t\t\tif(props.onClick){props.onClick(cb.checked, props.value)}\n\t\t}\n\t}\n\t\n\treturn (<button\n\t\tonClick={(e) => clickHandler(e, checkID)}\n\t\tstyle ={{color: 'var(--mainTextColor'}}\n\t>\n\n\t\t<input\n\t\t\ttype='checkbox'\n\t\t\tdefaultChecked={props.defaultChecked}\n\t\t\tid={checkID}\n\t\t\tvalue={props.value}\n\t\t\tstyle={{cursor: 'pointer'}}\n\t\t\tdisabled = {props.disabled}\n\t\t/>\n\t\t{' '}\n\t\t{props.children}\n\n\t</button>)\n\t\n}\n\n\nCheckButton.propTypes={\n\tdefaultChecked: Proptypes.bool,\n\tvalue: Proptypes.any,\n\tlabel: Proptypes.string,\n\tonClick: Proptypes.func,\n\tdisabled: Proptypes.bool,\n}","import React from 'react'\nimport CheckButton from './CheckButton'\nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCog} from '@fortawesome/free-solid-svg-icons'\nimport MenuButton from '../MenuButton'\n\nexport default function TableSettings(props) {\n\n\tfunction clickHandler(checked, idx){\n\t\tprops.setTransitionClass('noTransition')\n\t\tlet reFilter = false\n\t\t\n\t\tprops.headers.set(\n\t\t\tproduce(props.headers.get(), (draftHeaders) => {\n\t\t\t\tdraftHeaders[idx].visible = checked\n\t\t\t\t\n\t\t\t\tif (!checked && draftHeaders[idx].hasFilter()){\n\t\t\t\t\tdraftHeaders[idx].clearFilter()\n\t\t\t\t\treFilter = true\n\t\t\t\t}\t\n\t\t\t})\n\t\t)\n\t\t\n\t\tsetTimeout(()=>{\n\t\t\tif(reFilter){props.data.filter()}\n\t\t\tprops.setTransitionClass('')\n\t\t},0)\n\t}\n\t\n\treturn (<MenuButton \n\t\t\tlocked={false} \n\t\t\tmenuContent={\n\t\t\t<div>\n\t\t\t\t{props.headers.get().map((h) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<CheckButton\n\t\t\t\t\t\t\tkey={'customizeHeader' + h.headerID}\n\t\t\t\t\t\t\tdisabled={h.required}\n\t\t\t\t\t\t\tdefaultChecked={h.visible}\n\t\t\t\t\t\t\tvalue={h.index}\n\t\t\t\t\t\t\tonClick={clickHandler}\n\t\t\t\t\t\t>{h.displayName}</CheckButton>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</div>\n\t\t}>\n\t\t<FontAwesomeIcon icon={faCog} /> Table Settings\n\t</MenuButton>\n\t\t\n\t)\n}","import React from 'react'\nimport TableSettings from './TableSettings'\nimport MenuButton from '../MenuButton'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport {faTimesCircle, faFilter, faSortAmountUp } from '@fortawesome/free-solid-svg-icons'\nimport Popup from '../Popup'\nimport TextBox from '../../Inputs/TextBox'\nimport FreeButton from '../../Inputs/FreeButton'\nimport useSystem from '../../../Hooks/UseSystem'\n\nexport default function TableControls(props) {\n\tlet clearFilterButton = null\n\tlet sortButton = null\n\tlet filterButton = null\n\tlet settingsButton = null\n\t\n\tconst System = useSystem()\n\n\tif (props.hasFilter && !props.noFilter) {\n\t\tclearFilterButton = <button\n\t\t\tonClick={props.clearFilter}\n\t\t><FontAwesomeIcon icon={faTimesCircle} /> Clear Filter</button>\n\t}\n\n\tif (!props.noFilter) {\n\t\tfilterButton = <MenuButton menuContent = {\n\t\t\t<div>\n\t\t\t\t<MenuButton menuContent={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button>Outstanding Tasks</button>\n\t\t\t\t\t\t<button>Assigned To Me</button>\n\t\t\t\t\t\t<button>Due Soon</button>\n\t\t\t\t\t</div>\n\t\t\t\t}>Saved Filters</MenuButton>\n\t\t\t\t\n\t\t\t\t<button onClick = {()=>{\n\t\t\t\t\tSystem.openPopup(<Popup title = 'Save Filter'>\n\t\t\t\t\t\t<label>Filter Name: </label><TextBox/>\n\t\t\t\t\t\t<FreeButton\n\t\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\t\tSystem.closePopup()\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>Save</FreeButton>\n\t\t\t\t\t</Popup>)\n\t\t\t\t}}\n\t\t\t\t>Save Current Filter</button>\n\t\t\t\t\n\t\t\t</div>\n\t\t}>\n\t\t\t<span className='smallIcon'>\n\t\t\t\t<FontAwesomeIcon icon={faFilter} />\n\t\t\t</span> Filter\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noSort) {\n\t\tsortButton = <MenuButton menuContent={\n\t\t\t<MenuButton menuContent={\n\t\t\t\t<div>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t\t<button>test2</button>\n\t\t\t\t</div>\n\t\t\t}>test</MenuButton>\n\t\t}>\n\t\t\t<FontAwesomeIcon icon={faSortAmountUp} /> Sort\n\t\t</MenuButton>\n\t}\n\n\tif (!props.noOptions) {\n\t\tsettingsButton = <TableSettings\n\t\t\theaders={props.dataHeaders}\n\t\t\tdata={props.data}\n\t\t\tsetTransitionClass = {props.setTransitionClass}\n\t\t/>\n\t}\n\n\treturn (\n\t\t<div className='tableControls'>\n\t\t\t{settingsButton}\n\t\t\t{sortButton}\n\t\t\t{filterButton}\n\t\t\t{clearFilterButton}\n\t\t</div>\n\t)\n}","import React, {useState, useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport './MainTable.css'\nimport MainTableRow from './DisplaySupport/MainTableRow'\nimport lockedContext from '../../Contexts/LockedContext'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport TheadButton from './DisplaySupport/TheadButton' \nimport produce from 'immer'\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport {faCaretLeft, faCaretRight} from '@fortawesome/free-solid-svg-icons'\nimport TableControls from './DisplaySupport/TableControls'\n\nexport default function MainTable(props){\n\t\n\t//Sorting and filtering are optional (via props), only supported with if a dataset is provided\n\tlet noSort = props.noSort   \n\tlet noFilter = props.noFilter\n\tlet noOptions = props.noOptions\n\t\n\t//support for dataSets or for just arrays\n\tlet data = props.data\n\tif(!Array.isArray(props.data) ){\n\t\tdata = data.read()\n\t} else{\n\t\tnoSort = true\n\t\tnoFilter = true\n\t}\n\t\n\t//For dataSets - runs when dataSet refreshes (sets the filter options to match)\n\tuseEffect(()=>{\n\t\tif(!noFilter){\n\t\t\tprops.dataHeaders.embedData(data)\n\t\t\tprops.data.setHeaders(props.dataHeaders)\n\t\t}\n\t}, [props.data.lastResolved])\n\t\n\t//Active page handling\n\tconst [activePage, setActivePage] = useState(0)\n\t\n\t//get the length of the data with teh filter applied\n\tlet dataLength = 0\n\tdata.forEach((r)=>{\n\t\tif(r.TouchPointMetaVisible){dataLength = dataLength + 1}\n\t})\n\t\n\t//if there's no way to set the active record, then no record is active\n\tlet activeRecord\n\tif(props.activeRecord && props.setActiveRecord){activeRecord = props.activeRecord}\n\t\n\t//default page Size\n\tlet pageSize = props.pageSize\n\tif(!pageSize){ pageSize = 500}\n\t\n\t//deccides if the component is locked based on props and parents in the tree\n\tconst lockedFromAbove = useContext(lockedContext)\n\tconst locked = props.locked || (lockedFromAbove && props.locked ===undefined)\n\t\n\t//If clicking sets the active record then its animated\n\t//if there are editable cells the animations will be cancelled\n\tlet dynamic\n\tif(props.setActiveRecord){dynamic = true} \n\t\n\t//Normalize column widths to ensure they always add up to 100%\n\tlet totalWidth = 0\n\tlet hasFilter = false\n\tprops.dataHeaders.get().forEach(hdr => {\n\t\tif(hdr.visible){totalWidth = totalWidth + hdr.width}\n\t\t\n\t\t//if you have input cells in the table, hover effects will be cancelled\n\t\tif(hdr.onEdit){dynamic = false}\n\t\t\n\t\t//check if any headers have active filters (to show a clear filter button)\n\t\tif(hdr.hasFilter()){hasFilter = true}\n\t})\n\t\n\t//access the parent module context for searching \n\tconst moduleData = useContext(moduleContext)\n\tlet searchText\n\tif(props.searchable){searchText = moduleData.searchText}\n\t\n\t//Counter for rendered rows\n\tlet i = 1\n\t\n\t//Buttons for page controls\n\tfunction pageForward(){\n\t\tif (activePage < Math.floor(dataLength/pageSize)-1){\n\t\t\tsetActivePage(activePage + 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction BackButton(){ \n\t\tif(activePage > 0){return(\n\t\t\t<button\n\t\t\t\tonClick={pageBack}\n\t\t\t>\n\t\t\t\t<FontAwesomeIcon icon = {faCaretLeft}/>\n\t\t\t</button>\n\t\t)} else return null\n\t}\n\t\n\tfunction pageBack(){\n\t\tif (activePage > 0){\n\t\t\tsetActivePage(activePage - 1)\n\t\t}\n\t\ti = 1\n\t}\n\t\n\tfunction ForwardButton(){ \n\t\tif(activePage < Math.floor(dataLength/pageSize) - 1){return(\n\t\t\t<button\n\t\t\t\tonClick={pageForward}\n\t\t\t><FontAwesomeIcon icon = {faCaretRight}/></button>\n\t\t)} else return null\n\t}\n\t\n\tfunction clearFilter(){\n\t\tprops.dataHeaders.set(produce(props.dataHeaders.get(), draft =>{\n\t\t\tdraft.forEach(hdr=>{\n\t\t\t\thdr.clearFilter()\n\t\t\t})\n\t\t}))\n\t\t\n\t\tprops.data.filter()\n\t}\n\t\n\tfunction PageControls(){\n\t\tif(dataLength > pageSize){\n\t\t\treturn( <div className=\"pageControls\">\n\t\t\t\t<BackButton/>\n\t\t\t\t\n\t\t\t\t<button className='textButton'>Showing {1+activePage*pageSize}-\n\t\t\t\t{Math.min((1+activePage)*pageSize, dataLength) +' '}\n\t\t\t\tof {`  ${dataLength}`}</button>  \n\t\t\t\t\n\t\t\t\t<ForwardButton/>\n\t\t\t</div>)\n\t\t} else return null\n\t}\n\t\n\tconst [transitionClass, setTransitionClass] = useState('')\n\t\n\t//Render\n\treturn (\n\t\t<div className={\"MainTable \" + transitionClass}>\n\t\t\t\n\t\t\t{/* Header Titles */}\n\t\t\t<div className=\"titleBar\">\n\t\t\t\t<div className=\"topBar\">\n\t\t\t\t\t<TableControls\n\t\t\t\t\t\thasFilter = {hasFilter}\n\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\tclearFilter = {clearFilter}\n\t\t\t\t\t\tnoOptions = {noOptions}\n\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\tsetTransitionClass ={setTransitionClass}\n\t\t\t\t\t/>\n\t\t\t\t\t<PageControls/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div className=\"theadBar\">\n\t\t\t\t\t{props.dataHeaders.get().map((hdr) => {\n\t\t\t\t\t\thdr.width = 99 * (hdr.width/totalWidth)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(hdr.visible){return(\n\t\t\t\t\t\t\t<span style={{width: hdr.width + '%'}} key = {'header'+hdr.headerID}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<TheadButton\n\t\t\t\t\t\t\t\t\theader = {hdr}\n\t\t\t\t\t\t\t\t\tdata = {props.data}\n\t\t\t\t\t\t\t\t\tdataHeaders = {props.dataHeaders}\n\t\t\t\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\t\t\t\tnoSort = {noSort}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{hdr.displayName + ' '}\n\t\t\t\t\t\t\t\t</TheadButton>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)} else return null\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Table body data */}\n\t\t\t<div className = {'tableBody ' + props.data.lastResolved}>\n\t\t\t\t{data.map((dr) => {\n\t\t\t\t\t//render the allowed numebr of rows, on th selected page\n\t\t\t\t\tif((i > activePage * pageSize) && (i <= (1 + activePage)*pageSize)){\n\t\t\t\t\t\tconst r = <MainTableRow\n\t\t\t\t\t\t\tdataRow = {dr}\n\t\t\t\t\t\t\tdataHeaders={props.dataHeaders.get()}\n\t\t\t\t\t\t\tsetActiveRecord = {props.setActiveRecord}\n\t\t\t\t\t\t\tactiveRecord = {activeRecord}\n\t\t\t\t\t\t\trowKey = {'MainTableRow'+i}\n\t\t\t\t\t\t\tkey = {'MainTableRow'+i}\n\t\t\t\t\t\t\tlocked = {locked}\n\t\t\t\t\t\t\tdynamic = {dynamic}\n\t\t\t\t\t\t\tsearchText = {searchText}\n\t\t\t\t\t\t\tnoFilter = {noFilter}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(r){i++}//Count the number of rows actually renedered (not filtered out)\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn(r)\n\t\t\t\t\t} else if(i <= (1 + activePage)*pageSize){i++}\n\t\t\t\t\t\n\t\t\t\t\treturn null\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n//Proptypes\nMainTable.propTypes = {\n\tsetActiveRecord: PropTypes.func,\n\tonEdit: PropTypes.func,\n\tdataHeaders: PropTypes.object.isRequired,\n\t\n\tdata: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.array\n\t]).isRequired,\n\t\n\tpageSize: PropTypes.number,\n\tlocked: PropTypes.bool,\n\tsearchable: PropTypes.bool,\n\tnoSort: PropTypes.bool,\n\tnoFilter: PropTypes.bool,\n\tnoOptions: PropTypes.bool,\n}\n\n","import React, {useState} from 'react'\nimport './Module.css'\nimport moduleContext from '../../Contexts/ModuleContext'\nimport PropTypes from 'prop-types'\n\nexport default function Module(props) {\n\n\tconst [searchText, setSearchText] = useState('')\n\t\n\tconst moduleData ={\n\t\tsearchText: searchText,\n\t\tsetSearchText: setSearchText\n\t}\n\t\n\treturn (\n\t\t<moduleContext.Provider value ={moduleData}>\n\t\t\t\n\t\t\t<div className={'Module ' + props.moduleName}>\n\t\t\t\t{props.children}\t\n\t\t\t</div>\n\t\t\t\n\t\t</moduleContext.Provider>\n\t)\n}\n\n//Proptypes\nModule.propTypes = {\n\tmoduleName: PropTypes.string,\n}\n","import React from 'react'\nimport './SplitScreen.css'\nimport Split from 'react-split'\nimport PropTypes from 'prop-types'\n\nexport default function SplitScreen(props) {\n\t\n\tlet splitSize = 50\n\tif(props.defaultSize){splitSize = props.defaultSize}\n\t\n\treturn (\n\t\t<div className='SplitScreen'>\n\t\t\t<Split \n\t\t\t\tdirection=\"vertical\" sizes={[100 - splitSize, splitSize]}\n\t\t\t\tminSize={150}\n\t\t\t\tgutterSize={8}\n\t\t\t\tsnapOffset={1}\n\t\t\t>\n\t\t\t\t<div className=\"topView\"></div>\n\t\t\t\t\n\t\t\t\t<div className=\"bottomView\">\n\t\t\t\t\t{props.children}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t</Split>\n\t\t</div>\n\t)\n}\n\n//Proptypes\nSplitScreen.propTypes = {\n\tdefaultSize: PropTypes.number,\n\t\n}","export default class DataType{\n\t\n\tconstructor(kind, options){\n\t\tif(kind){this.kind = kind.toLowerCase()} else{this.kind = 'string'}\n\t\tthis.options = options\n\t}\n\t\n\t//checks if an input is valid for the datatype\n\tvalidate(input){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\treturn true\n\t\t\t\n\t\t\tcase 'number':\n\t\t\t\ttry{\n\t\t\t\t\tparseFloat(input)\t\n\t\t\t\t\treturn true\n\t\t\t\t} catch(err){return false}\n\t\t\t\t\n\t\t\tcase 'list':\n\t\t\t\tif(this.options.includes.listValues(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\n\t\t\t\n\t\t\tcase 'custom':\n\t\t\t\t//This needs so much work...\n\t\t\t\tif(this.options.validator(input)){\n\t\t\t\t\treturn true\n\t\t\t\t} else{return false}\t\t\t\t\n\t\t}\n\t\t\n\t\t//if its not a valid type then ignore validation and just return true\n\t\treturn true\n\t}\n\t\n\t//Compares a value an search string to see if the value should be included in the search\n\tsearch(value, searchText){\n\t\tswitch(this.kind){\n\t\t\tcase 'string': \n\t\t\t\tif (typeof value  === 'string'){\n\t\t\t\t\tvalue = value.toLowerCase()\n\t\t\t\t\treturn value.includes(searchText.toLowerCase())\n\t\t\t\t} else{return false}\n\t\t}\n\t\t\n\t\t//if its not a vald type just return false until i deccide how to handle this better\n\t\treturn false\n\t}\n\t\n}\n\n\n","import DataType from \"./DataType\"\n\nexport default class DataHeader{\n\t\n\tconstructor(headerID, displayName, width, dataType, required = false, styling, onEdit, locked, visible = true){\n\t\tthis.headerID = headerID\n\t\tthis.displayName = displayName\n\t\tthis.width = width\n\t\tthis.required = required\n\t\tthis.visible = visible\n\t\t\n\t\tthis.uniqueValues = {}\n\t\t\n\t\t//Default filter list only has 1 functions (array filter)\n\t\t//By default no values are selected, which is the same as saying 'select all'\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {func: (cellValue)=>{\n\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t}, displayName: 'Array Filter'}\n\t\t}\n\t\t\n\t\tthis.onEdit = onEdit\n\t\tthis.locked = locked\n\t\t\n\t\t//default dataType is String\n\t\tif(dataType){ this.dataType = dataType }else{ this.dataType = new DataType('string') }\n\t\t\n\t\tthis.styling = styling\n\t}\n\t\n\t\n\tfilter(cellValue, dataRow){\n\t\t//Check if any of the filters fail\n\t\t//If any filters fail, res will be true. Return the opposite\n\t\treturn !Object.keys(this.filterList).some( (f)=>{\n\t\t\treturn !this.filterList[f].func(cellValue, dataRow)\n\t\t})\n\t}\n\t\n\t\n\taddFilter(filterID, filterFunction, displayName){\n\t\tthis.filterList[filterID] = {func: filterFunction, displayName: displayName, id: filterID}\n\t}\n\t\n\t\n\tremoveFilter(filterID){\n\t\tdelete this.filterList[filterID]\n\t}\n\t\n\t\n\t//Saves a list of unique values in the column - to be used in the filter dropdowns\n\tembedData(data){\n\t\tthis.uniqueValues = uniqueByColumn(data, this.headerID, this.uniqueValues)\n\t}\n\t\n\t\n\tselectAll(setVal){\n\t\tObject.keys(this.uniqueValues).map((uv)=>{\n\t\t\tthis.uniqueValues[uv] = setVal\n\t\t})\n\t}\n\t\n\t//checks if there are any active filters, including the array filter\n\thasFilter(){\n\t\t//array filter is always there, check if any other filters are there\n\t\tlet testRes = Object.keys(this.filterList).length === 1\n\t\t\n\t\t//if there are no other filters, check if the array filter is active\n\t\tif(testRes){\n\t\t\tObject.keys(this.uniqueValues).forEach((val) => {\n\t\t\t\tif (!this.uniqueValues[val]){testRes = false}\n\t\t\t})\n\t\t}\n\n\t\treturn !testRes\n\t}\n\t\n\tclearFilter(){\n\t\tthis.filterList = {\n\t\t\tarrayFilter: {\n\t\t\t\tfunc: (cellValue) => {\n\t\t\t\t\treturn (this.uniqueValues[cellValue] || this.uniqueValues[cellValue] === undefined)\n\t\t\t\t}, displayName: 'Array Filter'\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.selectAll(true)\n\t}\n\t\n\tsetVisible(bool){\n\t\tthis.visible = bool\n\t}\n}\n\n\n//Returns an array of unique values from a column of DataRow objects\nfunction uniqueByColumn(data, columnID, oldValues) {\n\tconst res = {}\n\t\n\tdata.forEach((r) => {\n\t\tif (r.TouchPointMetaVisible || r.TouchPointMetaFilteredBy === columnID + ';'){\n\t\t\t//New vales added as true, old values keep their value\n\t\t\tif (oldValues[r[columnID]] === undefined){\n\t\t\t\tres[r[columnID]] = true\n\t\t\t} else{ \n\t\t\t\tres[r[columnID]] = oldValues[r[columnID]]\n\t\t\t}\n\t\t}\n\t})\n\n\treturn res\n}","import {useState} from 'react'\nimport produce from 'immer'\n\n\n//Initialises a Dataset and caches the value\nexport default function useDataset(fetchFunction, defaultValue = [{}]) {\n\n\t//The array contains an empty object by default\n\tconst [data, setData] = useState(defaultValue)\n\tconst [first, setFirst] = useState(true)\n\tconst [status, setStatus] = useState('Pending')\n\tconst [rejection, setRejection] = useState()\n\tconst [lastResolved, setLastResolved] = useState()\n\tconst [lastRejected, setLastRejected] = useState()\n\tconst [headers, setHeaders] = useState({ get: () => { return [] } })\n\n\t//Filters the data based on given headers\n\tfunction filterData(values) {\n\n\t\t//Apply the filters to the data (define what rows are visible)\n\t\treturn produce(values, (draftValues) => {\n\n\t\t\tdraftValues.map((r) => {\n\t\t\t\tr.TouchPointMetaFilteredBy = ''\n\n\t\t\t\tlet noRender = false\n\n\t\t\t\theaders.get().forEach((h) => {\n\t\t\t\t\tif (!h.filter(r[h.headerID], r)) {\n\t\t\t\t\t\tnoRender = true\n\t\t\t\t\t\tr.TouchPointMetaFilteredBy = r.TouchPointMetaFilteredBy + [h.headerID] + ';'\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tr.TouchPointMetaVisible = !noRender\n\n\t\t\t\treturn r\n\t\t\t})\n\t\t})\n\t}\n\n\n\t//Fetch data and update state once the operation is complete. Keep the old value in the meantime\n\tasync function fetchData() {\n\t\tsetStatus('Pending')\n\t\tconst res = fetchFunction()\n\n\t\ttry {\n\t\t\tconst value = filterData(await res)\n\n\t\t\tsetData(value)\n\t\t\tsetStatus('Resolved')\n\t\t\tsetRejection(null)\n\t\t\tsetLastResolved(Date())\n\n\t\t\treturn status\n\t\t} catch (e) {\n\t\t\tsetStatus('Rejected')\n\t\t\tsetRejection(e)\n\t\t\tsetLastRejected(Date())\n\n\t\t\treturn status\n\t\t}\n\t}\n\n\n\t//Automatically run the fetching function the first time, then wait for a refresh\n\tif (first) {\n\t\tsetFirst(false)\n\t\tfetchData()\n\t}\n\n\t//Return a Dataset object\n\treturn ({\n\t\tread: () => { return data },\n\n\t\trefresh: () => {\n\t\t\tif (status !== 'Pending') {\n\t\t\t\tfetchData()\n\t\t\t}\n\t\t},\n\n\t\tset: (val) => { setData(val) },\n\n\t\tstatus: status,\n\t\trejection: rejection,\n\t\tlastResolved: lastResolved,\n\t\tlastRejected: lastRejected,\n\t\tsetHeaders: setHeaders,\n\t\tisDataset: true,\n\t\tfilter: () => {\n\t\t\tconst newData = filterData(data)\n\t\t\tsetData(newData)\n\t\t\theaders.embedData(newData)\n\t\t}\n\t})\n}\n","import {useState} from 'react'\nimport produce from 'immer'\n\n\n//Crates a set of DataHeaders, for use with a mainTable\nexport default function useHeaders(dataHeaders = []) {\n\n\t//add an index prop to each DataHeader object, so it's easier to locate in the array \n\tfunction setIndex(hdr, i) {\n\t\thdr.index = i\n\t\treturn hdr\n\t}\n\n\t//Saves a list of unique values in each column (header) - to be used in the filter dropdowns\n\tfunction embedData(data) {\n\t\t//using Immer to edit the header state while keeping it immutable\n\t\tsetHeaders(produce(headers, (draft) => {\n\t\t\tdraft.map((hdr) => {\n\t\t\t\thdr.embedData(data)\n\t\t\t})\n\t\t}))\n\t}\n\n\tconst [headers, setHeaders] = useState(dataHeaders.map(setIndex))\n\n\treturn ({\n\t\tget: () => { return headers },\n\t\tset: (val) => { setHeaders(val.map(setIndex)) },\n\t\tembedData: embedData\n\t})\n}"],"names":["SystemPopupHandler","props","clickBackdrop","e","target","classList","contains","activePopup","forceOpen","system","closePopup","forceClass","popupEffect","lockedContext","createContext","SystemModuleContainer","n","layout","hasSystemToolbar","hasSystemFooter","styleSettings","height","width","ActiveModule","getModules","getActiveModule","getHomeModule","Object","keys","moduleList","locked","map","m","component","systemContext","SystemThemeEngine","themes","orange","tableActiveColor","mainTextColor","labelColor","lockedTextColor","navColor","navTextColor","navHoverColor","navClickedColor","bodyAltBG","cardBG","shadowColor","freeButtonNeutralBG","freeButtonPositiveBG","freeButtonNegativeBG","freeButtonTextColor","inputColor","blue","dark","themeName","themeData","toLowerCase","entries","forEach","key","value","document","documentElement","style","setProperty","localStorage","setItem","userName","setTheme","getItem","TouchPointApp","useState","setPopup","defaultModule","activeModule","setActiveModule","screenEffect","setScreenEffect","screenBlock","setScreenBlock","setPopupEffect","hasAppToolbar","setHasAppToolbar","hasAppFooter","setHasAppFooter","System","modules","hidden","homeModule","themeEngine","openModule","moduleName","window","location","href","disableInput","forTime","setTimeout","enableInput","openPopup","PopupComponent","io","useEffect","getUserTheme","getActiveUser","screenBlocker","children","propTypes","PropTypes","bool","object","isRequired","activeUser","string","any","useSystem","useContext","usePresence","componentName","AppToolbar","devMode","process","env","NODE_ENV","blur","faHome","name","AppFooter","v","getVersion","getSecurityProfile","number","environment","CoreButton","lockedFromAbove","undefined","lockedClass","clickHandler","onClick","className","func","FreeButton","purpose","wideClass","wide","Tile","splash","setSplash","splashScreen","icon","title","TextBox","changeHandler","onChange","blurHandler","onBlur","keyPressHandler","onEnter","defaultValue","placeholder","SearchBar","searchText","setSearchText","searchHandler","onSearch","hdden","faSearch","radioContext","RadioGroup","uuid","groupName","groupID","radioData","RadioButton","id","preventDefault","defaultChecked","labelValue","ControlButton","moduleContext","ControlBar","moduleData","searchState","setSearchState","clearTimeout","persist","searchBar","searchBarProps","CommentBox","styleSetings","ComboBox","kids","CloseButton","faTimes","CheckBox","label","InfoCard","stripe","titleBar","dynamic","dynamicX","dynamicY","closeHandler","stopPropagation","onClose","closeButton","Popup","handleCloseButton","menuContext","MenuButton","toggling","setToggling","toggleHandler","isOpen","onOpen","parentMenuData","submenu","faCaretRight","direction","dropButton","React","forwardRef","ref","menuStyle","maxHeight","dropMenu","menuContent","InputCell","initalValue","setInitialValue","focusHandler","keyHandler","keyCode","console","log","dataHeader","dataType","kind","dataRow","MainTableRow","renderRow","dynamicClass","pointerClass","setActiveRecord","activeClass","setActiveClass","rowClickHandler","activeRecord","dataHeaders","some","hdr","search","headerID","row","visible","TouchPointMetaVisible","noFilter","cellContent","onEdit","styling","rowKey","myStyle","color","textColor","backgroundColor","badgeColor","marginLeft","array","InfoTab","tabID","tabTitle","InfoTabContainer","defaultTab","onTabChange","Children","child","FilterMenu","values","header","uniqueValues","cb","getElementById","checked","set","produce","get","draftHeaders","index","data","filter","selectAll","hasFilter","cursor","i","TheadButton","setDefaultTab","filterMenu","faPlus","paddingLeft","sortMenu","noSort","overallMenu","faCaretDown","iconClass","faFilter","CheckButton","checkID","disabled","Proptypes","TableSettings","idx","setTransitionClass","reFilter","headers","clearFilter","h","required","displayName","faCog","TableControls","clearFilterButton","sortButton","filterButton","settingsButton","faTimesCircle","faSortAmountUp","noOptions","MainTable","Array","isArray","read","embedData","setHeaders","lastResolved","activePage","setActivePage","dataLength","r","pageSize","totalWidth","searchable","pageForward","Math","floor","BackButton","pageBack","faCaretLeft","ForwardButton","draft","PageControls","min","transitionClass","dr","oneOfType","Module","SplitScreen","splitSize","defaultSize","DataType","options","input","parseFloat","err","includes","listValues","validator","DataHeader","filterList","arrayFilter","cellValue","f","filterID","filterFunction","uniqueByColumn","setVal","uv","testRes","length","val","columnID","oldValues","res","TouchPointMetaFilteredBy","useDataset","fetchFunction","setData","first","setFirst","status","setStatus","rejection","setRejection","setLastResolved","lastRejected","setLastRejected","filterData","draftValues","noRender","fetchData","Date","refresh","isDataset","newData","useHeaders","setIndex"],"mappings":"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"}